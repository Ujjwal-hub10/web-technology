"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[79620],{"./components/card-heading/index.jsx":(e,s,t)=>{t.d(s,{Z:()=>l});var r=t("../node_modules/classnames/index.js"),n=t.n(r),o=t("../node_modules/lodash-es/includes.js"),a=t("../node_modules/prop-types/index.js"),c=t.n(a),i=t("../node_modules/react/index.js"),u=t("./lib/formatting/prevent-widows.js");const d=[54,48,47,36,32,24,21,20,16,14,12,11];function p({tagName:e="h1",size:s=20,isBold:t=!1,className:r,id:a,children:c}){const p={};p["card-heading-"+s]=(0,o.Z)(d,s);const l=n()("card-heading",t&&"card-heading__bold",r&&r,p);return(0,i.createElement)(e,{className:l,id:a},(0,u.R)(c,2))}p.propTypes={tagName:c().string,size:c().number,isBold:c().bool,className:c().string,id:c().string};const l=p},"./lib/cart-values/cart-items.ts":(e,s,t)=>{t.d(s,{BO:()=>ae,KV:()=>oe,Z2:()=>ie,tQ:()=>Z,YG:()=>Ne,Ax:()=>he,XC:()=>$,OX:()=>ue,jV:()=>ke,sA:()=>O,J2:()=>de,td:()=>pe,z_:()=>q,Xo:()=>H,ni:()=>M,lG:()=>ve,jL:()=>K,nb:()=>G,sR:()=>fe,au:()=>T,_e:()=>J,bw:()=>F,c_:()=>V,qE:()=>P,SA:()=>U,nR:()=>B,ps:()=>W,v:()=>Q,Nm:()=>Y,vo:()=>Re,sr:()=>z,ii:()=>_e,pv:()=>Ie,iI:()=>X,zi:()=>Se,QT:()=>je,uV:()=>be,s9:()=>De,vA:()=>ne,Zx:()=>ee,s:()=>Ce,wW:()=>ce,o_:()=>se,bM:()=>re,Bi:()=>me,nZ:()=>ge,al:()=>we});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts");var n=t("../packages/calypso-products/src/is-difm-product.ts"),o=t("../packages/calypso-products/src/is-plan.ts"),a=t("../packages/calypso-products/src/is-jetpack-plan.ts"),c=t("../packages/calypso-products/src/is-p2-plus.ts"),i=t("../packages/calypso-products/src/is-ecommerce.ts"),u=t("../packages/calypso-products/src/is-blogger.ts"),d=t("../packages/calypso-products/src/is-personal.ts"),p=t("../packages/calypso-products/src/is-premium.ts"),l=t("../packages/calypso-products/src/is-pro.ts"),g=t("../packages/calypso-products/src/is-business.ts"),m=t("../packages/calypso-products/src/is-starter.ts"),f=t("../packages/calypso-products/src/is-domain-registration.ts"),_=t("../packages/calypso-products/src/is-domain-transfer.ts"),h=t("../packages/calypso-products/src/main.ts"),y=t("../packages/calypso-products/src/plans-utilities.ts"),k=t("../packages/calypso-products/src/is-gsuite-or-extra-license-or-google-workspace.ts"),v=t("../packages/calypso-products/src/constants/google.ts"),w=t("../packages/calypso-products/src/constants/titan.ts"),b=t("../packages/calypso-products/src/is-titan-mail.ts"),S=t("../packages/calypso-products/src/is-jetpack-product.ts"),E=t("../packages/calypso-products/src/is-unlimited-themes.ts"),x=t("../packages/calypso-products/src/is-custom-design.ts"),C=t("../packages/calypso-products/src/is-no-ads.ts"),I=t("../packages/calypso-products/src/is-site-redirect.ts"),j=t("../packages/calypso-products/src/is-gsuite-or-google-workspace.ts"),D=t("../packages/calypso-products/src/is-domain-product.ts"),N=t("../packages/calypso-products/src/is-domain-mapping.ts"),R=t("../packages/wpcom-checkout/src/is-wpcom-product-renewal.ts"),A=t("./lib/domains/get-tld.js"),L=t("../packages/calypso-products/src/constants/domain.ts");function Z(e){return e&&e.products||[]}function O(e){return Z(e).filter(R.n)}function M(e){return e&&Z(e).some(n.F)}function P(e){return e&&Z(e).some(o._)}function T(e){return Z(e).some(a.n)}function F(e){return Z(e).some(c.F)}function G(e){return e&&Z(e).some(i.S)}function q(e){return Z(e).some(u.f)}function V(e){return Z(e).some(d.X)}function U(e){return Z(e).some(p.I)}function B(e){return Z(e).some(l._)}function H(e){return Z(e).some(g.z)}function z(e){return Z(e).some(m.S)}function W(e,s){return Z(e).some((function(e){return e.product_slug===s}))}function K(e){return Z(e).some(f.p)}function Y(e){return Z(e).some(R.n)}function X(e){return Z(e).some(_.m)}function $(e){return Z(e).filter((e=>e.product_slug===L.c.TRANSFER_IN))}function J(e){return Z(e).every((e=>(0,R.n)(e)||"wordpress-com-credits"===e.product_slug))}function Q(e){return e.products&&Z(e).some((e=>function(e){const s=e.bill_period?parseInt(e.bill_period,10):void 0;if(!Number.isInteger(s)){const s=(0,h.Wh)(e.product_slug);if(s)return(0,y.cU)(s.term)??0}return s??0}(e)>0))}function ee(e){return(0,h.OY)(e)?null:{product_slug:e}}function se(e,s){return Object.values(s).find((s=>s.product_slug===e))?.is_privacy_protection_product_purchase_allowed??!1}function te(e,s,t){const r=t?{extra:{source:t}}:void 0;return Object.assign({product_slug:e,meta:s},r)}function re(e,s){return{product_slug:"premium_theme",meta:e,extra:{source:s}}}function ne(e){return{product_slug:e}}function oe(e){return{...te(e.productSlug,e.domain,e.source),is_domain_registration:!0,...e.extra?{extra:e.extra}:{}}}function ae(e){return te("domain_map",e.domain,e.source)}function ce(e){if(!e.domain)throw new Error("Site redirect product requires a domain");return te("offsite_redirect",e.domain,e.source)}function ie(e){return{...te(L.c.TRANSFER_IN,e.domain,e.source),...e.extra?{extra:e.extra}:{}}}function ue(e){return Z(e).filter(k.H)}function de(e){const{quantity:s,new_quantity:t,users:n}=e,o="meta"in e?e.meta:e.domain;if(!o)throw new Error("A domain is required for a Google Apps item");const a={google_apps_users:n,...t?{new_quantity:t}:{}};return{...te((0,r.e)(e)||v.QP,o),...s?{quantity:s}:{},extra:a}}function pe(e){return{...te(v.WN,e.domain,e.source),extra:{google_apps_users:e.users}}}function le(e,s){const t=e.meta??e.domain;if(!t)throw new Error("Titan mail requires a domain");return{...te(s,t,e.source),quantity:e.quantity,extra:e.extra}}function ge(e){return le(e,w.M7)}function me(e){return le(e,w.A$)}function fe(e){return Z(e).some(k.H)}function _e(e){return Z(e).some(b.$)}function he(e){return Z(e).filter((e=>!0===e.is_domain_registration))}function ye(e,s){const t=(0,r.e)(e);return function(e){return["1gb_space_upgrade","5gb_space_upgrade","10gb_space_upgrade","50gb_space_upgrade","100gb_space_upgrade"].includes((0,r.e)(e))}(e)||(0,S.y)(e)?function(e){return{product_slug:e}}(t):(0,E.F)(e)?{product_slug:"unlimited_themes"}:function(e){return"unlimited_space"===(0,r.e)(e)}(e)?{product_slug:"unlimited_space"}:function(e){return"videopress"===(0,r.e)(e)}(e)?{product_slug:"videopress"}:(0,x.n)(e)?{product_slug:"custom-design"}:(0,C.Q)(e)?{product_slug:"no-adverts/no-adverts.php"}:(0,I.J)(e)?ce(s):(0,b.$)(e)?le(e,t):(0,j.E)(e)?de(e):(0,o._)(e)?ee(t):(0,D.p)(e)?te(t,s.domain??""):function(e){return Boolean(e.isRenewable)}(e)?function(e){return{product_slug:e}}(t):void 0}function ke(e,s){const t=ye(e,s);if(!t)throw new Error("This product cannot be renewed.");return function(e,s){return{...e,extra:{...e.extra,purchaseId:s.id,purchaseType:"renewal"}}}(t,e)}function ve(e,s){return Z(e).some((e=>!0===e.is_domain_registration&&e.meta===s))}function we(e,s){return{...e,extra:{...e.extra,privacy:s}}}function be(e,s=""){return!(!e||!e.next_domain_is_free)&&("blog"!==e.next_domain_condition||"blog"===(0,A.m)(s))}function Se(e,s){const t=e?.bundled_domain??"";return""!==t&&(s??"").toLowerCase()===t.toLowerCase()}function Ee(e,s){if(!e||!s)return!1;if(!P(e))return!1;if(!(s===(he(e).concat(function(e){return Z(e).filter((e=>"domain_map"===e.product_slug))}(e)).shift()||{meta:""}).meta))return!1;if(q(e)){if("blog"!==s.split(".").pop())return!1}return!0}function xe(e){return Boolean(e.product_slug||e.productSlug)}function Ce(e,s,t,r){return Boolean(e&&((0,f.p)(r)||xe(r)&&(0,N.I)(r)||r.domain_name&&!(!0===r.is_free))&&!Ee(t,r.domain_name)&&!be(t)&&!P(t)&&(!s||s&&"free_plan"===s.plan.product_slug))}function Ie(e,s,t){if(!t||!(0,A.m)(t))return!1;const r=((e||{}).plan||{}).product_slug,n="blog".startsWith((0,A.m)(t));return!(!r||!(0,h.RJ)(r)||n)||!(!q(s)||n)}function je(e){return Boolean(e&&(0,o._)(e.plan)&&!(0,h.en)(e.plan.product_slug))}function De(e){return"PRICE"===e}function Ne(e,s,t,r,n,o,a){return r.product_slug&&"Free"!==r.cost?r?.is_premium||(e=>Boolean(e&&["free","personal-monthly","premium-monthly","business-monthly","ecommerce-monthly"].includes(e)))(o)?"PRICE":a||Ee(t,r.domain_name)?"FREE_WITH_PLAN":xe(r)&&(0,N.I)(r)?je(s)?"FREE_WITH_PLAN":e?"INCLUDED_IN_HIGHER_PLAN":"PRICE":n?"PRICE":be(t,r.domain_name)?"FREE_WITH_PLAN":Ce(e,s,t,r)?"INCLUDED_IN_HIGHER_PLAN":Ie(s,t,r.domain_name)?"UPGRADE_TO_HIGHER_PLAN_TO_BUY":"PRICE":"FREE_DOMAIN"}function Re(e){return Z(e).some((function(e){return e.time_added_to_cart&&1e3*e.time_added_to_cart<Date.now()-6e5}))}},"./lib/domains/get-tld.js":(e,s,t)=>{t.d(s,{m:()=>o});const r=JSON.parse('{"co.in":1,"co.uk":1,"com.br":0,"com.mx":1,"firm.in":1,"gen.in":1,"ind.in":1,"me.uk":1,"net.br":0,"net.in":1,"org.in":1,"org.uk":1}');function n(e,s){if(!e)return"";if(void 0!==s[e])return e;return n(e.split(".").slice(1).join("."),s)}function o(e){const s=e.lastIndexOf(".");if(-1===s)return"";let t=n(e,r);return t||(t=e.substring(s+1)),t}},"./lib/version-compare/index.js":(e,s,t)=>{t.d(s,{Z:()=>r});const r=function(e,s,t){let r=0,n=0,o=0;const a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},c=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},i=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=c(e),s=c(s),n=Math.max(e.length,s.length),r=0;r<n;r++)if(e[r]!=s[r]){if(e[r]=i(e[r]),s[r]=i(s[r]),e[r]<s[r]){o=-1;break}if(e[r]>s[r]){o=1;break}}if(!t)return o;switch(t){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return o<=0;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return o<0;default:return null}}},"./my-sites/checkout/calypso-shopping-cart-provider.tsx":(e,s,t)=>{t.d(s,{Z:()=>x});var r=t("../node_modules/debug/src/browser.js"),n=t.n(r),o=t("../node_modules/react/index.js"),a=t("../packages/shopping-cart/src/shopping-cart-context.ts"),c=t("../packages/shopping-cart/src/shopping-cart-options-context.ts"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=n()("shopping-cart:shopping-cart-provider");function d({managerClient:e,options:s,children:t}){s||(s={}),u("rendering ShoppingCartProvider with options",s);const{refetchOnWindowFocus:r,defaultCartKey:n}=s,d=(0,o.useMemo)((()=>({refetchOnWindowFocus:r,defaultCartKey:n})),[r,n]);return(0,i.tZ)(c.Z.Provider,{value:d,children:(0,i.tZ)(a.Z.Provider,{value:e,children:t})})}var p=t("../packages/i18n-utils/src/localize-url.tsx"),l=t("../packages/shopping-cart/src/use-shopping-cart.ts");function g({cart:e,isLoadingCart:s,showErrorMessages:t,showSuccessMessages:r,shouldShowPersistentErrors:n}){const a=(0,o.useRef)(null);(0,o.useEffect)((()=>{a.current!==e&&(!function({cart:e,isLoadingCart:s,previousCart:t,showErrorMessages:r,showSuccessMessages:n,shouldShowPersistentErrors:o}){const a=e;if(s)return;const c=function(e,s){const t=s.messages||{},r=e?.cart_generated_at_timestamp,n=s.cart_generated_at_timestamp;if(!r||!n)return t;return new Date(n)>new Date(r)?t:{}}(t,a);c.errors?.length&&r(c.errors);c.success?.length&&n(c.success);c.persistent_errors?.length&&o&&r(c.persistent_errors)}({cart:e,isLoadingCart:s,previousCart:a.current,showErrorMessages:t,showSuccessMessages:r,shouldShowPersistentErrors:n}),a.current=e)}),[e,s,t,r,n])}var m=t("../packages/i18n-calypso/src/use-translate.js"),f=t("../node_modules/react-redux/es/index.js"),_=t("./lib/url/support.js"),h=t("./my-sites/checkout/use-cart-key.ts"),y=t("./state/notices/actions.ts"),k=t("./state/ui/selectors/get-selected-site-slug.js");function v({message:e}){const s=(0,f.v9)(k.Z),t=(0,m.Z)(),r=(0,o.useMemo)((()=>function(e,s){return function(t){switch(t.code){case"chargeback":return function({translate:e,selectedSiteSlug:s}){return e("{{strong}}Warning:{{/strong}} One or more transactions linked to this site were refunded due to a contested charge. This may have happened because of a chargeback by the credit card holder or a PayPal investigation. Each contested charge carries a fine. To resolve the issue and re-enable posting, please {{a}}pay for the chargeback fine{{/a}}.",{components:{strong:(0,i.tZ)("strong",{}),a:(0,i.tZ)("a",{href:"/checkout/"+s??""})}})}({translate:e,selectedSiteSlug:s});case"blocked":return function({translate:e,selectedSiteSlug:s}){return e("Purchases are currently disabled. Please {{a}}contact us{{/a}} to re-enable purchases.",{components:{a:(0,i.tZ)("a",{href:"https://wordpress.com/error-report/"+(s?"?url=payment@"+s:""),target:"_blank",rel:"noopener noreferrer"})}})}({translate:e,selectedSiteSlug:s});case"invalid-product-multisite":return function({translate:e,message:s}){return(0,i.BX)(i.HY,{children:[s," ",(0,i.tZ)("a",{href:(0,p.aq)(_.DT)+"backup/#does-jetpack-backup-support-multisite",target:"_blank",rel:"noopener noreferrer",children:e("More info")})]})}({translate:e,message:t.message});default:return t.message}}}(t,s)),[t,s]);return(0,i.tZ)(i.HY,{children:r(e)})}function w({shouldShowPersistentErrors:e}){const s=(0,h.Z)(),{responseCart:t,isLoading:r}=(0,l.Z)(s),n=(0,f.I0)();return g({cart:t,isLoadingCart:r,showErrorMessages:(0,o.useCallback)((e=>{S(e,n,"error")}),[n]),showSuccessMessages:(0,o.useCallback)((e=>{S(e,n,"success")}),[n]),shouldShowPersistentErrors:e??!1}),null}function b(e){switch(e.code){case"coupon-not-found":case"coupon-removed":case"coupon-removed-invalid":case"coupon-applied":return"coupon-message";default:return e.code}}function S(e,s,t){const r="error"===t?y.tF:y.RT;e.map((e=>{s((0,y.qq)(b(e)))})),e.map((e=>{s(r((0,i.tZ)(v,{message:e}),{isPersistent:"error"===t,id:b(e)}))}))}var E=t("./my-sites/checkout/cart-manager-client.ts");function x({children:e,shouldShowPersistentErrors:s}){const t=(0,o.useMemo)((()=>({refetchOnWindowFocus:!0})),[]);return(0,i.BX)(d,{managerClient:E.h,options:t,children:[(0,i.tZ)(w,{shouldShowPersistentErrors:s}),e]})}},"./my-sites/checkout/get-cart-key.ts":(e,s,t)=>{function r({selectedSite:e,isLoggedOutCart:s,isNoSiteCart:t}){return e?.slug||!s&&!t?(e?.slug||s||t)&&e?.ID?e.ID:"no-site":"no-user"}t.d(s,{Z:()=>r})},"./my-sites/checkout/use-cart-key.ts":(e,s,t)=>{t.d(s,{Z:()=>i});var r=t("../node_modules/react/index.js"),n=t("../node_modules/react-redux/es/index.js"),o=t("./state/current-user/selectors.js"),a=t("./state/ui/selectors/get-selected-site.ts"),c=t("./my-sites/checkout/get-cart-key.ts");function i(){const e=(0,n.v9)(a.Z),s=!(0,n.v9)(o.Pc),t=window.location.pathname,i=new URLSearchParams(window.location.search),u=i.has("purchasetoken"),d=i.has("purchaseNonce"),p=t.includes("/checkout/jetpack")&&s&&(!!u||!!d)||!s&&t.includes("/checkout/no-site")&&"no-user"===i.get("cart"),l=(0,c.Z)({selectedSite:e,isLoggedOutCart:s,isNoSiteCart:p});return(0,r.useDebugValue)(`cart key is ${l}`),(0,r.useDebugValue)(`site ID ${e?.ID}`),l}},"./state/products-list/selectors/get-products-list.ts":(e,s,t)=>{t.d(s,{o:()=>r});t("./state/products-list/init.js");function r(e){return e.productsList.items}},"../packages/calypso-products/src/is-blogger.ts":(e,s,t)=>{t.d(s,{f:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.en)((0,r.e)(e))}},"../packages/calypso-products/src/is-business.ts":(e,s,t)=>{t.d(s,{z:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.g5)((0,r.e)(e))}},"../packages/calypso-products/src/is-ecommerce.ts":(e,s,t)=>{t.d(s,{S:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.LK)((0,r.e)(e))}},"../packages/calypso-products/src/is-gsuite-or-extra-license-or-google-workspace.ts":(e,s,t)=>{t.d(s,{H:()=>a});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/is-google-workspace-product-slug.ts"),o=t("../packages/calypso-products/src/is-gsuite-or-extra-license-product-slug.ts");function a(e){return(0,o.B)((0,r.e)(e))||(0,n.U)((0,r.e)(e))}},"../packages/calypso-products/src/is-gsuite-or-google-workspace.ts":(e,s,t)=>{t.d(s,{E:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/is-gsuite-or-google-workspace-product-slug.ts");function o(e){return(0,n.n)((0,r.e)(e))}},"../packages/calypso-products/src/is-jetpack-product.ts":(e,s,t)=>{t.d(s,{y:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/is-jetpack-product-slug.ts");function o(e){return(0,n.X)((0,r.e)(e))}},"../packages/calypso-products/src/is-personal.ts":(e,s,t)=>{t.d(s,{X:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.VV)((0,r.e)(e))}},"../packages/calypso-products/src/is-premium.ts":(e,s,t)=>{t.d(s,{I:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.Sm)((0,r.e)(e))}},"../packages/calypso-products/src/is-site-redirect.ts":(e,s,t)=>{t.d(s,{J:()=>n});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts");function n(e){return"offsite_redirect"===(0,r.e)(e)}},"../packages/calypso-products/src/is-starter.ts":(e,s,t)=>{t.d(s,{S:()=>o});var r=t("../packages/calypso-products/src/camel-or-snake-slug.ts"),n=t("../packages/calypso-products/src/main.ts");function o(e){return(0,n.VU)((0,r.e)(e))}},"../packages/components/src/confetti/index.ts":(e,s,t)=>{t.d(s,{Z:()=>a});var r=t("../node_modules/canvas-confetti/dist/confetti.module.mjs"),n=t("../node_modules/react/index.js");const o=["#31CC9F","#618DF2","#6AB3D0","#B35EB1","#F2D76B","#FAA754","#E34C84"];const a=({trigger:e=!0,delay:s=0})=>((0,n.useEffect)((()=>{e&&setTimeout((()=>function(){const e={origin:{y:.4},colors:o,scalar:2,spread:180,gravity:6};function s(s,t){(0,r.Z)(Object.assign({},e,t,{particleCount:Math.floor(60*s),startVelocity:t.startVelocity?2*t.startVelocity:void 0,spread:2*t.spread,scalar:t.scalar?2*t.scalar:2,zIndex:1e5}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})}()),s)}),[e,s]),null)},"../packages/data-stores/src/domain-suggestions/constants.ts":(e,s,t)=>{t.d(s,{L:()=>r,r:()=>n});const r="automattic/domains/suggestions";let n;!function(e){e.Failure="failure",e.Pending="pending",e.Success="success",e.Uninitialized="uninitialized"}(n||(n={}))},"../packages/data-stores/src/domain-suggestions/index.ts":(e,s,t)=>{t.d(s,{z2:()=>T});var r={};t.r(r),t.d(r,{fetchDomainSuggestions:()=>u,receiveCategories:()=>i,receiveDomainAvailability:()=>d,receiveDomainSuggestionsError:()=>l,receiveDomainSuggestionsSuccess:()=>p});var n={};t.r(n),t.d(n,{__internalGetDomainSuggestions:()=>j,getCategories:()=>I,isAvailable:()=>C});var o={};t.r(o),t.d(o,{__internalGetDomainSuggestions:()=>Z,getCategories:()=>D,getDomainAvailabilities:()=>M,getDomainErrorMessage:()=>A,getDomainState:()=>R,getDomainSuggestions:()=>N,isAvailable:()=>O,isLoadingDomainSuggestions:()=>L});var a=t("../node_modules/@wordpress/data/build-module/index.js"),c=t("../packages/data-stores/src/wpcom-request-controls/index.ts");const i=e=>({type:"RECEIVE_CATEGORIES",categories:e}),u=()=>({type:"FETCH_DOMAIN_SUGGESTIONS",timeStamp:Date.now()}),d=(e,s)=>({type:"RECEIVE_DOMAIN_AVAILABILITY",domainName:e,availability:s}),p=(e,s)=>({type:"RECEIVE_DOMAIN_SUGGESTIONS_SUCCESS",queryObject:e,suggestions:s,timeStamp:Date.now()}),l=e=>({type:"RECEIVE_DOMAIN_SUGGESTIONS_ERROR",errorMessage:e,timeStamp:Date.now()});var g=t("../packages/data-stores/src/domain-suggestions/constants.ts"),m=t("../node_modules/turbo-combine-reducers/index.js"),f=t.n(m),_=t("../packages/format-currency/src/index.ts"),h=t("../node_modules/fast-json-stable-stringify/index.js");const y=t.n(h)();function k(e,s){return{include_wordpressdotcom:s.only_wordpressdotcom||!1,include_dotblogsubdomain:!1,only_wordpressdotcom:!1,quantity:5,vendor:"variation2_front",...s,query:e.trim().toLocaleLowerCase()}}const v={state:g.r.Uninitialized,data:{},errorMessage:null,lastUpdated:-1/0,pendingSince:void 0},w=f()({categories:(e=[],s)=>"RECEIVE_CATEGORIES"===s.type?s.categories:e,domainSuggestions:(e=v,s)=>"FETCH_DOMAIN_SUGGESTIONS"===s.type?{...e,state:g.r.Pending,errorMessage:null,pendingSince:s.timeStamp}:"RECEIVE_DOMAIN_SUGGESTIONS_SUCCESS"===s.type?{...e,state:g.r.Success,data:{...e.data,[y(s.queryObject)]:s.suggestions},errorMessage:null,lastUpdated:s.timeStamp,pendingSince:void 0}:"RECEIVE_DOMAIN_SUGGESTIONS_ERROR"===s.type?{...e,state:g.r.Failure,errorMessage:s.errorMessage,lastUpdated:s.timeStamp,pendingSince:void 0}:e,availability:(e={},s)=>"RECEIVE_DOMAIN_AVAILABILITY"===s.type?{...e,[s.domainName]:s.availability}:e});var b=t("../packages/i18n-calypso/src/index.js"),S=t("../node_modules/qs/lib/index.js"),E=t("../node_modules/validator/index.js"),x=t.n(E);const C=function*(e){const s=function(e){return`https://public-api.wordpress.com/rest/v1.3/domains/${encodeURIComponent(e)}/is-available?is_cart_pre_check=true`}(e);try{const{body:t}=yield(0,c.An)(s);return d(e,t)}catch{return d(e,{domain_name:e,mappable:"unknown",status:"unknown",supports_privacy:!1})}};function*I(){const{body:e}=yield(0,c.An)("https://public-api.wordpress.com/wpcom/v2/onboarding/domains/categories");return i(e)}function*j(e){if(!e.query)return l("Empty query");yield u();try{const s=yield(0,c._9)({apiVersion:"1.1",path:"/domains/suggestions",query:(0,S.stringify)(e)});if(!Array.isArray(s))return l((0,b.Iu)("Invalid response from the server"));if(function(e,s){return x().isFQDN(s)&&!e.some((e=>e.domain_name.toLowerCase()===s))}(s,e.query)){const t={domain_name:e.query,unavailable:!0,cost:"",raw_price:0,currency_code:""};s.unshift(t)}const t=s.map((e=>{return e.unavailable?e:{...e,...e.raw_price&&e.currency_code&&{cost:(s=e.raw_price,t=e.currency_code,(0,_.ZP)(s,t,{stripZeros:!0}))}};var s,t}));return p(e,t)}catch(e){return l(e.message||(0,b.Iu)("Error while fetching server response"))}}const D=e=>[...e.categories.filter((({tier:e})=>null!==e)).sort(((e,s)=>e>s?1:-1)),...e.categories.filter((({tier:e})=>null===e)).sort(((e,s)=>e.title.localeCompare(s.title)))],N=(e,s,t={})=>{const r=k(s,t);return(0,a.Ys)(g.L).__internalGetDomainSuggestions(r)},R=e=>e.domainSuggestions.state,A=e=>e.domainSuggestions.errorMessage,L=(e,s,t={})=>{const r=k(s,t);return(0,a.Ys)("core/data").isResolving(g.L,"__internalGetDomainSuggestions",[r])},Z=(e,s)=>e.domainSuggestions.data[y(s)],O=(e,s)=>e.availability[s],M=e=>e.availability;let P=!1;function T(){return P||(P=!0,(0,a.R9)(g.L,{actions:r,controls:c.ai,reducer:w,resolvers:n,selectors:o})),g.L}},"../packages/domain-picker/src/constants.ts":(e,s,t)=>{t.d(s,{SL:()=>n,Mm:()=>o,F9:()=>a,dP:()=>c,GN:()=>i,vn:()=>u});var r=t("../packages/data-stores/src/domain-suggestions/index.ts");const n=5,o=10,a=2,c=300,i=r.z2(),u=["available","available_premium"]},"../packages/domain-picker/src/hooks/use-domain-suggestions.ts":(e,s,t)=>{t.d(s,{O:()=>c});var r=t("../node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),n=t("../node_modules/@wordpress/data/build-module/components/use-select/index.js"),o=t("../node_modules/use-debounce/esm/useDebounce.js"),a=t("../packages/domain-picker/src/constants.ts");function c(e="",s,t,c="en",i={}){const[u]=(0,o.Z)(e,a.dP),{invalidateResolutionForStoreSelector:d}=(0,r.Z)(a.GN);return(0,n.Z)((e=>{if(!u||u.length<a.F9)return;const{getDomainSuggestions:r,getDomainState:n,getDomainErrorMessage:o}=e(a.GN);return{allDomainSuggestions:r(u,{include_wordpressdotcom:!0,include_dotblogsubdomain:!1,quantity:s+1,locale:c,category_slug:t,...i}),state:n(),errorMessage:o(),retryRequest:()=>{d("__internalGetDomainSuggestions")}}}),[u,t,s])}},"../packages/shopping-cart/src/shopping-cart-context.ts":(e,s,t)=>{t.d(s,{Z:()=>r});const r=(0,t("../node_modules/react/index.js").createContext)(void 0)},"../packages/shopping-cart/src/shopping-cart-options-context.ts":(e,s,t)=>{t.d(s,{Z:()=>r});const r=(0,t("../node_modules/react/index.js").createContext)({})},"../packages/shopping-cart/src/use-manager-client.ts":(e,s,t)=>{t.d(s,{Z:()=>o});var r=t("../node_modules/react/index.js"),n=t("../packages/shopping-cart/src/shopping-cart-context.ts");function o(e){const s=(0,r.useContext)(n.Z);if(!s)throw new Error(`${e} must be used inside a ShoppingCartProvider`);return s}},"../packages/shopping-cart/src/use-shopping-cart.ts":(e,s,t)=>{t.d(s,{Z:()=>l});var r=t("../node_modules/react/index.js");function n(e){const s=e.getState();return{...e.actions,...s}}var o=t("../packages/shopping-cart/src/shopping-cart-options-context.ts"),a=t("../packages/shopping-cart/src/use-manager-client.ts"),c=t("../node_modules/debug/src/browser.js"),i=t.n(c),u=t("../packages/shopping-cart/src/cart-keys.ts");const d=i()("shopping-cart:use-refetch-on-focus");function p(e){const s=(0,a.Z)("useRefetchOnFocus").forCartKey(e),{refetchOnWindowFocus:t}=(0,r.useContext)(o.Z);(0,r.useEffect)((()=>{if(t)if(e){if(!u.e.includes(e))return d("adding focus listeners"),window.addEventListener("visibilitychange",n),window.addEventListener("focus",n),window.addEventListener("online",n),()=>{d("removing focus listeners"),window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n),window.removeEventListener("online",n)};d("cartKey not fetchable; not listening")}else d("cartKey falsy; not listening");else d("refetchOnWindowFocus false; not listening");function r(){const e=(t=Date.now(),Math.floor(t/1e3));var t;const{responseCart:r}=s.getState(),n=e-r.cart_generated_at_timestamp;return d("last fetch was",n,"seconds ago"),n<60}function n(){[void 0,"visible","prerender"].includes(document.visibilityState)?r()?d("last fetch was quite recent; ignoring"):!function(){try{return!window.navigator.onLine}catch(e){return d("failed to check onLine status; ignoring check",e),!1}}()?(d("window was refocused; refetching"),s.actions.reloadFromServer()):d("network is offline; ignoring"):d("window was made invisible; ignoring")}}),[e,t,s])}function l(e){const s=(0,a.Z)("useShoppingCart"),{defaultCartKey:t}=(0,r.useContext)(o.Z),c=e??t,i=s.forCartKey(c);p(c),(0,r.useEffect)((()=>{i.fetchInitialCart().catch((()=>{}))}),[i]);const u=(0,r.useRef)(!0);(0,r.useEffect)((()=>(u.current=!0,()=>{u.current=!1})),[]);const[d,l]=(0,r.useState)(n(i));return(0,r.useEffect)((()=>i.subscribe((()=>{u.current&&l(n(i))}))),[i]),d}}}]);