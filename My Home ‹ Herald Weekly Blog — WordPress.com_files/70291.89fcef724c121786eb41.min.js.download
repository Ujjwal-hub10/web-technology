"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[70291],{"./components/localized-moment/index.js":(e,t,s)=>{s.d(t,{q:()=>o,B:()=>c});var r=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),i=s("../node_modules/react/index.js"),a=s("./components/localized-moment/context.js"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=(0,r.o)((e=>function(t){return(0,n.tZ)(a.Z.Consumer,{children:s=>(0,n.tZ)(e,{...t,...s})})}),"WithLocalizedMoment"),c=()=>{const{moment:e}=(0,i.useContext)(a.Z);return e}},"./components/popover-menu/item.jsx":(e,t,s)=>{s.d(t,{Z:()=>_});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../packages/components/src/gridicon/index.tsx"),a=s("../node_modules/classnames/index.js"),n=s.n(a),o=s("../node_modules/lodash-es/omit.js"),c=s("../node_modules/react/index.js"),d=s("./components/external-link/index.jsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class _ extends c.Component{constructor(...e){super(...e),(0,r.Z)(this,"handleMouseOver",(e=>{const{focusOnHover:t}=this.props;t&&e.target.focus(),this.props.onMouseOver()}))}render(){const{children:e,className:t,href:s,icon:r,isExternalLink:a,isSelected:c}=this.props,_=(0,o.Z)(this.props,"icon","focusOnHover","isSelected","isExternalLink","className","itemComponent"),p=n()("popover__menu-item",t,{"is-selected":c});let u=this.props.itemComponent;a&&s?(u=d.Z,_.icon=!0):s&&(u="a");let S=r;return"string"==typeof r&&(S=(0,l.tZ)(i.Z,{icon:r,size:18})),(0,l.BX)(u,{role:"menuitem",tabIndex:"-1",className:p,..._,onMouseOver:this.handleMouseOver,children:[S,e]})}}(0,r.Z)(_,"defaultProps",{isSelected:!1,focusOnHover:!0,onMouseOver:()=>{},itemComponent:"button"})},"./landing/stepper/stores.ts":(e,t,s)=>{s.d(t,{q6:()=>_e,FF:()=>le,CU:()=>ae,tr:()=>ce,j4:()=>oe,QG:()=>ne,Em:()=>de});var r={};s.r(r),s.d(r,{clearStepData:()=>y,setStepData:()=>T});var i={};s.r(i),s.d(i,{getState:()=>h,getStepData:()=>O});var a={};s.r(a),s.d(a,{receiveProductsList:()=>f,receiveProductsListFailure:()=>L,requestProductsList:()=>N});var n={};s.r(n),s.d(n,{getProductsList:()=>w});var o={};s.r(o),s.d(o,{getProductBySlug:()=>v,getProductsList:()=>F,getState:()=>U});var c={};s.r(c),s.d(c,{receiveTransferEligibility:()=>M});var d={};s.r(d),s.d(d,{getAutomatedTransferEligibility:()=>j});var l={};s.r(l),s.d(l,{getAutomatedTransferEligibility:()=>W,getEligibilityHolds:()=>Z,getEligibilityWarnings:()=>H,getNonSubdomainWarnings:()=>Y,getWpcomSubdomainWarning:()=>z});var _={};s.r(_),s.d(_,{getSiteColors:()=>ee,getState:()=>K,isSiteColorsInAnalysis:()=>X});var p=s("../packages/calypso-config/src/index.ts"),u=s("../node_modules/@wordpress/data/build-module/index.js"),S=s("../node_modules/@wordpress/data/build-module/plugins/persistence/index.js"),E=s("../node_modules/@wordpress/data-controls/build-module/index.js"),m=s("../packages/data-stores/src/one-week-persistence-config/index.ts");const T=e=>({type:"SET_STEP_DATA",data:e}),y=()=>({type:"CLEAR_STEP_DATA"}),I="automattic/stepper-internal";var g=s("../node_modules/turbo-combine-reducers/index.js"),R=s.n(g);const A=R()({stepData:(e=null,t)=>"SET_STEP_DATA"===t.type?t.data:"CLEAR_STEP_DATA"===t.type?null:e}),h=e=>e,O=e=>e.stepData;var C=s("../packages/data-stores/src/wpcom-request-controls/index.ts");const f=e=>({type:"PRODUCTS_LIST_RECEIVE",productsList:e}),N=()=>({type:"PRODUCTS_LIST_REQUEST"}),L=e=>({type:"PRODUCTS_LIST_REQUEST_FAILURE",error:e}),D="automattic/products-list",P=R()({isFetchingProductsList:(e=!1,t)=>{switch(t.type){case"PRODUCTS_LIST_REQUEST":return!0;case"PRODUCTS_LIST_RECEIVE":case"PRODUCTS_LIST_REQUEST_FAILURE":return!1}return e},productsList:(e,t)=>"PRODUCTS_LIST_RECEIVE"===t.type?t.productsList:e});var b=s("../packages/wpcom-proxy-request/src/index.js");const w=()=>async({dispatch:e})=>{e.requestProductsList();try{const t=await(0,b.ZP)({path:"/products",apiVersion:"1.1"});for(const e of Object.values(t))e.cost=Number(e.cost);e.receiveProductsList(t)}catch(t){e.receiveProductsListFailure(t)}},U=e=>e,F=e=>e.productsList,v=(e,t)=>{if(!t)return;const s=(0,u.Ys)(D).getProductsList();return s?s?.[t]:void 0};let x=!1;const M=(e,t)=>({type:"TRANSFER_ELIGIBILITY_RECEIVE",transferEligibility:e,siteId:t}),k="automattic/automated-transfer-eligibility",V={blocked_atomic_transfer:"BLOCKED_ATOMIC_TRANSFER",transfer_already_exists:"TRANSFER_ALREADY_EXISTS",no_business_plan:"NO_BUSINESS_PLAN",no_jetpack_sites:"NO_JETPACK_SITES",no_vip_sites:"NO_VIP_SITES",site_private:"SITE_PRIVATE",site_graylisted:"SITE_GRAYLISTED",non_admin_user:"NON_ADMIN_USER",not_resolving_to_wpcom:"NOT_RESOLVING_TO_WPCOM",no_ssl_certificate:"NO_SSL_CERTIFICATE",email_unverified:"EMAIL_UNVERIFIED",excessive_disk_space:"EXCESSIVE_DISK_SPACE"},B=(e={},t)=>"TRANSFER_ELIGIBILITY_RECEIVE"===t.type?{...e,[t.siteId]:t.transferEligibility}:e,j=e=>async({dispatch:t})=>{const s=await(0,b.ZP)({path:`/sites/${e}/automated-transfers/eligibility`,apiVersion:"1"});t.receiveTransferEligibility(s,e)};var G=s("../node_modules/@wordpress/data/build-module/factory.js");const W=(e,t)=>t?e[t]:null,Z=(0,G.M)((e=>(t,s)=>{const r=e(k).getAutomatedTransferEligibility(s);if(!r)return null;const{errors:i}=r;return i?i.map((({code:e})=>V[e]??"")):null})),H=(0,G.M)((e=>(t,s)=>{const r=e(k).getAutomatedTransferEligibility(s);if(!r)return null;const{warnings:i}=r;if(!i)return null;return Object.values(i).flat().map((({description:e,name:t,supportUrl:s,id:r})=>({id:r,name:t,description:e,supportUrl:s})))})),Y=(0,G.M)((e=>(t,s)=>{const r=e(k).getEligibilityWarnings(s);return r?r?.filter((({id:e})=>"wordpress_subdomain"!==e))??null:null})),z=(0,G.M)((e=>(t,s)=>{const r=e(k).getEligibilityWarnings(s)?.find((({id:e})=>"wordpress_subdomain"===e));return r||null}));let $=!1;function q(){const e=e=>({type:"COLORS_ANALYZE_START",url:e}),t=(e,t)=>({type:"COLORS_ANALYZE_SUCCESS",data:{url:e,colors:t.colors}}),s=e=>({type:"COLORS_ANALYZE_FAILED",url:e});return{colorsAnalyzeStart:e,colorsAnalyzeSuccess:t,colorsAnalyzeFailed:s,analyzeColors:function*(r){yield e(r);try{const e=yield(0,C._9)({path:"/imports/url-analyzer/colors/?url="+encodeURIComponent(r),apiNamespace:"wpcom/v2",apiVersion:"2"});yield t(r,e)}catch(e){yield s(r)}}}}const J="automattic/analyzer",Q=R()({analyzer:(e={},t)=>{if("COLORS_ANALYZE_START"===t.type)return{analyzing:!0};if("COLORS_ANALYZE_SUCCESS"===t.type){const s={...e.colors};return s[t.data.url]=t.data.colors,{analyzing:!1,colors:s}}return"COLORS_ANALYZE_FAILED"===t.type?{analyzing:!1}:e}}),K=e=>e,X=e=>e.analyzer.analyzing,ee=(e,t)=>t?e.analyzer.colors?.[t]:null;let te=!1;var se=s("../packages/data-stores/src/onboard/index.ts"),re=s("../packages/data-stores/src/site/index.ts"),ie=s("../packages/data-stores/src/user/index.ts");const ae=se.z2(),ne=((0,u.D$)(S.ZP,m.Z),(0,u.R9)(I,{actions:r,controls:E.ai,reducer:A,selectors:i,persist:["stepData"]}),I),oe=re.z2({client_id:(0,p.ZP)("wpcom_signup_id"),client_secret:(0,p.ZP)("wpcom_signup_key")}),ce=(x||(x=!0,(0,u.R9)(D,{actions:a,controls:C.ai,reducer:P,resolvers:n,selectors:o})),D),de=ie.z({client_id:(0,p.ZP)("wpcom_signup_id"),client_secret:(0,p.ZP)("wpcom_signup_key")}),le=($||($=!0,(0,u.R9)(k,{actions:c,reducer:B,resolvers:d,selectors:l})),k),_e=(te||(te=!0,(0,u.R9)(J,{actions:q(),controls:C.ai,reducer:Q,selectors:_})),J)},"./lib/analytics/track-component-view/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>p});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/debug/src/browser.js"),a=s.n(i),n=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),c=s("./state/analytics/actions/bump-stat.js"),d=s("./state/analytics/actions/record.js");const l=a()("calypso:analytics:TrackComponentView");class _ extends n.Component{componentDidMount(){l("Component did mount.");const{eventName:e,eventProperties:t}=this.props;e&&(l(`Recording Tracks event "${e}".`),this.props.recordTracksEvent(e,t));const{statGroup:s,statName:r}=this.props;s&&(l(`Bumping stat "${r}".`),this.props.bumpStat(s,r))}render(){return null}}(0,r.Z)(_,"defaultProps",{recordTracksEvent:()=>{},bumpStat:()=>{}});const p=(0,o.$j)(null,{bumpStat:c.P,recordTracksEvent:d.jN})(_)},"./state/admin-menu/actions/index.js":(e,t,s)=>{s.d(t,{u:()=>i,w:()=>a});s("./state/admin-menu/init.js"),s("./state/data-layer/wpcom/sites/admin-menu/index.js");var r=s("./state/action-types.ts");const i=function(e){return{type:r.ObT,siteId:e}},a=function(e,t){return{type:r.N6b,siteId:e,menu:t}}},"./state/admin-menu/init.js":(e,t,s)=>{var r=s("./state/redux-store.ts"),i=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/schema-utils.js"),o=s("./state/utils/keyed-reducer.ts"),c=s("./state/utils/with-persistence.ts"),d=s("./state/utils/reducer-utils.ts");s("./state/data-layer/wpcom/sites/admin-menu/index.js");const l={slug:{type:"string"},title:{type:"string"},type:{type:"string"},url:{type:"string"},badge:{type:"string"}},_={type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["type"],properties:{...l,icon:{type:"string"},children:{type:"array",items:{type:"object",required:["type","parent"],properties:{...l,parent:{type:"string"}}}}}},additionalProperties:!1}}},p=(0,n.G)(_,(0,o.J)("siteId",(0,c.$)(((e=[],t)=>t.type===a.N6b?t.menu:e)))),u=(0,d.U)({menus:p,requesting:(e=!1,t)=>{switch(t.type){case a.ObT:case a.N6b:return t.type===a.ObT}return e}}),S=(0,i.xi)("adminMenu",u);(0,r.x)(["adminMenu"],S)},"./state/data-layer/wpcom/sites/admin-menu/index.js":(e,t,s)=>{var r=s("../packages/calypso-config/src/index.ts"),i=s("./lib/url/add-query-args.ts"),a=s("./state/action-types.ts"),n=s("./state/admin-menu/actions/index.js"),o=s("./state/data-layer/handler-registry.js"),c=s("./state/data-layer/wpcom-http/actions.js"),d=s("./state/data-layer/wpcom-http/utils.js"),l=s("./state/sites/selectors/get-site-admin-url.js"),_=s("./state/sites/selectors/get-site-slug.js");const p=(e,t)=>{const s=new RegExp("^/").test(e),r=new RegExp(`^${t?.replace(/^https?:\/\//,"")}`).test(e?.replace(/^https?:\/\//,""));return r&&e.includes("wp-admin/customize.php")&&(e=(0,i.Z)({return:document.location.href},e)),s||r?e:""},u=(e,t,s)=>{if(!e)return e;let i;return Array.isArray(e.children)&&(i=e.children.map((e=>u(e,t,s)))),"import-php"===e.slug&&(0,r._k)("importer/unified")&&(e.url=`/import/${t}`),{...e,url:p(e.url,s),...i?{children:i}:{}}};(0,o.Z9)("state/data-layer/wpcom/admin-menu/index.js",{[a.ObT]:[(0,d.BN)({fetch:e=>(0,c.d)({method:"GET",path:`/sites/${e.siteId}/admin-menu/`,apiNamespace:"wpcom/v2"},e),onSuccess:({siteId:e},t)=>(s,r)=>{if(!Array.isArray(t))return s((0,n.w)(e,t));const i=r(),a=(0,l.Z)(i,e),o=(0,_.Z)(i,e);return s((0,n.w)(e,t.map((e=>u(e,o,a)))))},onError:()=>null})]})},"./state/purchases/actions.js":(e,t,s)=>{s.d(t,{oq:()=>_,Z_:()=>p,Y9:()=>u,Jh:()=>S,Av:()=>E});var r=s("../packages/i18n-calypso/src/index.js"),i=s("./lib/wp/browser.js"),a=s("./state/action-types.ts"),n=s("./state/admin-menu/actions/index.js"),o=s("./state/happychat/user/actions.js"),c=s("./state/ui/selectors/get-selected-site-id.js");s("./state/purchases/init.js");const d=r.ZP.translate("There was an error retrieving purchases."),l=r.ZP.translate("There was an error removing the purchase."),_=()=>(e,t)=>{const s=(0,c.Z)(t());e({type:a.gbe}),e((0,o._)()),s&&e((0,n.u)(s))},p=e=>t=>(t({type:a.pJb,siteId:e}),i.Z.req.get(`/sites/${e}/purchases`).then((s=>{t({type:a.m58,siteId:e,purchases:s})})).catch((()=>{t({type:a._qM,error:d})}))),u=e=>t=>(t({type:a.$5Y}),i.Z.req.get("/me/purchases").then((s=>{t({type:a.XMH,purchases:s,userId:e})})).catch((()=>{t({type:a._MG,error:d})}))),S=(e,t)=>(s,r)=>{const d=(0,c.Z)(r());return new Promise((r=>i.Z.req.post({path:`/purchases/${e}/delete`,apiNamespace:"wpcom/v2"}).then((e=>{s({type:a.WjV,purchases:e.purchases,userId:t}),s((0,o._)()),d&&s((0,n.u)(d)),r(e)})).catch((e=>{s({type:a.RIF,error:e.message||l}),r(e)}))))},E=()=>e=>e({type:a.Fsf})},"./state/purchases/init.js":(e,t,s)=>{var r=s("./state/redux-store.ts"),i=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts");const n={data:[],error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1};function o(e,t){return t.type===a.XMH?t.purchases:(t.type===a.m58&&(e=e.filter((e=>parseInt(e.blog_id,10)!==parseInt(t.siteId,10)||!!t.purchases.some((t=>t.ID===e.ID))))),t.type===a.WjV&&(e=e.filter((e=>!!t.purchases.some((t=>t.ID===e.ID))))),function(e,t){return t.reduce(((e,t)=>function(e,t){let s=!1;const r=e.map((e=>t.ID===e.ID?(s=!0,t):e));return s?r:[...r,t]}(e,t)),e)}(e,t.purchases))}const c=(0,i.xi)("purchases",((e=n,t)=>{switch(t.type){case a.gbe:return{...e,data:[],hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1};case a.pJb:return{...e,isFetchingSitePurchases:!0};case a.$5Y:return{...e,isFetchingUserPurchases:!0};case a.WjV:return{...e,data:o(e.data,t),error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0};case a.m58:return{...e,data:o(e.data,t),error:null,isFetchingSitePurchases:!1,hasLoadedSitePurchasesFromServer:!0};case a.XMH:return{...e,data:o(e.data,t),error:null,isFetchingUserPurchases:!1,hasLoadedUserPurchasesFromServer:!0};case a.RIF:return{...e,error:t.error,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0};case a._qM:return{...e,error:t.error,hasLoadedSitePurchasesFromServer:!0,isFetchingSitePurchases:!1};case a._MG:return{...e,error:t.error,hasLoadedUserPurchasesFromServer:!0,isFetchingUserPurchases:!1};case a.Fsf:return{...e,hasLoadedSitePurchasesFromServer:!1,isFetchingSitePurchases:!1}}return e}));(0,r.x)(["purchases"],c)},"./state/purchases/selectors/fetching.js":(e,t,s)=>{s.d(t,{Mo:()=>r,GR:()=>i,iJ:()=>a,w2:()=>n});s("./state/purchases/init.js");const r=e=>e.purchases.isFetchingUserPurchases,i=e=>e.purchases.isFetchingSitePurchases,a=e=>e.purchases.hasLoadedUserPurchasesFromServer,n=e=>e.purchases.hasLoadedSitePurchasesFromServer},"./state/purchases/selectors/get-purchases.js":(e,t,s)=>{s.d(t,{G:()=>n});var r=s("../packages/state-utils/src/index.ts"),i=s("../packages/js-utils/src/snake-to-camel-case.ts");function a(e){const t={id:Number(e.ID),active:Boolean(e.active),amount:Number(e.amount),attachedToPurchaseId:Number(e.attached_to_purchase_id),billPeriodDays:Number(e.bill_period_days),billPeriodLabel:e.bill_period_label,mostRecentRenewDate:e.most_recent_renew_date,canDisableAutoRenew:Boolean(e.can_disable_auto_renew),canReenableAutoRenewal:Boolean(e.can_reenable_auto_renewal),canExplicitRenew:Boolean(e.can_explicit_renew),costToUnbundle:e.cost_to_unbundle?Number(e.cost_to_unbundle):Number(e.amount),costToUnbundleText:e.cost_to_unbundle_display?e.cost_to_unbundle_display:e.price_text,currencyCode:e.currency_code,currencySymbol:e.currency_symbol,description:e.description,domain:e.domain,domainRegistrationAgreementUrl:e.domain_registration_agreement_url||null,error:null,blogCreatedDate:e.blog_created_date,expiryDate:e.expiry_date,expiryStatus:(0,i.Z)(e.expiry_status),iapPurchaseManagementLink:e.iap_purchase_management_link,includedDomain:e.included_domain,includedDomainPurchaseAmount:e.included_domain_purchase_amount,introductoryOffer:e.introductory_offer?{costPerInterval:Number(e.introductory_offer.cost_per_interval),endDate:String(e.introductory_offer.end_date),intervalCount:Number(e.introductory_offer.interval_count),intervalUnit:String(e.introductory_offer.interval_unit),isWithinPeriod:Boolean(e.introductory_offer.is_within_period),transitionAfterRenewalCount:Number(e.introductory_offer.transition_after_renewal_count),isNextRenewalUsingOffer:Boolean(e.introductory_offer.is_next_renewal_using_offer),remainingRenewalsUsingOffer:Number(e.introductory_offer.remaining_renewals_using_offer),shouldProrateWhenOfferEnds:Boolean(e.introductory_offer.should_prorate_when_offer_ends),isNextRenewalProrated:Boolean(e.introductory_offer.is_next_renewal_prorated)}:null,isCancelable:Boolean(e.is_cancelable),isDomainRegistration:Boolean(e.is_domain_registration),isLocked:Boolean(e.is_locked),isInAppPurchase:Boolean(e.is_iap_purchase),isRechargeable:Boolean(e.is_rechargable),isRefundable:Boolean(e.is_refundable),isRenewable:Boolean(e.is_renewable),isRenewal:Boolean(e.is_renewal),meta:e.meta,priceText:e.price_text,priceTierList:e.price_tier_list?.map((e=>({minimumUnits:e.minimum_units,maximumUnits:e.maximum_units,minimumPrice:e.minimum_price,maximumPrice:e.maximum_price,minimumPriceDisplay:e.minimum_price_display,maximumPriceDisplay:e.maximum_price_display}))),partnerName:e.partner_name,partnerSlug:e.partner_slug,partnerKeyId:e.partner_key_id,payment:{name:e.payment_name,type:e.payment_type,countryCode:e.payment_country_code,countryName:e.payment_country_name,storedDetailsId:e.stored_details_id},pendingTransfer:Boolean(e.pending_transfer),productId:Number(e.product_id),productName:e.product_name,productSlug:e.product_slug,productType:e.product_type,productDisplayPrice:e.product_display_price,priceInteger:e.price_integer,totalRefundAmount:Number(e.total_refund_amount),totalRefundText:e.total_refund_text,refundAmount:Number(e.refund_amount),refundOptions:e.refund_options,refundText:e.refund_text,refundPeriodInDays:e.refund_period_in_days,regularPriceText:e.regular_price_text,regularPriceInteger:e.regular_price_integer,renewDate:e.renew_date,saleAmount:e.sale_amount,saleAmountInteger:e.sale_amount_integer,siteId:Number(e.blog_id),siteName:e.blogname,subscribedDate:e.subscribed_date,subscriptionStatus:e.subscription_status,tagLine:e.tag_line,taxAmount:e.tax_amount,taxText:e.tax_text,purchaseRenewalQuantity:e.renewal_price_tier_usage_quantity||null,userId:Number(e.user_id),isAutoRenewEnabled:1===parseInt(e.auto_renew??"")};return function(e){return"credit_card"===e.payment_type}(e)&&(t.payment.creditCard={id:Number(e.payment_card_id),type:e.payment_card_type,processor:e.payment_card_processor,number:e.payment_details,expiryDate:e.payment_expiry}),"paypal_direct"===e.payment_type&&(t.payment.expiryDate=e.payment_expiry),t}s("./state/purchases/init.js");const n=(0,r.P1)((e=>{return t=e.purchases.data,Array.isArray(t)?t.map(a):[];var t}),(e=>[e.purchases.data]))},"./state/selectors/get-site-features.js":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./state/sites/features/reducer.js");function i(e,t){return t?e.sites.features?.[t]?e.sites.features[t].data||r.T.data:null:r.T.data}},"./state/selectors/site-has-feature.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./state/selectors/get-site-features.js");function i(e,t,s){const i=(0,r.Z)(e,t);return!!i?.active&&i.active.indexOf(s)>=0}},"./state/sites/selectors/get-site-admin-url.js":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./state/sites/selectors/get-site-option.ts");function i(e,t,s=""){const i=(0,r.Z)(e,t,"admin_url");return i?i+s.replace(/^\//,""):null}},"../packages/data-stores/src/onboard/constants.ts":(e,t,s)=>{s.d(t,{Ls:()=>r,UL:()=>i,zz:()=>a});const r="automattic/onboard";let i,a;!function(e){e.Write="write",e.Sell="sell",e.Promote="promote",e.DIFM="difm",e.Import="import",e.Other="other"}(i||(i={})),function(e){e.Write="write",e.Sell="sell",e.Build="build",e.DIFM="difm",e.WpAdmin="wpadmin",e.Import="import",e.WithThemeAssembler="with-theme-assembler"}(a||(a={}))},"../packages/data-stores/src/onboard/index.ts":(e,t,s)=>{s.d(t,{z2:()=>St});var r={};s.r(r),s.d(r,{addFeature:()=>T,clearDIFMGoal:()=>oe,clearImportGoal:()=>ne,createSenseiSite:()=>g,createSite:()=>R,createVideoPressSite:()=>I,removeFeature:()=>A,resetFonts:()=>h,resetGoals:()=>ce,resetIntent:()=>de,resetOnboardStore:()=>O,resetOnboardStoreWithSkipFlags:()=>C,resetSelectedDesign:()=>le,setAnchorEpisodeId:()=>z,setAnchorPodcastId:()=>Y,setAnchorSpotifyUrl:()=>$,setDomain:()=>f,setDomainCartItem:()=>me,setDomainCategory:()=>N,setDomainForm:()=>Ee,setDomainSearch:()=>L,setEcommerceFlowRecurType:()=>Se,setEditEmail:()=>_e,setFonts:()=>D,setGoals:()=>ae,setHasUsedDomainsStep:()=>P,setHasUsedPlansStep:()=>b,setHideFreePlan:()=>Te,setIntent:()=>Q,setIsMigrateFromWp:()=>ye,setIsRedirecting:()=>w,setLastLocation:()=>U,setPatternContent:()=>y,setPendingAction:()=>te,setPlanCartItem:()=>v,setPlanProductId:()=>F,setPluginsToVerify:()=>Ie,setProductCartItems:()=>x,setProgress:()=>se,setProgressTitle:()=>re,setRandomizedDesigns:()=>M,setSelectedDesign:()=>k,setSelectedSite:()=>B,setSelectedStyleVariation:()=>V,setShowSignupDialog:()=>j,setSiteAccentColor:()=>H,setSiteDescription:()=>W,setSiteLogo:()=>Z,setSiteTitle:()=>G,setStartingPoint:()=>K,setStepProgress:()=>ie,setStoreAddressValue:()=>ee,setStoreLocationCountryCode:()=>ue,setStoreType:()=>X,setVerticalId:()=>pe,startOnboarding:()=>J,updatePlan:()=>q});var i={};s.r(i),s.d(i,{getAnchorEpisodeId:()=>Oe,getAnchorPodcastId:()=>he,getAnchorSpotifyUrl:()=>Ce,getDomainCartItem:()=>dt,getDomainForm:()=>ct,getDomainSearch:()=>it,getEcommerceFlowRecurType:()=>Xe,getEditEmail:()=>ot,getGoals:()=>qe,getHideFreePlan:()=>lt,getIntent:()=>Ge,getIsMigrateFromWp:()=>_t,getIsRedirecting:()=>fe,getLastLocation:()=>Pe,getPatternContent:()=>Je,getPendingAction:()=>He,getPlanCartItem:()=>Le,getPlanProductId:()=>Ne,getPluginsToVerify:()=>pt,getProductCartItems:()=>De,getProgress:()=>Ye,getProgressTitle:()=>ze,getRandomizedDesigns:()=>be,getSelectedDesign:()=>we,getSelectedDomain:()=>Fe,getSelectedFeatures:()=>ve,getSelectedFonts:()=>xe,getSelectedSite:()=>Me,getSelectedSiteAccentColor:()=>je,getSelectedSiteDescription:()=>Be,getSelectedSiteLogo:()=>Ve,getSelectedSiteTitle:()=>ke,getSelectedStyleVariation:()=>Ue,getStartingPoint:()=>We,getState:()=>et,getStepProgress:()=>$e,getStoreLocationCountryCode:()=>Ke,getStoreType:()=>Ze,getVerticalId:()=>Qe,hasPaidDesign:()=>tt,hasPaidDomain:()=>st,hasSelectedDesign:()=>at,hasSelectedDesignWithoutFonts:()=>nt,hasSiteTitle:()=>rt});var a=s("../node_modules/@wordpress/data/build-module/index.js"),n=s("../node_modules/@wordpress/data/build-module/plugins/persistence/index.js"),o=s("../node_modules/@wordpress/data-controls/build-module/index.js"),c=s("../packages/data-stores/src/one-week-persistence-config/index.ts"),d=s("../packages/i18n-utils/src/utils.ts"),l=s("../packages/i18n-utils/src/guess-timezone.ts"),_=s("../node_modules/@wordpress/i18n/build-module/index.js"),p=s("../packages/data-stores/src/site/constants.ts"),u=s("../packages/data-stores/src/site/types.ts"),S=s("../packages/data-stores/src/onboard/constants.ts");const E=_.__;function m(e){return!!e&&/blank-canvas/i.test(e.slug)}const T=e=>({type:"ADD_FEATURE",featureId:e}),y=e=>({type:"SET_SITE_PATTERN_CONTENT",patternContent:e});function*I({username:e,languageSlug:t,visibility:s=u.EE.PublicNotIndexed}){const{domain:r,selectedDesign:i,selectedFonts:a,siteTitle:n,selectedFeatures:c}=yield(0,o.Ys)(S.Ls,"getState"),_=r?.domain_name||n||e,T=(0,d.G3)(t)?.value,y="premium/videomaker"===(i?.theme||"premium/videomaker")?"videomaker":"videomaker-white",I=""===n.trim()?E("Site Title"):n,g={blog_name:_?.split(".wordpress")[0],blog_title:I,public:s,options:{site_information:{title:I},lang_id:T,site_creation_flow:"videopress",enable_fse:!0,theme:"pub/twentytwentytwo",timezone_string:(0,l.Z)(),...i?.template&&{template:i.template},...a&&{font_base:a.base,font_headings:a.headings},use_patterns:!0,site_vertical_name:y,selected_features:c,wpcom_public_coming_soon:1,...i&&{is_blank_canvas:m(i)},is_videopress_initial_purchase:!0}};return yield(0,o.WI)(p.L,"createSite",g)}function*g({username:e="",languageSlug:t="",visibility:s=u.EE.PublicNotIndexed}){const{domain:r,selectedDesign:i,selectedFonts:a,siteTitle:n,selectedFeatures:c}=yield(0,o.Ys)(S.Ls,"getState"),_=r?.domain_name||n||e,T=(0,d.G3)(t)?.value,y=""===n.trim()?E("Site Title"):n;return yield(0,o.WI)(p.L,"createSite",{blog_name:_?.split(".wordpress")[0],blog_title:y,public:s,options:{site_information:{title:y},lang_id:T,site_creation_flow:"sensei",enable_fse:!0,theme:"pub/course",timezone_string:(0,l.Z)(),...i?.template&&{template:i.template},...a&&{font_base:a.base,font_headings:a.headings},use_patterns:!0,site_intent:"sensei",selected_features:c,...i&&{is_blank_canvas:m(i)}}})}function*R({username:e,languageSlug:t,bearerToken:s,visibility:r=u.EE.PublicNotIndexed,anchorFmPodcastId:i=null,anchorFmEpisodeId:a=null,anchorFmSpotifyUrl:n=null}){const{domain:c,selectedDesign:_,selectedFonts:T,siteTitle:y,selectedFeatures:I}=yield(0,o.Ys)(S.Ls,"getState"),g=c?.domain_name||y||e,R=(0,d.G3)(t)?.value,A=""===y.trim()?E("Site Title"):y,h={blog_name:g?.split(".wordpress")[0],blog_title:A,public:r,options:{site_information:{title:A},lang_id:R,site_creation_flow:"gutenboarding",enable_fse:!0,theme:`pub/${_?.theme||"zoologist"}`,timezone_string:(0,l.Z)(),..._?.template&&{template:_.template},...T&&{font_base:T.base,font_headings:T.headings},use_patterns:!0,selected_features:I,wpcom_public_coming_soon:1,...i&&{anchor_fm_podcast_id:i},...a&&{anchor_fm_episode_id:a},...n&&{anchor_fm_spotify_url:n},..._&&{is_blank_canvas:m(_)}},...s&&{authToken:s}};return yield(0,o.WI)(p.L,"createSite",h)}const A=e=>({type:"REMOVE_FEATURE",featureId:e}),h=()=>({type:"RESET_FONTS"}),O=()=>({type:"RESET_ONBOARD_STORE",skipFlags:[]}),C=e=>({type:"RESET_ONBOARD_STORE",skipFlags:e}),f=e=>({type:"SET_DOMAIN",domain:e}),N=e=>({type:"SET_DOMAIN_CATEGORY",domainCategory:e}),L=e=>({type:"SET_DOMAIN_SEARCH_TERM",domainSearch:e}),D=e=>({type:"SET_FONTS",fonts:e}),P=e=>({type:"SET_HAS_USED_DOMAINS_STEP",hasUsedDomainsStep:e}),b=e=>({type:"SET_HAS_USED_PLANS_STEP",hasUsedPlansStep:e}),w=e=>({type:"SET_IS_REDIRECTING",isRedirecting:e}),U=e=>({type:"SET_LAST_LOCATION",path:e}),F=e=>({type:"SET_PLAN_PRODUCT_ID",planProductId:e}),v=e=>({type:"SET_PLAN_CART_ITEM",planCartItem:e}),x=e=>({type:"SET_PRODUCT_CART_ITEMS",productCartItems:e}),M=e=>({type:"SET_RANDOMIZED_DESIGNS",randomizedDesigns:e}),k=e=>({type:"SET_SELECTED_DESIGN",selectedDesign:e}),V=e=>({type:"SET_SELECTED_STYLE_VARIATION",selectedStyleVariation:e}),B=e=>({type:"SET_SELECTED_SITE",selectedSite:e}),j=e=>({type:"SET_SHOW_SIGNUP_DIALOG",showSignup:e}),G=e=>({type:"SET_SITE_TITLE",siteTitle:e}),W=e=>({type:"SET_SITE_DESCRIPTION",siteDescription:e}),Z=e=>({type:"SET_SITE_LOGO",siteLogo:e}),H=e=>({type:"SET_SITE_ACCENT_COLOR",siteAccentColor:e}),Y=e=>({type:"SET_ANCHOR_PODCAST_ID",anchorPodcastId:e}),z=e=>({type:"SET_ANCHOR_PODCAST_EPISODE_ID",anchorEpisodeId:e}),$=e=>({type:"SET_ANCHOR_PODCAST_SPOTIFY_URL",anchorSpotifyUrl:e});function q(e){return F(e)}const J=()=>({type:"ONBOARDING_START"}),Q=e=>({type:"SET_INTENT",intent:e}),K=e=>({type:"SET_STARTING_POINT",startingPoint:e}),X=e=>({type:"SET_STORE_TYPE",storeType:e}),ee=(e,t)=>({type:"SET_STORE_ADDRESS_VALUE",store_address_field:e,store_address_value:t}),te=e=>({type:"SET_PENDING_ACTION",pendingAction:e}),se=e=>({type:"SET_PROGRESS",progress:e}),re=e=>({type:"SET_PROGRESS_TITLE",progressTitle:e}),ie=e=>({type:"SET_STEP_PROGRESS",stepProgress:e}),ae=e=>({type:"SET_GOALS",goals:e}),ne=()=>({type:"CLEAR_IMPORT_GOAL"}),oe=()=>({type:"CLEAR_DIFM_GOAL"}),ce=()=>({type:"RESET_GOALS"}),de=()=>({type:"RESET_INTENT"}),le=()=>({type:"RESET_SELECTED_DESIGN"}),_e=e=>({type:"SET_EDIT_EMAIL",email:e}),pe=e=>({type:"SET_VERTICAL_ID",verticalId:e}),ue=e=>({type:"SET_STORE_LOCATION_COUNTRY_CODE",storeLocationCountryCode:e}),Se=e=>({type:"SET_ECOMMERCE_FLOW_RECUR_TYPE",ecommerceFlowRecurType:e}),Ee=e=>({type:"SET_DOMAIN_FORM",step:{...e,lastUpdated:Date.now()}}),me=e=>({type:"SET_DOMAIN_CART_ITEM",domainCartItem:e}),Te=e=>({type:"SET_HIDE_FREE_PLAN",hideFreePlan:e}),ye=e=>({type:"SET_IS_MIGRATE_FROM_WP",isMigrateFromWp:e}),Ie=e=>({type:"SET_PLUGIN_SLUGS_TO_VERIFY",pluginSlugs:e});var ge=s("../node_modules/turbo-combine-reducers/index.js");const Re=s.n(ge)()({anchorPodcastId:(e="",t)=>"SET_ANCHOR_PODCAST_ID"===t.type?t.anchorPodcastId:"RESET_ONBOARD_STORE"===t.type?"":e,anchorEpisodeId:(e="",t)=>"SET_ANCHOR_PODCAST_EPISODE_ID"===t.type?t.anchorEpisodeId:"RESET_ONBOARD_STORE"===t.type?"":e,anchorSpotifyUrl:(e="",t)=>"SET_ANCHOR_PODCAST_SPOTIFY_URL"===t.type?t.anchorSpotifyUrl:"RESET_ONBOARD_STORE"===t.type?"":e,domain:(e,t)=>"SET_DOMAIN"===t.type?t.domain:"RESET_ONBOARD_STORE"!==t.type?e:void 0,domainCartItem:(e,t)=>"SET_DOMAIN_CART_ITEM"===t.type?t.domainCartItem:"RESET_ONBOARD_STORE"!==t.type?e:void 0,patternContent:(e,t)=>"SET_SITE_PATTERN_CONTENT"===t.type?t.patternContent:"RESET_ONBOARD_STORE"!==t.type?e:void 0,domainSearch:(e="",t)=>"SET_DOMAIN_SEARCH_TERM"===t.type?t.domainSearch:"RESET_ONBOARD_STORE"===t.type?"":e,domainCategory:(e,t)=>"SET_DOMAIN_CATEGORY"===t.type?t.domainCategory:"RESET_ONBOARD_STORE"!==t.type?e:void 0,domainForm:(e={},t)=>"SET_DOMAIN_FORM"===t.type?{...e,...t.step}:"RESET_ONBOARD_STORE"===t.type?{}:e,isRedirecting:(e=!1,t)=>"SET_IS_REDIRECTING"===t.type?t.isRedirecting:e,hasUsedDomainsStep:(e=!1,t)=>"SET_HAS_USED_DOMAINS_STEP"===t.type?t.hasUsedDomainsStep:"RESET_ONBOARD_STORE"!==t.type&&e,hasUsedPlansStep:(e=!1,t)=>"SET_HAS_USED_PLANS_STEP"===t.type?t.hasUsedPlansStep:"RESET_ONBOARD_STORE"!==t.type&&e,selectedFeatures:(e=[],t)=>"ADD_FEATURE"===t.type?[...e,t.featureId]:"SET_DOMAIN"===t.type&&t.domain&&!t.domain?.is_free?[...e,"domain"]:"SET_DOMAIN"===t.type&&t.domain?.is_free?e.filter((e=>"domain"!==e)):"REMOVE_FEATURE"===t.type?e.filter((e=>e!==t.featureId)):"RESET_ONBOARD_STORE"===t.type?[]:e,storeType:(e="",t)=>"SET_STORE_TYPE"===t.type?t.storeType:"RESET_ONBOARD_STORE"===t.type?"":e,selectedFonts:(e,t)=>"SET_FONTS"===t.type?t.fonts:"RESET_FONTS"!==t.type&&"RESET_ONBOARD_STORE"!==t.type?e:void 0,selectedDesign:(e,t)=>"SET_SELECTED_DESIGN"===t.type?t.selectedDesign:["RESET_SELECTED_DESIGN","RESET_ONBOARD_STORE"].includes(t.type)?void 0:e,selectedStyleVariation:(e,t)=>"SET_SELECTED_STYLE_VARIATION"===t.type?t.selectedStyleVariation:["RESET_SELECTED_STYLE_VARIATION","RESET_ONBOARD_STORE"].includes(t.type)?void 0:e,selectedSite:(e,t)=>"SET_SELECTED_SITE"===t.type?t.selectedSite:"RESET_ONBOARD_STORE"!==t.type?e:void 0,siteTitle:(e="",t)=>"SET_SITE_TITLE"===t.type?t.siteTitle:"RESET_ONBOARD_STORE"===t.type?"":e,showSignupDialog:(e=!1,t)=>"SET_SHOW_SIGNUP_DIALOG"===t.type?t.showSignup:"RESET_ONBOARD_STORE"!==t.type&&e,planProductId:(e,t)=>"SET_PLAN_PRODUCT_ID"===t.type?t.planProductId:"RESET_ONBOARD_STORE"!==t.type?e:void 0,randomizedDesigns:(e={featured:[]},t)=>"SET_RANDOMIZED_DESIGNS"===t.type?t.randomizedDesigns:"RESET_ONBOARD_STORE"===t.type?{featured:[]}:e,hasOnboardingStarted:(e=!1,t)=>"ONBOARDING_START"===t.type||"RESET_ONBOARD_STORE"!==t.type&&e,lastLocation:(e="",t)=>"SET_LAST_LOCATION"===t.type?t.path:"RESET_ONBOARD_STORE"===t.type?"":e,intent:(e="",t)=>"SET_INTENT"===t.type?t.intent:["RESET_INTENT","RESET_ONBOARD_STORE"].includes(t.type)?"":e,startingPoint:(e="",t)=>"SET_STARTING_POINT"===t.type?t.startingPoint:"RESET_ONBOARD_STORE"===t.type?"":e,pendingAction:(e,t)=>"SET_PENDING_ACTION"===t.type?t.pendingAction:"RESET_ONBOARD_STORE"!==t.type||t.skipFlags.includes("skipPendingAction")?e:void 0,progress:(e=-1,t)=>"SET_PROGRESS"===t.type?t.progress:"RESET_ONBOARD_STORE"===t.type?-1:e,progressTitle:(e,t)=>"SET_PROGRESS_TITLE"===t.type?t.progressTitle:"RESET_ONBOARD_STORE"!==t.type?e:void 0,stepProgress:(e,t)=>"SET_STEP_PROGRESS"===t.type?t.stepProgress:e,goals:(e=[],t)=>"SET_GOALS"===t.type?t.goals:"CLEAR_IMPORT_GOAL"===t.type?e.filter((e=>e!==S.UL.Import)):"CLEAR_DIFM_GOAL"===t.type?e.filter((e=>e!==S.UL.DIFM)):["RESET_GOALS","RESET_ONBOARD_STORE"].includes(t.type)?[]:e,editEmail:(e="",t)=>"SET_EDIT_EMAIL"===t.type?t.email:"RESET_ONBOARD_STORE"===t.type?"":e,hideFreePlan:(e=!1,t)=>"SET_HIDE_FREE_PLAN"===t.type?t.hideFreePlan:"RESET_ONBOARD_STORE"!==t.type&&e,siteDescription:(e="",t)=>"SET_SITE_DESCRIPTION"===t.type?t.siteDescription:"RESET_ONBOARD_STORE"===t.type?"":e,siteLogo:(e=null,t)=>"SET_SITE_LOGO"===t.type?t.siteLogo:"RESET_ONBOARD_STORE"===t.type?null:e,siteAccentColor:(e="",t)=>"SET_SITE_ACCENT_COLOR"===t.type?t.siteAccentColor:"RESET_ONBOARD_STORE"===t.type?"":e,verticalId:(e="",t)=>"SET_VERTICAL_ID"===t.type?t.verticalId:"RESET_ONBOARD_STORE"===t.type?"":e,storeLocationCountryCode:(e="",t)=>"SET_STORE_LOCATION_COUNTRY_CODE"===t.type?t.storeLocationCountryCode:"RESET_ONBOARD_STORE"===t.type?"":e,ecommerceFlowRecurType:(e="",t)=>"SET_ECOMMERCE_FLOW_RECUR_TYPE"===t.type?t.ecommerceFlowRecurType:"RESET_ONBOARD_STORE"===t.type?"":e,planCartItem:(e=null,t)=>"SET_PLAN_CART_ITEM"===t.type?t.planCartItem:"RESET_ONBOARD_STORE"===t.type?null:e,productCartItems:(e=[],t)=>"SET_PRODUCT_CART_ITEMS"===t.type?t.productCartItems:"RESET_ONBOARD_STORE"===t.type?[]:e,isMigrateFromWp:(e=!1,t)=>"SET_IS_MIGRATE_FROM_WP"===t.type?t.isMigrateFromWp:"RESET_ONBOARD_STORE"!==t.type&&e,pluginsToVerify:(e,t)=>"SET_PLUGIN_SLUGS_TO_VERIFY"===t.type?t.pluginSlugs:"RESET_ONBOARD_STORE"!==t.type?e:void 0});var Ae=s("../packages/domain-utils/src/index.ts");const he=e=>e.anchorPodcastId,Oe=e=>e.anchorEpisodeId,Ce=e=>e.anchorSpotifyUrl,fe=e=>e.isRedirecting,Ne=e=>e.planProductId,Le=e=>e.planCartItem,De=e=>e.productCartItems,Pe=e=>e.lastLocation,be=e=>e.randomizedDesigns,we=e=>e.selectedDesign,Ue=e=>e.selectedStyleVariation,Fe=e=>e.domain,ve=e=>e.selectedFeatures,xe=e=>e.selectedFonts,Me=e=>e.selectedSite,ke=e=>e.siteTitle,Ve=e=>e.siteLogo,Be=e=>e.siteDescription,je=e=>e.siteAccentColor,Ge=e=>e.intent,We=e=>e.startingPoint,Ze=e=>e.storeType,He=e=>e.pendingAction,Ye=e=>e.progress,ze=e=>e.progressTitle,$e=e=>e.stepProgress,qe=e=>e.goals,Je=e=>e.patternContent,Qe=e=>e.verticalId,Ke=e=>e.storeLocationCountryCode,Xe=e=>e.ecommerceFlowRecurType,et=e=>e,tt=e=>!!e.selectedDesign&&e.selectedDesign.is_premium,st=e=>!!e.domain&&!e.domain.is_free,rt=e=>e.siteTitle.trim().length>1,it=e=>e.domainSearch||(0,Ae.Q)(ke(e))&&ke(e)||void 0,at=e=>!!e.selectedDesign,nt=e=>at(e)&&!e.selectedFonts,ot=e=>e.editEmail,ct=e=>e.domainForm,dt=e=>e.domainCartItem,lt=e=>e.hideFreePlan,_t=e=>e.isMigrateFromWp,pt=e=>e.pluginsToVerify;let ut=!1;function St(){return ut||((0,a.D$)(n.ZP,c.Z),(0,a.R9)(S.Ls,{actions:r,controls:o.ai,reducer:Re,selectors:i,persist:["anchorPodcastId","anchorEpisodeId","anchorSpotifyUrl","domain","domainSearch","domainForm","goals","hasUsedDomainsStep","hasUsedPlansStep","hideFreePlan","intent","lastLocation","planProductId","randomizedDesigns","selectedDesign","selectedFeatures","selectedFonts","selectedSite","siteTitle","patternContent","siteDescription","siteLogo","siteAccentColor","storeType","verticalId","storeLocationCountryCode","ecommerceFlowRecurType","domainCartItem","planCartItem","productCartItems"]}),ut=!0),S.Ls}},"../packages/data-stores/src/site/constants.ts":(e,t,s)=>{s.d(t,{L:()=>r});const r="automattic/site"},"../packages/data-stores/src/site/index.ts":(e,t,s)=>{s.d(t,{z2:()=>se});var r={};s.r(r),s.d(r,{getSite:()=>T,getSiteDomains:()=>y,getSiteSettings:()=>I,getSiteTheme:()=>g});var i={};s.r(i),s.d(i,{getAtomicSoftwareError:()=>$,getAtomicSoftwareInstallError:()=>q,getAtomicSoftwareStatus:()=>z,getBundledPluginSlug:()=>ee,getFetchingSiteError:()=>C,getNewSite:()=>A,getNewSiteError:()=>h,getPrimarySiteDomain:()=>W,getSite:()=>L,getSiteDomains:()=>x,getSiteGlobalStyles:()=>V,getSiteIdBySlug:()=>D,getSiteLatestAtomicTransfer:()=>H,getSiteLatestAtomicTransferError:()=>Y,getSiteOption:()=>G,getSiteOptions:()=>j,getSiteSettings:()=>M,getSiteSetupError:()=>B,getSiteSubdomain:()=>Z,getSiteTheme:()=>k,getSiteTitle:()=>P,getSiteVerticalId:()=>b,getState:()=>R,isEligibleForProPlan:()=>X,isFetchingSite:()=>O,isFetchingSiteDetails:()=>f,isJetpackSite:()=>K,isNewSite:()=>N,isSiteAtomic:()=>F,isSiteLaunched:()=>w,isSiteLaunching:()=>U,isSiteWPForTeams:()=>v,requiresUpgrade:()=>Q,siteHasFeature:()=>J});var a=s("../node_modules/@wordpress/data/build-module/index.js"),n=s("../node_modules/@wordpress/data/build-module/plugins/persistence/index.js"),o=s("../packages/data-stores/src/one-week-persistence-config/index.ts"),c=s("../packages/data-stores/src/wpcom-request-controls/index.ts"),d=s("../packages/data-stores/src/site/types.ts");function l(e){const t=()=>({type:"FETCH_NEW_SITE"}),s=e=>({type:"RECEIVE_NEW_SITE",response:e}),r=e=>({type:"RECEIVE_NEW_SITE_FAILED",error:e});const i=(e,t)=>({type:"RECEIVE_SITE_TITLE",siteId:e,name:t}),a=(e,t)=>({type:"RECEIVE_SITE_TAGLINE",siteId:e,tagline:t}),n=(e,t)=>({type:"RECEIVE_SITE_VERTICAL_ID",siteId:e,verticalId:t}),o=e=>({type:"LAUNCH_SITE_START",siteId:e}),l=e=>({type:"LAUNCH_SITE_SUCCESS",siteId:e}),_=(e,t)=>({type:"LAUNCH_SITE_FAILURE",siteId:e,error:t});const p=(e,t)=>({type:"UPDATE_SITE_SETTINGS",siteId:e,settings:t});const u=(e,t)=>({type:"RECEIVE_SITE_GLOBAL_STYLES",siteId:e,globalStyles:t});function*S(e,t){try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/settings`,apiVersion:"1.4",body:t,method:"POST"}),"blogname"in t&&(yield i(e,t.blogname)),"blogdescription"in t&&(yield a(e,t.blogdescription)),"site_vertical_id"in t&&(yield n(e,t.site_vertical_id)),yield p(e,t)}catch(e){}}function*E(e,t,s,r=!0){const i=yield(0,c._9)({path:`/sites/${e}/themes/mine`,apiVersion:"1.1",body:{theme:t,dont_change_homepage:r},method:"POST"});if(s){const t=(yield function*(e,t){return yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/global-styles/themes/${t}/variations`,method:"GET",apiNamespace:"wp/v2"})}(e,i.stylesheet)).find((e=>e.title&&e.title.split(" ").join("-").toLowerCase()===s));if(t){const s=yield function*(e,t){const s=(yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/themes/${t}`,method:"GET",apiNamespace:"wp/v2"}))?._links?.["wp:user-global-styles"]?.[0]?.href;if(s){const e=s.match(/global-styles\/(?<id>[\/\w-]+)/);if(e&&e.groups)return e.groups.id}return null}(e,i.stylesheet);yield function*(e,t,s){return yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/global-styles/${t}`,apiNamespace:"wp/v2",method:"POST",body:{id:t,settings:s.settings??{},styles:s.styles??{}}})}(e,s,t)}}}function*m(e,t,s){const{recipe:r,verticalizable:i}=t;if(["hannah","gilbert","riley"].indexOf(t.template)>=0)return;const a={trim_content:s?.trimContent??!0};s?.posts_source_site_id&&(a.posts_source_site_id=s.posts_source_site_id),i&&(a.vertical_id=s?.verticalId),r?.pattern_ids&&(a.pattern_ids=r?.pattern_ids),r?.header_pattern_ids&&(a.header_pattern_ids=r?.header_pattern_ids),r?.footer_pattern_ids&&(a.footer_pattern_ids=r?.footer_pattern_ids);return yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/theme-setup`,apiNamespace:"wpcom/v2",body:a,method:"POST"})}const T=(e,t)=>({type:"ATOMIC_TRANSFER_START",siteId:e,softwareSet:t}),y=(e,t)=>({type:"ATOMIC_TRANSFER_SUCCESS",siteId:e,softwareSet:t}),I=(e,t,s)=>({type:"ATOMIC_TRANSFER_FAILURE",siteId:e,softwareSet:t,error:s});const g=e=>({type:"LATEST_ATOMIC_TRANSFER_START",siteId:e}),R=(e,t)=>({type:"LATEST_ATOMIC_TRANSFER_SUCCESS",siteId:e,transfer:t}),A=(e,t)=>({type:"LATEST_ATOMIC_TRANSFER_FAILURE",siteId:e,error:t});const h=(e,t)=>({type:"ATOMIC_SOFTWARE_STATUS_START",siteId:e,softwareSet:t}),O=(e,t,s)=>({type:"ATOMIC_SOFTWARE_STATUS_SUCCESS",siteId:e,softwareSet:t,status:s}),C=(e,t,s)=>({type:"ATOMIC_SOFTWARE_STATUS_FAILURE",siteId:e,softwareSet:t,error:s});const f=(e,t)=>({type:"ATOMIC_SOFTWARE_INSTALL_START",siteId:e,softwareSet:t}),N=(e,t)=>({type:"ATOMIC_SOFTWARE_INSTALL_SUCCESS",siteId:e,softwareSet:t}),L=(e,t,s)=>({type:"ATOMIC_SOFTWARE_INSTALL_FAILURE",siteId:e,softwareSet:t,error:s});return{receiveSiteDomains:(e,t)=>({type:"RECEIVE_SITE_DOMAINS",siteId:e,domains:t}),receiveSiteSettings:(e,t)=>({type:"RECEIVE_SITE_SETTINGS",siteId:e,settings:t}),receiveSiteTheme:(e,t)=>({type:"RECEIVE_SITE_THEME",siteId:e,theme:t}),saveSiteTitle:function*(e,t){yield S(e,{blogname:t})},saveSiteSettings:S,setIntentOnSite:function*(e,t){try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/site-intent`,apiNamespace:"wpcom/v2",body:{site_intent:t},method:"POST"})}catch(e){}},setStaticHomepageOnSite:function*(e,t){try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/homepage`,apiVersion:"1.1",body:{is_page_on_front:!0,page_on_front_id:t},method:"POST"})}catch(e){}},setGoalsOnSite:function*(e,t){try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/site-goals`,apiNamespace:"wpcom/v2",body:{site_goals:t},method:"POST"})}catch(e){}},receiveSiteTitle:i,fetchNewSite:t,fetchSite:()=>({type:"FETCH_SITE"}),receiveNewSite:s,receiveNewSiteFailed:r,resetNewSiteFailed:()=>({type:"RESET_RECEIVE_NEW_SITE_FAILED"}),installTheme:function*(e,t){yield(0,c._9)({path:`/sites/${e}/themes/${t}/install`,apiVersion:"1.1",method:"POST"})},setThemeOnSite:E,runThemeSetupOnSite:m,setDesignOnSite:function*(e,t,s){return yield*E(e,t.recipe?.stylesheet?.split("/")[1]||t.theme,s?.styleVariation?.slug),yield*m(e,t,s)},createCustomTemplate:function*(e,t,s,r,i){const a=`${t}//${s}`;let n=!0;try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/templates/${a}`,apiNamespace:"wp/v2",method:"GET"})}catch{n=!1}const o=`templates/${n?a:""}`;yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/${o}`,apiNamespace:"wp/v2",body:{slug:s,theme:t,title:r,content:i,status:"publish",is_wp_suggestion:!0},method:"POST"})},createSite:function*(t){yield{type:"FETCH_NEW_SITE"};try{const{authToken:r,...i}=t,a={...{client_id:e.client_id,client_secret:e.client_secret,find_available_url:!0,public:-1},...i,validate:!1},n=yield(0,c._9)({path:"/sites/new",apiVersion:"1.1",method:"post",body:a,token:r});return yield s(n),!0}catch(e){return yield r(e),!1}},receiveSite:(e,t)=>({type:"RECEIVE_SITE",siteId:e,response:t}),receiveSiteFailed:(e,t)=>({type:"RECEIVE_SITE_FAILED",siteId:e,response:t}),receiveSiteTagline:a,receiveSiteVerticalId:n,updateSiteSettings:p,saveSiteTagline:function*(e,t){yield S(e,{blogdescription:t})},reset:()=>({type:"RESET_SITE_STORE"}),launchSite:function*(e){yield o(e);try{yield(0,c._9)({path:`/sites/${e}/launch`,apiVersion:"1.1",method:"post"}),yield l(e)}catch(t){yield _(e,d.Hc.INTERNAL)}},launchSiteStart:o,launchSiteSuccess:l,launchSiteFailure:_,getCart:function*(e){return yield(0,c._9)({path:"/me/shopping-cart/"+e,apiVersion:"1.1",method:"GET"})},setCart:function*(e,t){return yield(0,c._9)({path:"/me/shopping-cart/"+e,apiVersion:"1.1",method:"POST",body:t})},getGlobalStyles:function*(e,t){const s=yield(0,c._9)({path:`/sites/${e}/global-styles/themes/${t}`,apiNamespace:"wp/v2"});return yield u(e,s),s},receiveSiteGlobalStyles:u,setSiteSetupError:(e,t)=>({type:"SET_SITE_SETUP_ERROR",error:e,message:t}),clearSiteSetupError:e=>({type:"CLEAR_SITE_SETUP_ERROR",siteId:e}),initiateAtomicTransfer:function*(e,t){yield T(e,t);try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/atomic/transfers`,apiNamespace:"wpcom/v2",method:"POST",...t?{body:{software_set:encodeURIComponent(t)}}:{}}),yield y(e,t)}catch(s){yield I(e,t,d.Hf.INTERNAL)}},atomicTransferStart:T,atomicTransferSuccess:y,atomicTransferFailure:I,latestAtomicTransferStart:g,latestAtomicTransferSuccess:R,latestAtomicTransferFailure:A,requestLatestAtomicTransfer:function*(e){yield g(e);try{const t=yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/atomic/transfers/latest`,apiNamespace:"wpcom/v2",method:"GET"});yield R(e,t)}catch(t){yield A(e,t)}},atomicSoftwareStatusStart:h,atomicSoftwareStatusSuccess:O,atomicSoftwareStatusFailure:C,requestAtomicSoftwareStatus:function*(e,t){yield h(e,t);try{const s=yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/atomic/software/${encodeURIComponent(t)}`,apiNamespace:"wpcom/v2",method:"GET"});yield O(e,t,s)}catch(s){yield C(e,t,s)}},initiateSoftwareInstall:function*(e,t){yield f(e,t);try{yield(0,c._9)({path:`/sites/${encodeURIComponent(e)}/atomic/software/${encodeURIComponent(t)}`,apiNamespace:"wpcom/v2",method:"POST",body:{}}),yield N(e,t)}catch(s){yield L(e,t,s)}},atomicSoftwareInstallStart:f,atomicSoftwareInstallSuccess:N,atomicSoftwareInstallFailure:L,setBundledPluginSlug:(e,t)=>({type:"SET_BUNDLED_PLUGIN_SLUG",siteSlug:e,pluginSlug:t})}}var _=s("../packages/data-stores/src/site/constants.ts"),p=s("../node_modules/turbo-combine-reducers/index.js"),u=s.n(p);const S=u()({data:(e,t)=>{if("RECEIVE_NEW_SITE"===t.type){const{response:e}=t;return e.blog_details}if("RECEIVE_NEW_SITE_FAILED"!==t.type&&"RESET_SITE_STORE"!==t.type)return e},error:(e,t)=>{switch(t.type){case"FETCH_NEW_SITE":case"RECEIVE_NEW_SITE":case"RESET_SITE_STORE":case"RESET_RECEIVE_NEW_SITE_FAILED":return;case"RECEIVE_NEW_SITE_FAILED":return{error:t.error.error,status:t.error.status,statusCode:t.error.statusCode,name:t.error.name,message:t.error.message}}return e},isFetching:(e=!1,t)=>{switch(t.type){case"FETCH_NEW_SITE":return!0;case"RECEIVE_NEW_SITE":case"RECEIVE_NEW_SITE_FAILED":case"RESET_SITE_STORE":case"RESET_RECEIVE_NEW_SITE_FAILED":return!1}return e}}),E=u()({isFetchingSiteDetails:(e=!1,t)=>{switch(t.type){case"FETCH_SITE":return!0;case"RECEIVE_SITE":case"RECEIVE_SITE_FAILED":return!1}return e},newSite:S,fetchingSiteError:(e,t)=>"RECEIVE_SITE_FAILED"===t.type?{error:t.response.error,message:t.response.message}:e,sites:(e={},t)=>{if("RECEIVE_SITE"===t.type)return t.response?{...e,[t.response.ID]:t.response}:e;if("RECEIVE_SITE_FAILED"===t.type){const{[t.siteId]:s,...r}=e;return{...r}}return"RESET_SITE_STORE"===t.type?{}:"RECEIVE_SITE_TITLE"===t.type?{...e,[t.siteId]:{...e[t.siteId],name:t.name}}:"RECEIVE_SITE_TAGLINE"===t.type?{...e,[t.siteId]:{...e[t.siteId],description:t.tagline??""}}:"RECEIVE_SITE_VERTICAL_ID"===t.type?{...e,[t.siteId]:{...e[t.siteId],options:{...e[t.siteId]?.options,site_vertical_id:t.verticalId}}}:e},launchStatus:(e={},t)=>"LAUNCH_SITE_START"===t.type?{...e,[t.siteId]:{status:d.uS.IN_PROGRESS,errorCode:void 0}}:"LAUNCH_SITE_SUCCESS"===t.type?{...e,[t.siteId]:{status:d.uS.SUCCESS,errorCode:void 0}}:"LAUNCH_SITE_FAILURE"===t.type?{...e,[t.siteId]:{status:d.uS.FAILURE,errorCode:t.error}}:e,sitesDomains:(e={},t)=>"RECEIVE_SITE_DOMAINS"===t.type?{...e,[t.siteId]:t.domains}:e,sitesSettings:(e={},t)=>"RECEIVE_SITE_SETTINGS"===t.type?{...e,[t.siteId]:t.settings}:"UPDATE_SITE_SETTINGS"===t.type?{...e,[t.siteId]:{...e?.[t.siteId],...t.settings}}:e,siteTheme:(e={},t)=>"RECEIVE_SITE_THEME"===t.type?{...e,[t.siteId]:t.theme}:e,sitesGlobalStyles:(e={},t)=>"RECEIVE_SITE_GLOBAL_STYLES"===t.type?{...e,[t.siteId]:{...e?.[t.siteId],...t.globalStyles}}:e,siteSetupErrors:(e={},t)=>{if("SET_SITE_SETUP_ERROR"===t.type){const{error:e,message:s}=t;return{error:e,message:s}}return"CLEAR_SITE_SETUP_ERROR"===t.type?{}:e},atomicTransferStatus:(e={},t)=>"ATOMIC_TRANSFER_START"===t.type?{...e,[t.siteId]:{status:d.bc.IN_PROGRESS,softwareSet:t.softwareSet,errorCode:void 0}}:"ATOMIC_TRANSFER_SUCCESS"===t.type?{...e,[t.siteId]:{status:d.bc.SUCCESS,softwareSet:t.softwareSet,errorCode:void 0}}:"ATOMIC_TRANSFER_FAILURE"===t.type?{...e,[t.siteId]:{status:d.bc.FAILURE,softwareSet:t.softwareSet,errorCode:t.error}}:e,latestAtomicTransferStatus:(e={},t)=>"LATEST_ATOMIC_TRANSFER_START"===t.type?{...e,[t.siteId]:{status:d.O.IN_PROGRESS,transfer:void 0,errorCode:void 0}}:"LATEST_ATOMIC_TRANSFER_SUCCESS"===t.type?{...e,[t.siteId]:{status:d.O.SUCCESS,transfer:t.transfer,errorCode:void 0}}:"LATEST_ATOMIC_TRANSFER_FAILURE"===t.type?{...e,[t.siteId]:{status:d.O.FAILURE,transfer:void 0,errorCode:t.error}}:e,atomicSoftwareStatus:(e={},t)=>"ATOMIC_SOFTWARE_STATUS_START"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:void 0,error:void 0}}}:"ATOMIC_SOFTWARE_STATUS_SUCCESS"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:t.status,error:void 0}}}:"ATOMIC_SOFTWARE_STATUS_FAILURE"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:void 0,error:t.error}}}:e,atomicSoftwareInstallStatus:(e={},t)=>"ATOMIC_SOFTWARE_INSTALL_START"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:d.sw.IN_PROGRESS,error:void 0}}}:"ATOMIC_SOFTWARE_INSTALL_SUCCESS"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:d.sw.SUCCESS,error:void 0}}}:"ATOMIC_SOFTWARE_INSTALL_FAILURE"===t.type?{...e,[t.siteId]:{[t.softwareSet]:{status:d.sw.FAILURE,error:t.error}}}:e,bundledPluginSlug:(e={},t)=>"SET_BUNDLED_PLUGIN_SLUG"===t.type?{...e,[t.siteSlug]:t.pluginSlug}:"RESET_SITE_STORE"===t.type?{}:e});var m=s("../packages/wpcom-proxy-request/src/index.js");const T=e=>async({dispatch:t})=>{t.fetchSite();try{const s=await(0,m.ZP)({path:"/sites/"+encodeURIComponent(e),apiVersion:"1.1"});t.receiveSite(e,s)}catch(s){t.receiveSiteFailed(e,s)}},y=e=>async({dispatch:t})=>{const s=await(0,m.ZP)({path:"/sites/"+encodeURIComponent(e)+"/domains",apiVersion:"1.2"});t.receiveSiteDomains(e,s?.domains)},I=e=>async({dispatch:t})=>{const s=await(0,m.ZP)({path:"/sites/"+encodeURIComponent(e)+"/settings",apiVersion:"1.4"});t.receiveSiteSettings(e,s?.settings)},g=e=>async({dispatch:t})=>{const s=await(0,m.ZP)({path:"/sites/"+encodeURIComponent(e)+"/themes/mine",apiVersion:"1.1"});t.receiveSiteTheme(e,s)},R=e=>e,A=e=>e.newSite.data,h=e=>e.newSite.error,O=e=>e.newSite.isFetching,C=e=>e.fetchingSiteError,f=e=>e.isFetchingSiteDetails,N=e=>!!e.newSite.data,L=(e,t)=>e.sites[t]||Object.values(e.sites).find((e=>e&&new URL(e.URL).host===t))||Object.values(e.sites).find((e=>e?.options?.unmapped_url&&new URL(e.options.unmapped_url).host===t)),D=(e,t)=>(0,a.Ys)(_.L).getSite(t)?.ID,P=(e,t)=>(0,a.Ys)(_.L).getSite(t)?.name,b=(e,t)=>(0,a.Ys)(_.L).getSite(t)?.options?.site_vertical_id,w=(e,t)=>e.launchStatus[t]?.status===d.uS.SUCCESS,U=(e,t)=>e.launchStatus[t]?.status===d.uS.IN_PROGRESS,F=(e,t)=>!0===(0,a.Ys)(_.L).getSite(t)?.options?.is_wpcom_atomic,v=(e,t)=>!0===(0,a.Ys)(_.L).getSite(t)?.options?.is_wpforteams_site,x=(e,t)=>e.sitesDomains[t],M=(e,t)=>e.sitesSettings[t],k=(e,t)=>e.siteTheme[t],V=(e,t)=>e.sitesGlobalStyles[t],B=e=>e.siteSetupErrors,j=(e,t)=>e.sites[t]?.options,G=(e,t,s)=>e.sites[t]?.options?.[s],W=(e,t)=>(0,a.Ys)(_.L).getSiteDomains(t)?.find((e=>e.primary_domain)),Z=(e,t)=>(0,a.Ys)(_.L).getSiteDomains(t)?.find((e=>e.is_subdomain)),H=(e,t)=>e.latestAtomicTransferStatus[t]?.transfer,Y=(e,t)=>e.latestAtomicTransferStatus[t]?.errorCode,z=(e,t,s)=>e.atomicSoftwareStatus[t]?.[s]?.status,$=(e,t,s)=>e.atomicSoftwareStatus[t]?.[s]?.error,q=(e,t,s)=>e.atomicSoftwareInstallStatus[t]?.[s]?.error,J=(e,t,s)=>Boolean(t&&(0,a.Ys)(_.L).getSite(t)?.plan?.features.active.includes(s)),Q=(e,t)=>t&&!(0,a.Ys)(_.L).siteHasFeature(t,"woop");function K(e,t){return Boolean(t&&(0,a.Ys)(_.L).getSite(t)?.jetpack)}function X(e,t){return!!t&&!(K(0,t)&&!F(e,t)||v(e,t))}const ee=(e,t)=>e.bundledPluginSlug[t];let te=!1;function se(e){return te||((0,a.D$)(n.ZP,o.Z),te=!0,(0,a.R9)(_.L,{actions:l(e),controls:c.ai,reducer:E,resolvers:r,selectors:i,persist:["bundledPluginSlug"]})),_.L}},"../packages/data-stores/src/site/types.ts":(e,t,s)=>{let r,i,a,n,o,c,d;s.d(t,{EE:()=>r,Hc:()=>i,uS:()=>a,bc:()=>n,Hf:()=>o,O:()=>c,sw:()=>d}),function(e){e[e.PublicIndexed=1]="PublicIndexed",e[e.PublicNotIndexed=0]="PublicNotIndexed",e[e.Private=-1]="Private"}(r||(r={})),function(e){e.INTERNAL="internal"}(i||(i={})),function(e){e.UNINITIALIZED="unintialized",e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(a||(a={})),function(e){e.UNINITIALIZED="unintialized",e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(n||(n={})),function(e){e.INTERNAL="internal"}(o||(o={})),function(e){e.UNINITIALIZED="unintialized",e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(c||(c={})),function(e){e.UNINITIALIZED="unintialized",e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(d||(d={}))},"../packages/data-stores/src/user/index.ts":(e,t,s)=>{s.d(t,{z:()=>A});var r={};s.r(r),s.d(r,{getCurrentUser:()=>E,getNewUser:()=>T,getNewUserError:()=>y,getState:()=>S,isCurrentUserLoggedIn:()=>m,isFetchingNewUser:()=>I,isNewUser:()=>g});var i=s("../node_modules/@wordpress/data/build-module/index.js"),a=s("../packages/data-stores/src/wpcom-request-controls/index.ts"),n=s("../node_modules/qs/lib/index.js");function o(e){const t=()=>({type:"FETCH_NEW_USER"}),s=e=>({type:"RECEIVE_NEW_USER",response:e}),r=e=>({type:"RECEIVE_NEW_USER_FAILED",error:e});return{receiveCurrentUser:e=>({type:"RECEIVE_CURRENT_USER",currentUser:e}),receiveCurrentUserFailed:()=>({type:"RECEIVE_CURRENT_USER_FAILED"}),fetchNewUser:t,receiveNewUser:s,receiveNewUserFailed:r,clearErrors:()=>({type:"CLEAR_ERRORS"}),createAccount:function*(t){yield{type:"FETCH_NEW_USER"};try{const r=yield(0,a._9)({body:{is_passwordless:!0,signup_flow_name:"gutenboarding",locale:"en",...e,...t,validate:!1},path:"/users/new",apiVersion:"1.1",method:"post",query:(0,n.stringify)({locale:t.locale})});return yield(0,a.sS)(),yield(0,a.Vw)(),yield s(r),{ok:!0}}catch(e){const t=e;return yield r(t),{ok:!1,newUserError:t}}}}}const c="automattic/user";var d=s("../node_modules/turbo-combine-reducers/index.js"),l=s.n(d);const _=l()({data:(e,t)=>{if("RECEIVE_NEW_USER"===t.type){const{response:e}=t;return{username:e.signup_sandbox_username||e.username,userId:e.signup_sandbox_user_id||e.user_id,bearerToken:e.bearer_token}}if("RECEIVE_NEW_USER_FAILED"!==t.type)return e},error:(e,t)=>{switch(t.type){case"FETCH_NEW_USER":case"RECEIVE_NEW_USER":case"CLEAR_ERRORS":return;case"RECEIVE_NEW_USER_FAILED":return{error:t.error.error,status:t.error.status,statusCode:t.error.statusCode,name:t.error.name,message:t.error.message}}return e},isFetching:(e=!1,t)=>{switch(t.type){case"FETCH_NEW_USER":return!0;case"RECEIVE_NEW_USER":case"RECEIVE_NEW_USER_FAILED":return!1}return e}}),p=l()({currentUser:(e,t)=>{switch(t.type){case"RECEIVE_CURRENT_USER":return t.currentUser;case"RECEIVE_CURRENT_USER_FAILED":return null}return e},newUser:_});function u(e){const{receiveCurrentUser:t,receiveCurrentUserFailed:s}=o(e);return{getCurrentUser:function*(){if(window.currentUser)return t(window.currentUser);try{const e=yield(0,a._9)({path:"/me",apiVersion:"1.1"});return t(e)}catch(e){return s()}}}}const S=e=>e,E=e=>e.currentUser,m=e=>!!e.currentUser?.ID,T=e=>e.newUser.data,y=e=>e.newUser.error,I=e=>e.newUser.isFetching,g=e=>!!e.newUser.data;let R=!1;function A(e){return R||(R=!0,(0,i.R9)(c,{actions:o(e),controls:a.ai,reducer:p,resolvers:u(e),selectors:r})),c}},"../packages/domain-utils/src/index.ts":(e,t,s)=>{function r(e){return void 0!==e.normalize&&!!e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").match(/[a-z0-9-.\s]/i)}s.d(t,{Q:()=>r})},"../packages/i18n-utils/src/guess-timezone.ts":(e,t,s)=>{s.d(t,{Z:()=>a});const r={"Africa/Asmera":"Africa/Nairobi","Africa/Timbuktu":"Africa/Abidjan","America/Argentina/ComodRivadavia":"America/Argentina/Catamarca","America/Atka":"America/Adak","America/Buenos_Aires":"America/Argentina/Buenos_Aires","America/Catamarca":"America/Argentina/Catamarca","America/Coral_Harbour":"America/Atikokan","America/Cordoba":"America/Argentina/Cordoba","America/Ensenada":"America/Tijuana","America/Fort_Wayne":"America/Indiana/Indianapolis","America/Indianapolis":"America/Indiana/Indianapolis","America/Jujuy":"America/Argentina/Jujuy","America/Knox_IN":"America/Indiana/Knox","America/Louisville":"America/Kentucky/Louisville","America/Mendoza":"America/Argentina/Mendoza","America/Montreal":"America/Toronto","America/Porto_Acre":"America/Rio_Branco","America/Rosario":"America/Argentina/Cordoba","America/Santa_Isabel":"America/Tijuana","America/Shiprock":"America/Denver","America/Virgin":"America/Port_of_Spain","Antarctica/South_Pole":"Pacific/Auckland","Asia/Ashkhabad":"Asia/Ashgabat","Asia/Calcutta":"Asia/Kolkata","Asia/Chongqing":"Asia/Shanghai","Asia/Chungking":"Asia/Shanghai","Asia/Dacca":"Asia/Dhaka","Asia/Harbin":"Asia/Shanghai","Asia/Kashgar":"Asia/Urumqi","Asia/Katmandu":"Asia/Kathmandu","Asia/Macao":"Asia/Macau","Asia/Rangoon":"Asia/Yangon","Asia/Saigon":"Asia/Ho_Chi_Minh","Asia/Tel_Aviv":"Asia/Jerusalem","Asia/Thimbu":"Asia/Thimphu","Asia/Ujung_Pandang":"Asia/Makassar","Asia/Ulan_Bator":"Asia/Ulaanbaatar","Atlantic/Faeroe":"Atlantic/Faroe","Atlantic/Jan_Mayen":"Europe/Oslo","Australia/ACT":"Australia/Sydney","Australia/Canberra":"Australia/Sydney","Australia/LHI":"Australia/Lord_Howe","Australia/NSW":"Australia/Sydney","Australia/North":"Australia/Darwin","Australia/Queensland":"Australia/Brisbane","Australia/South":"Australia/Adelaide","Australia/Tasmania":"Australia/Hobart","Australia/Victoria":"Australia/Melbourne","Australia/West":"Australia/Perth","Australia/Yancowinna":"Australia/Broken_Hill","Europe/Belfast":"Europe/London","Europe/Tiraspol":"Europe/Chisinau","Pacific/Johnston":"Pacific/Honolulu","Pacific/Ponape":"Pacific/Pohnpei","Pacific/Samoa":"Pacific/Pago_Pago","Pacific/Truk":"Pacific/Chuuk","Pacific/Yap":"Pacific/Chuuk"};function i(e){return function(e){return e in r}(e)?r[e]:e}function a(){try{return i(Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(e){return}}},"../packages/js-utils/src/snake-to-camel-case.ts":(e,t,s)=>{function r(e){return e?e.toLowerCase().replace(/([-_][a-z0-9])/g,(e=>e.toUpperCase().replace("-","").replace("_",""))):""}s.d(t,{Z:()=>r})},"../packages/onboarding/src/utils/flows.ts":(e,t,s)=>{s.d(t,{Q3:()=>r,bM:()=>i,AX:()=>a,JS:()=>n,Fo:()=>o,q0:()=>c,u3:()=>d,L9:()=>l,lr:()=>_,_j:()=>p,Q8:()=>u,hW:()=>S,Hy:()=>E,P7:()=>T,tE:()=>y,q9:()=>I,Xr:()=>g,CX:()=>R,I:()=>h,e6:()=>O,Sd:()=>C,Qw:()=>f,ES:()=>N,YG:()=>L,WU:()=>D,nC:()=>P,hA:()=>b,_U:()=>w,n1:()=>U,Hd:()=>F,bx:()=>v,Pm:()=>x});const r="newsletter",i="newsletter-post-setup",a="hosting",n="link-in-bio",o="link-in-bio-tld",c="link-in-bio-post-setup",d="videopress",l="import-focused",_="sensei",p="ecommerce",u="wooexpress",S="free",E="free-post-setup",m="import-focused",T="copy-site",y="build",I="write",g="site-setup",R="with-theme-assembler",A="update-design",h=e=>Boolean(e&&[n,o,c].includes(e)),O=e=>Boolean(e&&[S,E].includes(e)),C=e=>Boolean(e&&a===e),f=e=>Boolean(e&&[r,i,n,o,c].includes(e)),N=e=>Boolean(e&&(f(e)||d===e||p===e||S===e)),L=e=>Boolean(e&&[m].includes(e)),D=e=>Boolean(e&&[T].includes(e)),P=e=>Boolean(e&&[u].includes(e)),b=e=>Boolean(e&&[y].includes(e)),w=e=>Boolean(e&&[I].includes(e)),U=e=>Boolean(e&&[A].includes(e)),F=e=>!!e&&[R].includes(e),v=e=>!!e&&["with-theme",R].includes(e),x={YEARLY:"yearly",MONTHLY:"monthly"}}}]);