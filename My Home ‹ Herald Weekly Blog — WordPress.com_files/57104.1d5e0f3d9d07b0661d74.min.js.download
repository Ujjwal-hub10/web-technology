"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[57104],{"./components/count/index.jsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/classnames/index.js"),i=n.n(s),a=n("../packages/i18n-calypso/src/localize.js"),r=n("./lib/format-number-compact/index.js"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=({count:e,compact:t,numberFormat:n,forwardRef:s,primary:a,...c})=>{const{translate:l,moment:u,...d}=c;return(0,o.tZ)("span",{ref:s,className:i()("count",{"is-primary":a}),...d,children:t&&(0,r.Z)(e)||n(e)})};c.defaultProps={primary:!1,compact:!1};const l=(0,a.Z)(c)},"./components/forms/form-text-input/index.jsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/classnames/index.js"),a=n.n(i),r=n("../node_modules/react/index.js"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends r.PureComponent{constructor(...e){super(...e),(0,s.Z)(this,"state",{value:this.props.value||""}),(0,s.Z)(this,"currentTextField",void 0),(0,s.Z)(this,"textFieldRef",(e=>{this.currentTextField=e;const{inputRef:t}=this.props;t&&("function"==typeof t?t(e):t.current=e)})),(0,s.Z)(this,"selectOnFocus",(e=>{this.props.selectOnFocus&&e.target.select()})),(0,s.Z)(this,"onChange",(e=>{this.setState({value:e.target.value}),this.props.onChange?.(e)}))}componentDidUpdate(e){this.updateValueIfNeeded(e.value)}updateValueIfNeeded(e){const{value:t}=this.props;e===t&&t===this.state.value||this.setState({value:t})}focus(){this.currentTextField&&this.currentTextField.focus()}render(){const{isError:e,isValid:t,selectOnFocus:n,inputRef:s,onChange:i,value:r,...c}=this.props,l=a()("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid});return(0,o.tZ)("input",{type:"text",...c,value:this.state.value,ref:this.textFieldRef,className:l,onClick:this.selectOnFocus,onChange:this.onChange})}}},"./lib/analytics/page-view-tracker/index.jsx":(e,t,n)=>{n.d(t,{A:()=>h,Z:()=>S});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/debug/src/browser.js"),a=n.n(i),r=n("../node_modules/lodash-es/get.js"),o=n("../node_modules/react/index.js"),c=n("../node_modules/react-redux/es/index.js"),l=n("./lib/route/path.ts"),u=n("./state/analytics/actions/record-with-client-id.js"),d=n("./state/analytics/actions/enhance-with-site-type.js"),_=n("./state/analytics/actions/enhance-with-site-main-product.js"),m=n("./state/current-user/selectors.js"),p=n("./state/sites/selectors/get-site-slug.js"),g=n("./state/ui/selectors/get-selected-site-id.js"),E=n("./state/utils/with-enhancers.ts");const f=a()("calypso:analytics:PageViewTracker"),b=()=>{};class h extends o.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{timer:null}),(0,s.Z)(this,"queuePageView",(()=>{const{delay:e=0,path:t,recorder:n=b,hasSelectedSiteLoaded:s,isUserAuthenticated:i,title:a}=this.props;if(f(`Queuing Page View: "${a}" at "${t}" with ${e}ms delay`),!(!s&&i||this.state.timer))return e?void this.setState({timer:setTimeout((()=>n(t,a)),e)}):this.recordViewWithProperties()}))}componentDidMount(){f("Component has mounted."),this.queuePageView()}componentWillUnmount(){f("Component has unmounted."),clearTimeout(this.state.timer)}componentDidUpdate(e){e.path===this.props.path&&e.selectedSiteId===this.props.selectedSiteId||this.queuePageView()}recordViewWithProperties(){const{path:e,recorder:t=b,title:n,properties:s,options:i}=this.props;return t(e,n,"default",s,i)}render(){return null}}(0,s.Z)(h,"displayName","PageViewTracker");const N={recorder:(0,E.i)(u.y,[d.R,_.n])},S=(0,c.$j)((e=>{const t=(0,g.Z)(e),n=(0,p.Z)(e,t),s="undefined"==typeof window?"":(0,l.lQ)((0,r.Z)(window,"location.pathname",""));return{hasSelectedSiteLoaded:!s||"number"==typeof s&&s===t||s===n,selectedSiteId:t,isUserAuthenticated:(0,m.rc)(e)}}),N)(h)},"./lib/domains/can-current-user-add-email.ts":(e,t,n)=>{function s(e){return!!e?.currentUserCanAddEmail}n.d(t,{P:()=>s})},"./lib/domains/constants.js":(e,t,n)=>{n.d(t,{dt:()=>s,fN:()=>i,Bz:()=>a,lU:()=>r,_q:()=>o,j4:()=>c,DZ:()=>l,VL:()=>u,ES:()=>d,Xy:()=>_});const s={MAPPED:"MAPPED",REGISTERED:"REGISTERED",SITE_REDIRECT:"SITE_REDIRECT",WPCOM:"WPCOM",TRANSFER:"TRANSFER"},i={PENDING_OWNER:"PENDING_OWNER",PENDING_REGISTRY:"PENDING_REGISTRY",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",PENDING_START:"PENDING_START"},a={OPENHRS:"OpenHRS",OPENSRS:"OpenSRS",WWD:"WWD",MAINTENANCE:"Registrar TLD Maintenance"},r={AVAILABLE:"available",AVAILABLE_PREMIUM:"available_premium",AVAILABLE_RESERVED:"available_reserved",AVAILABILITY_CHECK_ERROR:"availability_check_error",CONFLICTING_CNAME_EXISTS:"conflicting_cname_exists",DISALLOWED:"blacklisted_domain",DOMAIN_SUGGESTIONS_THROTTLED:"domain_suggestions_throttled",DOTBLOG_SUBDOMAIN:"dotblog_subdomain",EMPTY_QUERY:"empty_query",EMPTY_RESULTS:"empty_results",FORBIDDEN:"forbidden_domain",FORBIDDEN_SUBDOMAIN:"forbidden_subdomain",IN_REDEMPTION:"in_redemption",INVALID:"invalid_domain",INVALID_QUERY:"invalid_query",INVALID_TLD:"invalid_tld",MAINTENANCE:"tld_in_maintenance",MAPPABLE:"mappable",MAPPED:"mapped_domain",MAPPED_OTHER_SITE_SAME_USER:"mapped_to_other_site_same_user",MAPPED_SAME_SITE_NOT_TRANSFERRABLE:"mapped_to_same_site_not_transferrable",MAPPED_SAME_SITE_TRANSFERRABLE:"mapped_to_same_site_transferrable",NOT_AVAILABLE:"not_available",NOT_REGISTRABLE:"available_but_not_registrable",PURCHASES_DISABLED:"domain_registration_unavailable",RECENT_REGISTRATION_LOCK_NOT_TRANSFERRABLE:"recent_registration_lock_not_transferrable",RECENTLY_UNMAPPED:"recently_mapped",RECENTLY_EXPIRED:"recently_expired",REGISTERED:"registered_domain",REGISTERED_OTHER_SITE_SAME_USER:"registered_on_other_site_same_user",REGISTERED_SAME_SITE:"registered_on_same_site",RESTRICTED:"restricted_domain",SERVER_TRANSFER_PROHIBITED_NOT_TRANSFERRABLE:"server_transfer_prohibited_not_transferrable",TLD_NOT_SUPPORTED:"tld_not_supported",TLD_NOT_SUPPORTED_AND_DOMAIN_NOT_AVAILABLE:"tld_not_supported_and_domain_not_available",TLD_NOT_SUPPORTED_TEMPORARILY:"tld_not_supported_temporarily",TRANSFER_PENDING:"transfer_pending",TRANSFER_PENDING_SAME_USER:"transfer_pending_same_user",TRANSFERRABLE:"transferrable",TRANSFERRABLE_PREMIUM:"transferrable_premium",UNKNOWN:"unknown",UNKOWN_ACTIVE:"unknown_active_domain_with_wpcom",WPCOM_STAGING_DOMAIN:"wpcom_staging_domain"},o={GMAIL:{PROVIDER:"g-suite",SERVICE:"gmail"},G_SUITE:{PROVIDER:"g-suite",SERVICE:"G-Suite"},MICROSOFT_OFFICE365:{PROVIDER:"microsoft-office365",SERVICE:"O365"},TITAN:{PROVIDER:"titan-mail",SERVICE:"titan"},ZOHO_MAIL:{PROVIDER:"zoho-mail",SERVICE:"Zoho"}},c={NONE:"NONE",PENDING:"PENDING",PENDING_ASYNC:"PENDING_ASYNC",ACCEPTED_CONTRACTUAL_MINIMUM:"ACCEPTED_CONTRACTUAL_MINIMUM",ACCEPTED_FULL:"ACCEPTED_FULL",DENIED:"DENIED",FORCED_ALL_CONTRACTUAL:"FORCED_ALL_CONTRACTUAL"},l={DISCOVERY_TXT_RECORD_NAME:"_domainconnect",API_URL:"public-api.wordpress.com/rest/v1.3/domain-connect"},u={SSL_DISABLED:"disabled",SSL_PENDING:"pending",SSL_ACTIVE:"active"},d={DOMAIN_ITEM:"DOMAIN_ITEM",DOMAIN_ROW:"DOMAIN_ROW",PAGE_TITLE:"PAGE_TITLE"},_={MANAGED:"managed",BLOG:"blog"}},"./lib/domains/email-forwarding/get-email-forwards-count.js":(e,t,n)=>{function s(e){return e?.emailForwardsCount??0}n.d(t,{P:()=>s})},"./lib/domains/email-forwarding/has-email-forwards.js":(e,t,n)=>{n.d(t,{b:()=>i});var s=n("./lib/domains/email-forwarding/get-email-forwards-count.js");function i(e){return(0,s.P)(e)>0}},"./lib/domains/utils/get-domain-type.js":(e,t,n)=>{n.d(t,{G:()=>i});var s=n("./lib/domains/constants.js");function i(e){return"redirect"===e.type?s.dt.SITE_REDIRECT:"transfer"===e.type?s.dt.TRANSFER:e.wpcom_domain?s.dt.WPCOM:e.has_registration?s.dt.REGISTERED:s.dt.MAPPED}},"./lib/emails/email-provider-constants.js":(e,t,n)=>{n.d(t,{Nk:()=>s,aD:()=>i,rh:()=>a,wR:()=>r,nB:()=>o,N9:()=>c,ZP:()=>l,g7:()=>u,ng:()=>d,v3:()=>_,X7:()=>m,Br:()=>p});const s="email_forwarding",i="google_workspace",a="google_gsuite",r="titan",o="titan_external",c="email_forward",l="admin",u="google_pending_tos_acceptance",d="unused_mailboxes",_="unverified_forwards",m="other-user-owns-subscription",p="other-user-owns-email"},"./lib/emails/index.js":(e,t,n)=>{function s({mailbox:e,domain:t}){return e&&t?`${e}@${t}`:""}function i(e){return e?.target}function a(e,t){const n=t?.warnings;return(n?.[0]?n:[]).some((t=>e===t?.warning_slug))}n.d(t,{m4:()=>y,xO:()=>s,a_:()=>i,SN:()=>o,JE:()=>c,d9:()=>l,ao:()=>_,Eg:()=>m,Qe:()=>p,T0:()=>g,k8:()=>E.k,je:()=>f,RI:()=>b,DD:()=>h});var r=n("./lib/emails/email-provider-constants.js");function o(e){return a(r.g7,e)}const c=e=>Boolean(e?.introductory_offer??!1),l=e=>c(e)&&0===e?.introductory_offer?.cost_per_interval;var u=n("./lib/gsuite/has-gsuite-with-us.ts"),d=n("./lib/titan/index.js");function _(e){return(0,u.u)(e)||(0,d.zW)(e)}function m(e){return a(r.ng,e)}function p(e){return!!e?.emails?.length&&e.emails.some((e=>!!e?.warnings?.length&&e.warnings.some((e=>e?.warning_slug===r.v3))))}function g(e){return r.N9===e.email_type}var E=n("./lib/emails/is-email-forward-account.js");function f(e){return r.ZP===e?.role}function b(e){return[r.aD,r.rh].includes(e?.account_type)}function h(e){return[r.wR,r.nB].includes(e?.account_type)}var N=n("./lib/domains/can-current-user-add-email.ts"),S=n("./lib/domains/email-forwarding/has-email-forwards.js"),R=n("./lib/gsuite/get-gsuite-product-slug.js"),I=n("./lib/gsuite/get-gsuite-subscription-status.ts");function y(e){const t=Boolean((0,R.s)(e)||(0,d.Si)(e)||(0,S.b)(e)),n="suspended"===(0,I.x)(e);return t&&!n&&(0,N.P)(e)}},"./lib/emails/is-email-forward-account.js":(e,t,n)=>{n.d(t,{k:()=>i});var s=n("./lib/emails/email-provider-constants.js");function i(e){return e?.account_type===s.Nk}},"./lib/format-number-compact/index.js":(e,t,n)=>{n.d(t,{Z:()=>a,K:()=>l});var s=n("../packages/i18n-calypso/src/index.js");const i={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"萬",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"천",grouping:",",decimal:"."},ar:{symbol:" ألف",grouping:"٬",decimal:"٫"},sv:{symbol:" tn",grouping:" ",decimal:","}};function a(e,t=s.ZP.getLocaleSlug()){if(isNaN(e)||!i[t])return null;const{decimal:n,grouping:a,symbol:r,unitValue:o=1e3}=i[t],c=e<0?"-":"",l=Math.abs(e);if(l<o)return`${c}${l}`;const u=l<10*o?1:0;return`${c}${(0,s.Y4)(l/o,{decimals:u,thousandsSep:a,decPoint:n})}${r}`}const r=1e3,o=1e6,c=1e9;function l(e,t=1){return e<r?String(e):e<o?(e/r).toFixed(t)+"K":e<c?(e/o).toFixed(t)+"M":(e/c).toFixed(t)+"G"}},"./lib/gsuite/get-gsuite-product-slug.js":(e,t,n)=>{function s(e){return e?.googleAppsSubscription?.productSlug}n.d(t,{s:()=>s})},"./lib/gsuite/get-gsuite-subscription-status.ts":(e,t,n)=>{function s(e){return e?.googleAppsSubscription?.status??""}n.d(t,{x:()=>s})},"./lib/gsuite/has-gsuite-with-us.ts":(e,t,n)=>{n.d(t,{u:()=>i});var s=n("./lib/gsuite/get-gsuite-subscription-status.ts");function i(e){const t=(0,s.x)(e);return!["","no_subscription","other_provider"].includes(t)}},"./lib/titan/get-titan-urls.js":(e,t,n)=>{n.d(t,{y:()=>i,V:()=>a});const s="mail";function i(e){return e?.titanMailSubscription?.appsUrl??"https://wp.titan.email"}function a(e,t,n=!1,i=null){return function(e,t,n=s,i=!1,a=null){const r=new URL(`${e}/${n}/`);return t?.includes("@")&&r.searchParams.append("email_account",t),a&&r.searchParams.append("topbar.redirect_url",a),i&&r.searchParams.append("clearSession","true"),r.href}(e,t,s,n,i)}},"./lib/titan/index.js":(e,t,n)=>{function s(e){return e.titanMailSubscription?.numberOfMailboxes??0}n.d(t,{bd:()=>s,rQ:()=>r,HV:()=>o,VE:()=>E.V,b_:()=>c,E7:()=>d,HC:()=>l,Vz:()=>u,Ck:()=>m,Si:()=>p,oB:()=>g,zW:()=>f,bm:()=>b,dO:()=>h,PA:()=>S,gs:()=>D,Vd:()=>A});var i=n("./lib/domains/can-current-user-add-email.ts"),a=n("./lib/emails/index.js");function r(e,t,n=!1){if(!t)return null;const s=t.filter((e=>function(e,t=!1){return!e.expired&&!e.isWpcomStagingDomain&&!(0,a.ao)(e)&&!!(0,i.P)(e)&&(!t||h(e))}(e,n)));if(0===s.length)return null;const r=s.find((t=>t.name===e));return r||s.sort(((e,t)=>new Date(t.registrationDate).valueOf()-new Date(e.registrationDate).valueOf())).sort(((e,t)=>Number(t.isPrimary??!1)-Number(e.isPrimary??!1)))[0]}function o(e){return e.titanMailSubscription?.maximumMailboxCount??1}function c(e){return e.titanMailSubscription?.expiryDate}function l(e){return e.titanMailSubscription?.purchaseCostPerMailbox}function u(e){return e.titanMailSubscription?.renewalCostPerMailbox}function d(e){return e.titanMailSubscription?.orderId}var _=n("../packages/i18n-calypso/src/index.js");function m(){return(0,_.Iu)("Professional Email",{comment:"This is the name of our Professional Email product"})}function p(e){return e?.titanMailSubscription?.productSlug??null}function g(e){return e?.titanMailSubscription?.subscriptionId}var E=n("./lib/titan/get-titan-urls.js");function f(e){const t=e?.titanMailSubscription?.status??"";return"active"===t||"suspended"===t}function b({domain:e,product:t}){return!!h(e)&&(0,a.d9)(t)}function h(e){return e?.titanMailSubscription?.isEligibleForIntroductoryOffer??!1}var N=n("../packages/calypso-products/src/constants/titan.ts");function S(e){return e?.product_slug===N.A$}var R=n("../node_modules/react-redux/es/index.js"),I=n("./my-sites/checkout/composite-checkout/hooks/use-site-domains.ts"),y=n("./state/ui/selectors/get-selected-site-id.js");function A(){const e=function(){const e=(0,R.v9)(y.Z);return(0,I.Z)(e??void 0).find(f)}();return(0,E.y)(e)}function D(e){let t;return t="amount"in e?e.amount:e.titanMailSubscription?.purchaseCostPerMailbox?.amount,0===t}},"./my-sites/checkout/composite-checkout/hooks/use-site-domains.ts":(e,t,n)=>{n.d(t,{Z:()=>u});var s=n("../node_modules/debug/src/browser.js"),i=n.n(s),a=n("../node_modules/react/index.js"),r=n("../node_modules/react-redux/es/index.js"),o=n("./state/sites/domains/actions.js"),c=n("./state/sites/domains/selectors.js");const l=i()("calypso:composite-checkout:use-site-domains");function u(e){const t=(0,r.I0)(),[n,s]=(0,a.useState)([]),i=(0,r.v9)((t=>!!e&&(0,c.zd)(t,e))),u=(0,r.v9)((t=>(0,c.eT)(t,e)));return(0,a.useEffect)((()=>{i&&u.length>0&&s(u)}),[i,u]),(0,a.useEffect)((()=>{i||e&&(l("Fetching list of domains"),t((0,o.Pz)(e)))}),[i,t,e]),n}},"./state/analytics/actions/enhance-with-site-main-product.js":(e,t,n)=>{n.d(t,{n:()=>u});const s=/\/(email|inbox|checkout|domains|purchases|plans|view)(\/)*/i;var i=n("./lib/gsuite/has-gsuite-with-us.ts"),a=n("./lib/titan/index.js"),r=n("./state/action-types.ts"),o=n("./state/selectors/is-domain-only-site.js"),c=n("./state/sites/domains/selectors.js"),l=n("./state/ui/selectors/get-selected-site-id.js");function u(e,t){if(e.type!==r.Wj3)return e;if((e=>!e||!s.test(e))(e.meta.analytics[0].payload.url))return e;const n=t(),u=(0,l.Z)(n);let d="site";if((0,o.Z)(n,u)){d="domain";const e=(0,c.eT)(n,u).find((e=>!e.isWPCOMDomain));((0,a.zW)(e)||(0,i.u)(e))&&(d="email")}const _=JSON.parse(JSON.stringify(e));return _.meta.analytics[0].payload.site_main_product=d,_}},"./state/analytics/actions/enhance-with-site-type.js":(e,t,n)=>{n.d(t,{R:()=>r});var s=n("../node_modules/lodash-es/set.js"),i=n("./state/action-types.ts"),a=n("./state/ui/selectors/get-selected-site.ts");function r(e,t){const n=(0,a.Z)(t());return null!==n&&(e.type===i.u2u?(0,s.Z)(e,"meta.analytics[0].payload.properties.site_type",n.jetpack?"jetpack":"wpcom"):(0,s.Z)(e,"meta.analytics[0].payload.site_type",n.jetpack?"jetpack":"wpcom")),e}},"./state/analytics/actions/record-with-client-id.js":(e,t,n)=>{n.d(t,{v:()=>l,y:()=>u});var s=n("../node_modules/lodash-es/set.js"),i=n("./state/action-types.ts"),a=n("./state/oauth2-clients/ui/selectors.js"),r=n("./state/utils/with-enhancers.ts"),o=n("./state/analytics/actions/record.js");const c=(e,t)=>{const n=(0,a.HK)(t());return n&&(e.type===i.u2u?(0,s.Z)(e,"meta.analytics[0].payload.properties.client_id",n):(0,s.Z)(e,"meta.analytics[0].payload.client_id",n)),e},l=(0,r.i)(o.jN,c),u=(0,r.i)(o.AR,c)},"./state/sites/domains/actions.js":(e,t,n)=>{n.d(t,{nN:()=>R,A:()=>y,pK:()=>S,Pz:()=>N,UL:()=>A,FX:()=>I});var s=n("../node_modules/debug/src/browser.js"),i=n.n(s),a=n("../packages/i18n-calypso/src/index.js"),r=n("../node_modules/lodash-es/map.js"),o=n("./lib/wp/browser.js"),c=n("./state/action-types.ts"),l=n("./state/sites/actions.js"),u=n("./state/sites/domains/assembler.js"),d=n("../node_modules/lodash-es/get.js"),_=n("./state/data-layer/handler-registry.js"),m=n("./state/data-layer/wpcom-http/actions.js"),p=n("./state/data-layer/wpcom-http/utils.js"),g=n("./state/notices/actions.ts");const E=e=>t=>(0,m.d)({apiVersion:"1",method:"POST",path:"/domains/"+t.domain+"/privacy/"+e},t),f=e=>({siteId:t,domain:n})=>{const s=(e=>{switch(e){case c.ON1:return(0,a.Iu)("Privacy has been successfully disabled!");case c.DGo:return(0,a.Iu)("Yay, privacy has been successfully enabled!");case c.tGX:return(0,a.Iu)("Your contact information is now publicly visible!");case c.HYG:return(0,a.Iu)("Your contact information is now redacted!");default:return""}})(e);return[{type:e,siteId:t,domain:n},(0,g.RT)(s,{duration:5e3})]},b=e=>({siteId:t,domain:n},s)=>{const i=(0,d.Z)(s,"message",(0,a.Iu)("Unknown error when updating the domain privacy settings"));return[{type:e,siteId:t,domain:n},(0,g.tF)(i,{duration:2e4,id:"domain-privacy-settings-save-failure-notice",isPersistent:!0,href:"https://wordpress.com/help/contact",button:(0,a.Iu)("Get Help"),showDismiss:!1})]};(0,_.Z9)("state/data-layer/wpcom/domains/privacy/index.js",{[c.sBg]:[(0,p.BN)({fetch:E("enable"),onSuccess:f(c.DGo),onError:b(c.zVI)})],[c.HCR]:[(0,p.BN)({fetch:E("disable"),onSuccess:f(c.ON1),onError:b(c.T6o)})],[c.w6q]:[(0,p.BN)({fetch:E("disclose"),onSuccess:f(c.tGX),onError:b(c.M5U)})],[c.K1T]:[(0,p.BN)({fetch:E("redact"),onSuccess:f(c.HYG),onError:b(c.sQe)})]});const h=i()("calypso:state:sites:domains:actions");function N(e){return t=>(t((e=>{const t={type:c.wOJ,siteId:e};return h("returning action: %o",t),t})(e)),o.Z.req.get(`/sites/${e}/domains`,{apiVersion:"1.2"}).then((n=>{const{domains:s=[],error:i,message:a}=n;if(i)throw new Error(a);t((e=>{const t={type:c.RI4,siteId:e};return h("returning action: %o",t),t})(e)),t(((e,t)=>{const n={type:c.t2O,siteId:e,domains:(0,r.Z)(t,u.e)};return h("returning action: %o",n),n})(e,s))})).catch((n=>{const s=n instanceof Error?n.message:(0,a.Iu)("There was a problem fetching site domains. Please try again later or contact support.");t(((e,t)=>{const n={type:c.dyA,siteId:e,error:t};return h("returning action: %o",n),n})(e,s))})))}function S(e,t){return{type:c.sBg,siteId:e,domain:t}}function R(e,t){return{type:c.HCR,siteId:e,domain:t}}const I=(e,t)=>async n=>{h("setPrimaryDomain",e,t),await o.Z.req.post(`/sites/${e}/domains/primary`,{domain:t}),await Promise.all([n((0,l.LV)(e)),n(N(e))])};function y(e,t){return{type:c.w6q,siteId:e,domain:t}}function A(e,t){return{type:c.K1T,siteId:e,domain:t}}},"./state/sites/domains/assembler.js":(e,t,n)=>{n.d(t,{e:()=>d});var s=n("../node_modules/lodash-es/mapKeys.js"),i=n("../node_modules/lodash-es/camelCase.js");var a=n("./lib/domains/constants.js");function r(e){switch(e.gdpr_consent_status){case"NONE":return a.j4.NONE;case"PENDING":return a.j4.PENDING;case"PENDING_ASYNC":return a.j4.PENDING_ASYNC;case"ACCEPTED_CONTRACTUAL_MINIMUM":return a.j4.ACCEPTED_CONTRACTUAL_MINIMUM;case"ACCEPTED_FULL":return a.j4.ACCEPTED_FULL;case"DENIED":return a.j4.DENIED;case"FORCED_ALL_CONTRACTUAL":return a.j4.FORCED_ALL_CONTRACTUAL;default:return null}}function o(e){return"pending_owner"===e.transfer_status?a.fN.PENDING_OWNER:"pending_registry"===e.transfer_status?a.fN.PENDING_REGISTRY:"cancelled"===e.transfer_status?a.fN.CANCELLED:"completed"===e.transfer_status?a.fN.COMPLETED:"pending_start"===e.transfer_status?a.fN.PENDING_START:null}var c=n("./lib/domains/utils/get-domain-type.js");function l(e){if(e)return(0,s.Z)(e,((e,t)=>(0,i.default)(t)))}function u(e){if(!e||!e.errors)return null;const t=Object.entries(e.errors).map((e=>{const[t,n]=e;return{code:t,message:n[0]}}));return t.length?t[0]:null}const d=e=>{let t=null;return e.transfer_start_date&&(t=new Date(e.transfer_start_date),t.setDate(t.getDate()+7),t=t.toISOString()),{aRecordsRequiredForMapping:e.a_records_required_for_mapping,autoRenewalDate:String(e.auto_renewal_date),adminEmail:e.admin_email,aftermarketAuction:Boolean(e.aftermarket_auction),aftermarketAuctionEnd:String(e.aftermarket_auction_end??""),aftermarketAuctionStart:String(e.aftermarket_auction_start??""),autoRenewing:Boolean(e.auto_renewing),beginTransferUntilDate:String(e.begin_transfer_until_date),blogId:Number(e.blog_id),bundledPlanSubscriptionId:e.bundled_plan_subscription_id,canSetAsPrimary:Boolean(e.can_set_as_primary),canManageDnsRecords:Boolean(e.can_manage_dns_records),canManageNameServers:Boolean(e.can_manage_name_servers),canUpdateContactInfo:Boolean(e.can_update_contact_info),cannotManageDnsRecordsReason:e.cannot_manage_dns_records_reason?String(e.cannot_manage_dns_records_reason):null,cannotManageNameServersReason:e.cannot_manage_name_servers_reason?String(e.cannot_manage_name_servers_reason):null,cannotUpdateContactInfoReason:e.cannot_update_contact_info_reason?String(e.cannot_update_contact_info_reason):null,connectionMode:String(e.connection_mode),contactInfoDisclosureAvailable:Boolean(e.contact_info_disclosure_available),contactInfoDisclosed:Boolean(e.contact_info_disclosed),currentUserCanAddEmail:Boolean(e.current_user_can_add_email),currentUserCanCreateSiteFromDomainOnly:Boolean(e.current_user_can_create_site_from_domain_only),currentUserCanManage:Boolean(e.current_user_can_manage),currentUserCannotAddEmailReason:u(e.current_user_cannot_add_email_reason),currentUserIsOwner:Boolean(e.current_user_is_owner),domain:String(e.domain),domainLockingAvailable:Boolean(e.domain_locking_available),domainRegistrationAgreementUrl:(n=e,n?.domain_registration_agreement_url??null),emailForwardsCount:Number(e.email_forwards_count),expired:Boolean(e.expired),expiry:e.expiry?String(e.expiry):null,expirySoon:Boolean(e.expiry_soon),gdprConsentStatus:r(e),googleAppsSubscription:l(e.google_apps_subscription),titanMailSubscription:l(e.titan_mail_subscription),hasRegistration:Boolean(e.has_registration),hasWpcomNameservers:e.has_wpcom_nameservers,hasZone:Boolean(e.has_zone),isLocked:Boolean(e.is_locked),isRenewable:Boolean(e.is_renewable),isRedeemable:Boolean(e.is_redeemable),isEligibleForInboundTransfer:Boolean(e.is_eligible_for_inbound_transfer),isAutoRenewing:Boolean(e.auto_renewing),isIcannVerificationSuspended:"boolean"==typeof e.is_icann_verification_suspended?Boolean(e.is_icann_verification_suspended):null,isPendingIcannVerification:Boolean(e.is_pending_icann_verification),isPendingRenewal:Boolean(e.pending_renewal),isPremium:Boolean(e.is_premium),isPrimary:Boolean(e.primary_domain),isPendingWhoisUpdate:Boolean(e.pending_whois_update),isSubdomain:Boolean(e.is_subdomain),isWPCOMDomain:Boolean(e.wpcom_domain),isWpcomStagingDomain:Boolean(e.is_wpcom_staging_domain),manualTransferRequired:Boolean(e.manual_transfer_required),mustRemovePrivacyBeforeContactUpdate:Boolean(e.must_remove_privacy_before_contact_update),name:String(e.domain),owner:String(e.owner),partnerDomain:Boolean(e.partner_domain),pendingRegistration:Boolean(e.pending_registration),pendingRegistrationTime:String(e.pending_registration_time),pendingTransfer:e.pending_transfer,pointsToWpcom:Boolean(e.points_to_wpcom),privateDomain:e.private_domain,privacyAvailable:Boolean(e.privacy_available),registrar:String(e.registrar),registrationDate:String(e.registration_date),renewableUntil:String(e.renewable_until),redeemableUntil:String(e.redeemable_until),registryExpiryDate:String(e.registry_expiry_date??""),sslStatus:e.ssl_status?String(e.ssl_status):null,subdomainPart:String(e.subdomain_part),subscriptionId:e.subscription_id,supportsDomainConnect:Boolean(e.supports_domain_connect),supportsGdprConsentManagement:Boolean(e.supports_gdpr_consent_management),supportsTransferApproval:Boolean(e.supports_transfer_approval),tldMaintenanceEndTime:e.tld_maintenance_end_time,transferAwayEligibleAt:e.transfer_away_eligible_at?String(e.transfer_away_eligible_at):null,transferLockOnWhoisUpdateOptional:Boolean(e.transfer_lock_on_whois_update_optional),type:(0,c.G)(e),transferStatus:o(e),transferStartDate:e.transfer_start_date?String(e.transfer_start_date):null,transferEndDate:t,whoisUpdateUnmodifiableFields:e.whois_update_unmodifiable_fields};var n}},"./state/sites/domains/selectors.js":(e,t,n)=>{n.d(t,{eT:()=>i,BL:()=>a,CC:()=>r,fw:()=>o,hB:()=>c,zd:()=>l,JZ:()=>u,kJ:()=>d,wb:()=>_});const s=Object.freeze([]),i=(e,t)=>t&&e.sites.domains.items[t]||s,a=(e,t)=>{const n=i(e,t);if(!Array.isArray(n))return null;return n.find((({isWPCOMDomain:e,isWpcomStagingDomain:t})=>e||t))||null},r=e=>e.sites.domains.items,o=e=>e.allDomains.domains??[],c=(e,t)=>t?i(e,t.ID):s,l=(e,t)=>!!t&&Boolean(e?.sites?.domains?.items?.[t]),u=(e,t)=>e.sites.domains.requesting[t]||!1,d=e=>e.sites.domains.requesting,_=(e,t,n)=>e?.sites?.domains?.updatingPrivacy?.[t]?.[n]},"./state/utils/with-enhancers.ts":(e,t,n)=>{n.d(t,{i:()=>s});const s=(e,t)=>(...n)=>{const s=e(...n);return Array.isArray(t)||(t=[t]),(e,n,i)=>{const a=s=>e((e=>t.reduce(((e,t)=>t(e,n)),e))(s)),r=e=>"function"==typeof e?e(r,n,i):a(e);return r(s)}}},"../packages/components/src/spinner/index.tsx":(e,t,n)=>{n.d(t,{$:()=>c});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/classnames/index.js"),a=n.n(i),r=n("../node_modules/react/index.js"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends r.PureComponent{render(){const e=a()(this.props.baseClassName,this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return(0,o.tZ)("div",{className:e,children:(0,o.tZ)("div",{className:"spinner__outer",style:t,children:(0,o.tZ)("div",{className:"spinner__inner"})})})}}(0,s.Z)(c,"defaultProps",{size:20,baseClassName:"spinner"})}}]);