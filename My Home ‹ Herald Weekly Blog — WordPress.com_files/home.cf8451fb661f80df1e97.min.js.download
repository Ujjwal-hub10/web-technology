"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[85177,49149],{"./blocks/announcement-modal/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>g});var i=s("../packages/components/src/button/index.tsx"),o=s("../node_modules/@wordpress/components/build-module/guide/index.js"),a=s("../node_modules/page/page.js"),n=s.n(a),r=s("../node_modules/react-redux/es/index.js"),c=s("./lib/formatting/prevent-widows.js"),l=s("./state/analytics/actions/record.js"),d=s("./state/current-user/selectors.js"),u=s("./state/preferences/actions.js"),p=s("./state/preferences/selectors.js"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=({headline:e,heading:t,content:s,image:o,cta:a,handleClick:n})=>(0,m.BX)("div",{className:"announcement-modal__page",children:[(0,m.BX)("div",{className:"announcement-modal__text",children:[(0,m.tZ)("div",{className:"announcement-modal__headline",children:(0,m.tZ)("span",{children:e})}),(0,m.tZ)("div",{className:"announcement-modal__heading",children:(0,c.R)(t)}),(0,m.tZ)("div",{className:"announcement-modal__description",children:(0,m.tZ)("p",{children:(0,c.R)(s)})}),a&&(0,m.tZ)("div",{className:"announcement-modal__cta",children:(0,m.tZ)(i.Z,{primary:!0,onClick:n,children:a})})]}),(0,m.tZ)("div",{className:"announcement-modal__visual",children:o})]}),g=({announcementId:e,pages:t,finishButtonText:s})=>{const i=(0,r.I0)(),a=(0,r.v9)((e=>(0,d.rc)(e))),c=(0,r.v9)(p.V2),g=`announcement-modal-${e}-${a}`,_=(0,r.v9)((e=>(0,p.Oz)(e,g))),y=1===t.length;if(!c||_)return null;const k=()=>{i((0,u.zZ)(g,1)),i((0,l.jN)("calypso_announcement_modal_dismiss",{announcement_id:e}))};return(0,m.tZ)(o.Z,{className:"announcement-modal",onFinish:k,finishButtonText:s,pages:t.map((t=>({content:(0,m.tZ)(h,{image:(0,m.BX)("picture",{className:"announcement-modal__picture",children:[(0,m.tZ)("source",{srcSet:t.featureImage,media:"(min-width: 600px)"}),(0,m.tZ)("img",{alt:"",src:t.featureImage})]},t.featureImage),headline:t.headline,heading:t.heading,content:t.content,cta:y?s:null,handleClick:()=>{return t?.ctaLink?(s=t.ctaLink,i((0,u.zZ)(g,1)),i((0,l.jN)("calypso_announcement_modal_click",{announcement_id:e})),void n()(s)):k();var s}})})))})}},"./blocks/get-apps/apps-badge.jsx":(e,t,s)=>{s.d(t,{Z:()=>y});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/calypso-config/src/index.ts"),a=s("../node_modules/classnames/index.js"),n=s.n(a),r=s("../packages/i18n-calypso/src/index.js"),c=s("../node_modules/lodash-es/startsWith.js"),l=s("../node_modules/react/index.js"),d=s("../node_modules/react-redux/es/index.js"),u=(s("./components/translatable/proptype.js"),s("./lib/i18n-utils/browser.js")),p=s("./lib/user-agent/index.js"),m=s("./state/analytics/actions/record.js"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g={ios:{defaultSrc:"/calypso/images/me/get-apps-ios-store.svg",src:"https://linkmaker.itunes.apple.com/assets/shared/badges/{localeSlug}/appstore-lrg.svg",tracksEvent:"calypso_app_download_ios_click",getStoreLink:(e,t,s,i)=>`https://apps.apple.com/app/apple-store/id${i?"1565481562":"335703880"}?pt=299112&ct=${e}&mt=8`,getTitleText:e=>e?(0,r.Iu)("Download the Jetpack iOS mobile app."):(0,r.Iu)("Download the WordPress iOS mobile app."),getAltText:()=>(0,r.Iu)("Apple App Store download badge"),getLocaleSlug:function(){const e=(0,u.Y)().split("-")[0];return"en"===e?"en-us":`${e}-${e}`}},android:{defaultSrc:"/calypso/images/me/get-apps-google-play.png",src:"https://play.google.com/intl/en_us/badges/images/generic/{localeSlug}_badge_web_generic.png",tracksEvent:"calypso_app_download_android_click",getStoreLink:(e,t="web",s="mobile-download-promo-pages",i)=>`https://play.google.com/store/apps/details?id=${i?"com.jetpack.android":"org.wordpress.android"}&referrer=utm_source%3D%${e}%26utm_medium%3D${t}%26utm_campaign%3D${s}`,getTitleText:e=>e?(0,r.Iu)("Download the Jetpack Android mobile app."):(0,r.Iu)("Download the WordPress Android mobile app."),getAltText:()=>(0,r.Iu)("Google Play Store download badge"),getLocaleSlug:u.Y}};class _ extends l.PureComponent{constructor(e){super(e),(0,i.Z)(this,"onLoadImageComplete",(()=>{this.setState({hasExternalImageLoaded:!0})})),(0,i.Z)(this,"onLoadImageError",(()=>{this.setState({hasExternalImageLoaded:!1,imageSrc:g[this.props.storeName].defaultSrc})})),(0,i.Z)(this,"onLinkClick",(()=>{const{storeName:e,utm_source:t}=this.props;this.props.recordTracksEvent(g[e].tracksEvent,{utm_source_string:t})}));const t=g[e.storeName].getLocaleSlug().toLowerCase(),s=!(0,c.Z)(t,"en");this.state={imageSrc:s?g[e.storeName].src.replace("{localeSlug}",t):g[e.storeName].defaultSrc},s&&(this.image=null,this.loadImage());const{isiPad:a,isiPod:n,isiPhone:r,isAndroid:l}=p.Z,d=a||n||r;this.displayJetpackAppBranding=o.ZP.isEnabled("jetpack/app-branding")&&(d||l)}loadImage(){this.image=new globalThis.Image,this.image.src=this.state.imageSrc,this.image.onload=this.onLoadImageComplete,this.image.onerror=this.onLoadImageError}render(){const{altText:e,titleText:t,storeLink:s,storeName:i,utm_source:o,utm_medium:a,utm_campaign:r}=this.props,{imageSrc:c,hasExternalImageLoaded:l}=this.state,d=n()("get-apps__app-badge",{[`${i}-app-badge`]:!0,"is-external-image":l}),u=g[i];return(0,h.tZ)("figure",{className:d,children:(0,h.tZ)("a",{href:s||u.getStoreLink(o,a,r,this.displayJetpackAppBranding),onClick:this.onLinkClick,target:"_blank",rel:"noopener noreferrer",children:(0,h.tZ)("img",{src:c,title:t||u.getTitleText(this.displayJetpackAppBranding),alt:e||u.getAltText()})})})}}(0,i.Z)(_,"defaultProps",{altText:"",storeLink:null,titleText:""});const y=(0,d.$j)(null,{recordTracksEvent:m.jN})(_)},"./blocks/inline-help/inline-help-search-results.jsx":(e,t,s)=>{s.d(t,{Z:()=>A});var i=s("../packages/components/src/gridicon/index.tsx"),o=s("../packages/data-stores/src/contextual-help/contextual-help.tsx"),a=s("../packages/i18n-utils/src/localize-url.tsx"),n=s("../node_modules/@wordpress/a11y/build-module/index.js"),r=s("../node_modules/@wordpress/icons/build-module/icon/index.js"),c=s("../node_modules/@wordpress/icons/build-module/library/arrow-right.js"),l=s("../node_modules/@wordpress/icons/build-module/library/page.js"),d=s("../packages/i18n-calypso/src/use-translate.js"),u=s("../node_modules/lodash-es/debounce.js"),p=s("../node_modules/page/page.js"),m=s.n(p),h=s("../node_modules/react/index.js"),g=s("../node_modules/react-redux/es/index.js"),_=s("./components/data/query-user-purchases/index.jsx"),y=s("./data/help/use-help-search-query.ts"),k=s("./lib/formatting/prevent-widows.js"),b=s("./lib/formatting/decode-entities.ts"),f=s("./state/analytics/actions/record.js"),v=s("./state/inline-help/selectors/get-admin-help-results.js"),w=s("./state/selectors/has-cancelable-user-purchases.js"),Z=s("./state/sites/hooks/index.js"),x=s("./state/ui/selectors/get-section-name.js"),j=s("./blocks/inline-help/constants.ts"),I=s("./blocks/inline-help/placeholder-lines.tsx"),N=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const S=()=>{};function C({message:e="",priority:t="polite",timeout:s=800}){return(0,u.Z)((()=>{(0,n.D)(e,t)}),s)}const E=C({message:"Loading search results.",timeout:1500}),P=C({message:"Search results loaded."}),T=C({message:"No search results found."});const A=function({externalLinks:e=!1,onSelect:t,onAdminSectionSelect:s=S,searchQuery:n="",placeholderLines:u,openAdminInNewTab:p=!1,location:C="inline-help-popover"}){const A=(0,d.Z)(),L=(0,g.I0)(),D=(0,g.v9)(w.Z),B=(0,g.v9)(x.Z),R=["purchases","site-purchases"].includes(B),U=(0,Z.P)("site_intent"),O=(0,h.useMemo)((()=>(0,o.r_)(B,U)),[B,U]),z=(0,g.v9)((e=>(0,v.Z)(e,n,3))),M=O.filter(((e,t)=>e||t?()=>!0:({post_id:e})=>111349!==e)(D,R)),{data:q,isLoading:F}=(0,y.e)(n),$=q?.wordpress_support_links??[],X=$.length>0;(0,h.useEffect)((()=>{E.cancel(),P.cancel(),T.cancel(),n&&(F?E():X?X&&P():T())}),[F,X,n]);const H=(o,d)=>{const{link:u,title:g,icon:_}=o,y=e&&d!==j.QZ;return(0,N.tZ)(h.Fragment,{children:(0,N.tZ)("li",{className:"inline-help__results-item",children:(0,N.tZ)("div",{className:"inline-help__results-cell",children:(0,N.BX)("a",{href:(0,a.aq)(u),onClick:e=>{y||e.preventDefault(),((e,i,o)=>{const{link:a}=i;if(o===j.QZ&&a)return L((0,f.jN)("calypso_inlinehelp_admin_section_visit",{link:a,search_term:n,location:C,section:B})),void(/^http/.test(a)||(e.preventDefault(),p?window.open("https://wordpress.com"+a,"_blank"):m()(a),s(e)));t(e,i)})(e,o,d)},...y&&{target:"_blank",rel:"noreferrer"},children:[(0,N.tZ)((()=>"admin_section"===d?(0,N.tZ)(r.Z,{icon:c.Z}):_?(0,N.tZ)(i.Z,{icon:_}):(0,N.tZ)(r.Z,{icon:l.Z})),{}),(0,N.tZ)("span",{children:(0,k.R)((0,b.S)(g))})]})})})},u??g)},G=({type:e,title:t,results:s,condition:i})=>{const o=`inline-search--${e}`;return i?(0,N.BX)(h.Fragment,{children:[t?(0,N.tZ)("h3",{id:o,className:"inline-help__results-title",children:t}):null,(0,N.tZ)("ul",{className:"inline-help__results-list","aria-labelledby":t?o:void 0,children:s.map((t=>H(t,e)))})]},o):null},W=A(X?"Search Results":"Helpful resources for this section");return(0,N.BX)(N.HY,{children:[(0,N.tZ)(_.Z,{}),!F||$.length||z.length?(0,N.BX)(N.HY,{children:[!n||X||F?null:(0,N.tZ)("p",{className:"inline-help__empty-results",children:A("Sorry, there were no matches. Here are some of the most searched for help pages for this section:")}),(0,N.tZ)("div",{className:"inline-help__results","aria-label":W,children:[{type:j.EE,title:A("Recommended resources"),results:$.slice(0,5),condition:!F&&$.length>0},{type:j.D_,title:n.length?"":A("Recommended resources"),results:M.slice(0,6),condition:!F&&!$.length&&M.length>0},{type:j.QZ,title:A("Show me where to"),results:z,condition:!!n&&z.length>0}].map(G)})]}):(0,N.tZ)(I.Z,{lines:u})]})}},"./blocks/inline-help/placeholder-lines.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o({lines:e=4}){return(0,i.tZ)("div",{className:"inline-help__results-placeholder",children:Array.from({length:e},((e,t)=>(0,i.tZ)("div",{className:"inline-help__results-placeholder-item"},t)))})}},"./components/animated-icon/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/classnames/index.js"),o=s.n(i),a=s("../node_modules/lottie-web/build/player/lottie_light.js"),n=s.n(a),r=s("../node_modules/react/index.js"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=({icon:e,className:t})=>{const s=(0,r.useRef)();return(0,r.useEffect)((()=>{const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=n().loadAnimation({container:s.current,renderer:"svg",loop:!1,autoplay:!t,path:e,rendererSettings:{viewBoxOnly:!0}});return t&&i.addEventListener("config_ready",(()=>{i.goToAndPlay(i.totalFrames,!0)})),()=>i.destroy()}),[e]),(0,c.tZ)("div",{ref:s,className:o()("animated-icon",t)})}},"./components/badge/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/classnames/index.js"),a=s.n(o),n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends n.Component{render(){const{className:e,type:t}=this.props;return(0,r.tZ)("div",{className:a()(`badge badge--${t}`,e),children:this.props.children})}}(0,i.Z)(c,"defaultProps",{type:"warning"})},"./components/blank-canvas/index.js":(e,t,s)=>{s.d(t,{Z:()=>m});var i=s("../node_modules/@wordpress/components/build-module/button/index.js"),o=s("../node_modules/@wordpress/i18n/build-module/index.js"),a=s("../node_modules/@wordpress/icons/build-module/library/chevron-left.js"),n=s("../node_modules/react/index.js"),r=s("../node_modules/react-dom/index.js"),c=s("../node_modules/react-redux/es/index.js"),l=s("./components/wordpress-logo/index.jsx"),d=s("./state/ui/layout-focus/actions.js"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=o.__,m=({className:e,children:t})=>{const s=(0,c.I0)();return(0,n.useEffect)((()=>(document.documentElement.classList.add("has-blank-canvas"),s((0,d.Js)("content")),()=>document.documentElement.classList.remove("has-blank-canvas"))),[]),r.createPortal((0,u.tZ)("div",{className:`blank-canvas ${e}`,children:t}),document.body)};m.Header=({backUrl:e,children:t,onBackClick:s})=>(0,u.BX)("div",{className:"blank-canvas__header",children:[(0,u.tZ)(l.Z,{}),(e||s)&&(0,u.tZ)(i.Z,{className:"blank-canvas__back",href:e,icon:a.Z,onClick:s,children:p("Back")}),t.length&&(0,u.tZ)("div",{className:"blank-canvas__header-title",children:t})]}),m.Content=({children:e})=>(0,u.tZ)("div",{className:"blank-canvas__content",children:e}),m.Footer=({children:e})=>(0,u.tZ)("div",{className:"blank-canvas__footer",children:e})},"./components/blogging-prompt-card/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>E});var i=s("../packages/components/src/button/index.tsx"),o=s("../packages/components/src/gridicon/index.tsx"),a=s("../packages/components/src/card/index.tsx"),n=s("../node_modules/classnames/index.js"),r=s.n(n),c=s("../packages/i18n-calypso/src/use-translate.js"),l=s("../node_modules/react-redux/es/index.js"),d=s("./components/card-heading/index.jsx"),u=s("./components/ellipsis-menu/index.jsx"),p=s("../node_modules/moment/moment.js"),m=s.n(p),h=s("../node_modules/react-query/es/index.js"),g=s("./lib/wp/browser.js");const _=e=>{const t=e&&e.prompts;return t||null};var y=s("./data/home/use-skip-current-view-mutation.ts"),k=s("./my-sites/customer-home/cards/constants.js"),b=s("./state/analytics/actions/record.js"),f=s("./state/sites/selectors/get-site-slug.js"),v=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(){return(0,v.tZ)("span",{className:"blogging-prompt__bell-icon",children:(0,v.tZ)("svg",{className:"gridicon",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 0 24 24",height:"24px",width:"24px",children:(0,v.BX)("g",{children:[(0,v.tZ)("mask",{id:"mask0_766_4208",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"7",y:"5",width:"14",height:"17",children:(0,v.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.8003 18.0896L20.8003 17.2575L20.0591 16.7013C19.5511 16.3206 19.1357 15.6341 19.1357 15.1769L19.1357 10.5984C19.1357 7.84064 16.8995 5.60442 14.1418 5.60442C11.384 5.60442 9.14782 7.84064 9.14782 10.5984L9.14723 15.1763C9.14723 15.6335 8.7318 16.32 8.22386 16.7007L7.48199 17.2575L7.48199 18.0896L20.8003 18.0896ZM15.2826 20.5232C15.6078 20.1979 15.7705 19.7713 15.7705 19.3447L12.4376 19.3447C12.4376 19.7713 12.6009 20.1973 12.9255 20.5232C13.5767 21.1743 14.6314 21.1743 15.2826 20.5232Z",fill:"white"})}),(0,v.tZ)("g",{mask:"url(#mask0_766_4208)",children:(0,v.tZ)("rect",{y:"14.1422",width:"20",height:"20",transform:"rotate(-45 0 14.1422)"})}),(0,v.tZ)("path",{className:"bell",d:"M21.1406 6.14215L7.14062 20.1422",stroke:"var(--color-neutral-50)",strokeWidth:"1.5"}),(0,v.tZ)("path",{className:"strike-through",d:"M20.1406 5.14215L5.14062 20.1421",stroke:"white",strokeWidth:"1.5"})]})})})}function Z(){return(0,v.tZ)("span",{className:"blogging-prompt__lightbulb-icon",children:(0,v.tZ)("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,v.tZ)("path",{d:"m12.3438 17.3438h-4.68755c-.08594 0-.15625.0703-.15625.1562v.625c0 .3457.2793.625.625.625h3.75c.3457 0 .625-.2793.625-.625v-.625c0-.0859-.0703-.1562-.1562-.1562zm-2.3438-16.0938c-3.53711 0-6.40625 2.86914-6.40625 6.40625 0 2.37105 1.28906 4.44145 3.20313 5.54885v2.2637c0 .3457.27929.625.625.625h5.15622c.3457 0 .625-.2793.625-.625v-2.2637c1.9141-1.1074 3.2031-3.1778 3.2031-5.54885 0-3.53711-2.8691-6.40625-6.4062-6.40625zm2.498 10.7383-.7011.4062v2.293h-3.59378v-2.293l-.70117-.4062c-1.53711-.8887-2.50195-2.52541-2.50195-4.33205 0-2.76172 2.23828-5 5-5 2.7617 0 5 2.23828 5 5 0 1.80664-.9648 3.44335-2.502 4.33205z",fill:"#656970",stroke:"#fff",strokeWidth:".1"})})},"blogging-prompt__lightbulb-icon")}var x=s("../node_modules/@wordpress/url/build-module/add-query-args.js"),j=s("../node_modules/react/index.js"),I=s("./lib/navigate/index.ts"),N=s("./state/selectors/get-editor-url.js");function S(){return(0,v.tZ)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,v.tZ)("path",{d:"m7.82094 2.62187c.06408-.16249.29404-.16249.35812 0l1.36914 3.47149c.01957.04961.05883.08887.10844.10844l3.47146 1.36914c.1625.06408.1625.29404 0 .35812l-3.47146 1.36914c-.04961.01957-.08887.05883-.10844.10844l-1.36914 3.47146c-.06408.1625-.29404.1625-.35812 0l-1.36914-3.47146c-.01957-.04961-.05884-.08887-.10844-.10844l-3.47149-1.36914c-.16249-.06408-.16249-.29404 0-.35812l3.47149-1.36914c.04961-.01957.08887-.05884.10844-.10844z",stroke:"#787c82",strokeWidth:"1.25"})})}const C=({siteId:e,prompts:t,tracksPrefix:s,index:a})=>{const n=(0,l.I0)(),d=(0,c.Z)(),u=(0,l.v9)((t=>(0,N.Z)(t,e))),p=a?a%t.length:0,[m,h]=(0,j.useState)(p),g=()=>void 0!==t?t[m]:null,_=()=>(0,x.f)(e?u:"/post",{answer_prompt:g()?.id}),y=e=>{"forward"===e?(()=>{const e=t.length-1;let s=m+1;s>e&&(s=e),h(s)})():(()=>{let e=m-1;e<=1&&(e=0),h(e)})()},k=i=>{i.preventDefault(),n((0,b.jN)(s+"answer_prompt",{site_id:e,prompt_id:g()?.id}));const o=t[0].id,a=g()?.id;o!==a&&n((0,b.jN)(s+"skip_prompt",{site_id:e,prompt_id:o})),(0,I.c)(_())},f=()=>{n((0,b.jN)(s+"view_all_responses",{site_id:e,prompt_id:g()?.id}))},w=()=>{const e=g();let t=(0,v.BX)("div",{className:"blogging-prompt__prompt-no-response",children:[(0,v.tZ)(S,{}),d("Be the first to respond")]});const s=(0,v.tZ)("a",{href:"/tag/dailyprompt"+(e&&e.id?"-"+encodeURIComponent(e.id):""),className:"blogging-prompt__prompt-responses-link",onClick:f,children:d("View all responses")});return e?.answered_users_sample.length>0&&(t=(0,v.BX)("div",{className:"blogging-prompt__prompt-responses",children:[(0,v.tZ)("div",{className:"blogging-prompt__prompt-responses-users",children:e?.answered_users_sample.map((e=>(0,v.tZ)("img",{alt:"answered-users",src:e.avatar},e.avatar)))}),e?.answered_users_count>0?s:""]})),t};return(0,v.BX)("div",{className:"blogging-prompt__prompt-container",children:[(()=>{const e=r()("navigation-link");return(0,v.BX)("div",{className:"blogging-prompt__prompt-navigation",children:[(0,v.tZ)(i.Z,{borderless:!1,className:e,onClick:()=>y("back"),disabled:0===m,children:(0,v.tZ)(o.Z,{icon:"arrow-left",size:18})}),(0,v.tZ)("div",{className:"blogging-prompt__prompt-text",children:g()?.text}),(0,v.tZ)(i.Z,{borderless:!1,className:e,onClick:()=>y("forward"),disabled:m>=t?.length-1,children:(0,v.tZ)(o.Z,{icon:"arrow-right",size:18})})]})})(),(0,v.BX)("div",{className:"blogging-prompt__prompt-answers",children:[w(),(0,v.tZ)(i.Z,{href:_(),onClick:k,children:d("Post Answer",{comment:'"Post" here is a verb meaning "to publish", as in "post an answer to this writing prompt"'})})]})]})},E=({siteId:e,viewContext:t,showMenu:s,index:n})=>{const p=(0,l.I0)(),x=(0,c.Z)(),j=(0,l.v9)((t=>(0,f.Z)(t,e))),I="/me/notifications"+(j?"#"+j:""),{data:N}=((e,t)=>{const s=m()().format("YYYY-MM-DD");return(0,h.useQuery)(["blogging-prompts",s+"-"+t],(()=>g.Z.req.get({path:`/sites/${e}/blogging-prompts?number=${t}&from=${s}`,apiNamespace:"wpcom/v2"})),{enabled:!!e,staleTime:864e5,select:_})})(e,10),{skipCard:S}=(0,y.Z)(e);if(void 0===N)return null;const E=()=>"home"===t?"calypso_customer_home_":"reader"===t?"calypso_reader_":void console.error("A valid viewContext is required for the BloggingPromptCard component."),P=()=>{S(k.Lj),p((0,b.jN)(E()+"task_skip",{task:k.Lj}))};return(0,v.tZ)("div",{className:"blogging-prompt",children:(0,v.BX)(a.Z,{className:r()("customer-home__card","blogging-prompt__card"),children:[(0,v.BX)(d.Z,{children:[(0,v.tZ)(Z,{}),(0,v.tZ)("span",{className:"blogging-prompt__heading-text",children:x("Daily writing prompt")},"blogging-prompt__heading-text"),s&&(0,v.BX)(u.Z,{className:"blogging-prompt__menu",position:"bottom",children:[(0,v.BX)(i.Z,{className:"popover__menu-item",onClick:P,children:[(0,v.tZ)(o.Z,{icon:"not-visible",className:"gridicons-not-visible"}),x("Hide Daily Prompts")]}),(0,v.BX)(i.Z,{className:"popover__menu-item",href:I,children:[(0,v.tZ)(w,{}),x("Manage Notifications")]})]},"blogging-prompt__menu")]}),(0,v.tZ)(C,{siteId:e,prompts:N,tracksPrefix:E(),index:n})]})})}},"./components/chart/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>Z});var i=s("../node_modules/classnames/index.js"),o=s.n(i),a=s("../packages/i18n-calypso/src/rtl.js"),n=s("../packages/i18n-calypso/src/localize.js"),r=s("../node_modules/react/index.js"),c=s("./components/notice/index.jsx"),l=s("./components/tooltip/index.jsx"),d=s("./lib/touch-detect/index.js"),u=s("./lib/track-element-size/index.ts"),p=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends r.PureComponent{render(){return(0,m.tZ)("li",{className:o()("module-content-list-item",this.props.className),children:(0,m.BX)("span",{className:"chart__tooltip-wrapper wrapper",children:[(0,m.tZ)("span",{className:"chart__tooltip-value value",children:this.props.value}),(0,m.BX)("span",{className:"chart__tooltip-label label",children:[this.props.icon||null,this.props.label]})]})})}}class g extends r.PureComponent{constructor(...e){super(...e),(0,p.Z)(this,"clickHandler",(()=>{"function"==typeof this.props.clickHandler&&this.props.clickHandler(this.props.data)})),(0,p.Z)(this,"mouseEnter",(()=>{if(!this.props.data.tooltipData||!this.props.data.tooltipData.length||this.props.isTouch)return null;this.props.setTooltip(this.bar,this.computeTooltipPosition(),this.getTooltipData())})),(0,p.Z)(this,"mouseLeave",(()=>{this.props.setTooltip(null)})),(0,p.Z)(this,"setRef",(e=>this.bar=e))}computeTooltipPosition(){const{chartWidth:e,index:t,count:s}=this.props,i=e/s,o=i*(t+1);return o>e-230&&o+i>230?"bottom left":"bottom right"}getTooltipData(){return this.props.data.tooltipData.map((function(e,t){return(0,m.tZ)(h,{...e},t)}))}getPercentage(){return Math.ceil(this.props.data.value/this.props.max*1e4)/100}getNestedPercentage(){const{data:{nestedValue:e,value:t}}=this.props;return t&&e?Math.ceil(e/t*1e4)/100:0}renderNestedBar(){const{data:{nestedValue:e}}=this.props;return e&&(0,m.tZ)("div",{className:"chart__bar-section-inner",style:{height:`${this.getNestedPercentage()}%`}},"nestedValue")}renderBar(){const e=this.getPercentage();return(0,m.tZ)("div",{ref:this.setRef,className:"chart__bar-section is-bar",style:{transform:`scaleY( ${e/100} )`},children:this.renderNestedBar()},"value")}render(){return(0,m.BX)("div",{role:"presentation","aria-hidden":"true",onClick:this.clickHandler,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,className:o()("chart__bar",this.props.className),children:[this.renderBar(),(0,m.tZ)("div",{className:"chart__bar-label",children:this.props.label},"label"),(0,m.tZ)("div",{className:"chart__bar-marker is-hundred"}),(0,m.tZ)("div",{className:"chart__bar-marker is-fifty"}),(0,m.tZ)("div",{className:"chart__bar-marker is-zero"})]})}}(0,p.Z)(g,"defaultProps",{max:1/0});var _=s("../packages/i18n-calypso/src/index.js");class y extends r.PureComponent{render(){const e={[this.props.isRtl?"right":"left"]:this.props.x+"px",width:this.props.width+"px"};return(0,m.tZ)("div",{className:"chart__x-axis-label",style:e,children:this.props.label})}}const k=({data:e,isRtl:t,labelWidth:s,chartWidth:i})=>{const o=e.length||1,[a,n]=(0,r.useState)(s),[c,l]=(0,r.useState)(1);(0,r.useLayoutEffect)((()=>{const e=()=>{const e=i/o;n(e),l(Math.ceil(s/e))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[o,s,i]);const d=e.map((function(i,o){const n=o*a+(a-s)/2;let r;return(e.length-o-1)%c==0&&(r=(0,m.tZ)(y,{isRtl:t,label:i.label,width:s,x:n},o)),r}));return(0,m.BX)("div",{className:"chart__x-axis",children:[d,(0,m.tZ)("div",{className:"chart__x-axis-label chart__x-axis-width-spacer",children:(0,_.Y4)(1e5)})]})};class b extends r.PureComponent{render(){return(0,m.BX)(m.HY,{children:[(0,m.tZ)("div",{className:"chart__bars",children:this.props.data.map(((e,t)=>(0,m.tZ)(g,{index:t,isTouch:this.props.isTouch,className:e.className,clickHandler:this.props.barClick,data:e,max:this.props.yAxisMax,count:this.props.data.length,chartWidth:this.props.chartWidth,setTooltip:this.props.setTooltip},t)))}),!this.props.isPlaceholder&&(0,m.tZ)(k,{data:this.props.data,labelWidth:42,isRtl:this.props.isRtl,chartWidth:this.props.chartWidth})]})}}(0,p.Z)(b,"defaultProps",{isPlaceholder:!1});const f=(0,d._)();function v(e){const t=Math.max.apply(null,e);if(0===t)return 2;const s=Math.log10(t),i=Math.sign(s),o=Math.ceil(Math.abs(s))*i,a=i>0&&1<o?Math.pow(10,o-i):Math.pow(10,o);return a*Math.ceil(t/a)}function w({barClick:e,children:t,data:s,isPlaceholder:i,isRtl:a,minBarWidth:n,minTouchBarWidth:p,numberFormat:h,translate:g,chartXPadding:_,sliceFromBeginning:y,onChangeMaxBars:k}){const[w,Z]=(0,r.useState)({isTooltipVisible:!1}),[x,j]=(0,r.useState)({clientWidth:650,hasResized:!1}),[I,N]=(0,r.useState)({clientWidth:0,hasResized:!1}),S=(0,r.useCallback)(((e,t,s)=>{Z(e&&t&&s?{tooltipContext:e,tooltipPosition:t,tooltipData:s,isTooltipVisible:!0}:{isTooltipVisible:!1})}),[]),C=(0,u.Y6)((e=>{N((t=>{const s=e.width;return t.hasResized&&s===t.clientWidth?t:{clientWidth:s,hasResized:!0}}))})),E=(0,r.useCallback)((e=>{j((t=>{const s=C&&C.current?C.current.clientWidth:I.clientWidth,i=e.width-s;return t.hasResized&&i===t.clientWidth?t:{clientWidth:i,hasResized:!0}}))}),[C,I.clientWidth]),P=(0,u.Y6)(E),T=f?p:n,A=f&&x.clientWidth<=0?350:x.clientWidth-_,L=Math.floor(A/T);(0,r.useEffect)((()=>{k&&k(L)}),[L,k]);const{chartData:D,isEmptyChart:B,yMax:R}=(0,r.useMemo)((()=>{const e=s.length>L?y?s.slice(0-L):s.slice(0,L):s,t=e.map((({value:e})=>e));return{chartData:e,isEmptyChart:Boolean(!t.some((e=>e>0))),yMax:v(t)}}),[s,L,y]),{isTooltipVisible:U,tooltipContext:O,tooltipPosition:z,tooltipData:M}=w;return(0,m.BX)("div",{ref:P,className:o()("chart",{"is-placeholder":i}),children:[(0,m.BX)("div",{className:"chart__y-axis-markers",children:[(0,m.tZ)("div",{className:"chart__y-axis-marker is-hundred"}),(0,m.tZ)("div",{className:"chart__y-axis-marker is-fifty"}),(0,m.tZ)("div",{className:"chart__y-axis-marker is-zero"}),(i||B)&&(0,m.tZ)("div",{className:"chart__empty",children:t||(0,m.tZ)(c.Z,{className:"chart__empty-notice",status:"is-warning",isCompact:!0,text:g("No activity this period",{context:"Message on empty bar chart in Stats",comment:"Should be limited to 32 characters to prevent wrapping"}),showDismiss:!1})})]}),!i&&(0,m.BX)("div",{ref:C,className:"chart__y-axis",children:[(0,m.tZ)("div",{className:"chart__y-axis-width-fix",children:h(1e5)}),(0,m.tZ)("div",{className:"chart__y-axis-label is-hundred",children:R>1?h(R):h(R,2)}),(0,m.tZ)("div",{className:"chart__y-axis-label is-fifty",children:R>1?h(R/2):h(R/2,2)}),(0,m.tZ)("div",{className:"chart__y-axis-label is-zero",children:h(0)})]}),(0,m.tZ)(b,{barClick:e,chartWidth:A,data:D,isPlaceholder:i,isRtl:a,isTouch:(0,d._)(),setTooltip:S,yAxisMax:R}),U&&(0,m.tZ)(l.Z,{className:"chart__tooltip",id:"popover__chart-bar",context:O,isVisible:U,position:z,children:(0,m.tZ)("ul",{children:M})})]})}w.defaultProps={barClick:()=>{},isPlaceholder:!1,minBarWidth:15,minTouchBarWidth:42,chartXPadding:20,sliceFromBeginning:!0};const Z=(0,a.P)((0,n.Z)(w))},"./components/data/query-concierge-initial/index.js":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/concierge/actions.js");class n extends i.Component{componentDidMount(){const{siteId:e}=this.props;this.props.requestConciergeInitial(e)}render(){return null}}const r=(0,o.$j)((e=>e),{requestConciergeInitial:a.d$})(n)},"./components/data/query-products-list/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/products-list/actions.js");s("./state/products-list/init.js");var n=s("./state/products-list/selectors/is-products-list-fetching.js");function r({type:e="all",persist:t}){const s=(0,o.I0)();return(0,i.useEffect)((()=>{s((({persist:e,...t})=>(s,i)=>{(0,n.$)(i())||e&&t.type===i().productsList?.type||s((0,a.r)(t))})({type:e,persist:t}))}),[s,e,t]),null}},"./components/data/query-publicize-connections/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/sharing/publicize/actions.js"),n=s("./state/sharing/publicize/selectors.js"),r=s("./state/ui/selectors/get-selected-site-id.js");class c extends i.Component{componentDidMount(){!this.props.requestingConnections&&this.props.siteId&&this.props.requestConnections(this.props.siteId)}componentDidUpdate({siteId:e}){this.props.siteId&&e!==this.props.siteId&&!this.props.requestingConnections&&this.props.requestConnections(this.props.siteId)}render(){return null}}c.defaultProps={requestConnections:()=>{},requestingConnections:!1,selectedSite:!1,siteId:0};const l=(0,o.$j)(((e,{siteId:t,selectedSite:s})=>(t=t||s&&(0,r.Z)(e),{requestingConnections:(0,n.ut)(e,t),siteId:t})),{requestConnections:a.jS})(c)},"./components/data/query-site-checklist/index.js":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/prop-types/index.js"),o=s.n(i),a=s("../node_modules/react/index.js"),n=s("../node_modules/react-redux/es/index.js"),r=s("./state/checklist/actions.js");function c({siteId:e}){const t=(0,n.I0)();return(0,a.useEffect)((()=>{e&&t((0,r.Ec)(e))}),[t,e]),null}c.propTypes={siteId:o().number.isRequired}},"./components/dot-pager/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>h});var i=s("../node_modules/@wordpress/icons/build-module/icon/index.js"),o=s("../node_modules/@wordpress/icons/build-module/library/arrow-right.js"),a=s("../node_modules/classnames/index.js"),n=s.n(a),r=s("../packages/i18n-calypso/src/use-translate.js"),c=s("../packages/i18n-calypso/src/rtl.js"),l=s("../node_modules/lodash-es/times.js"),d=s("../node_modules/react/index.js"),u=s("./components/swipeable/index.js"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=({showControlLabels:e=!1,currentPage:t,numberOfPages:s,setCurrentPage:a})=>{const d=(0,r.Z)(),u=(0,c.V)();if(s<2)return null;const m=t>0,h=t<s-1;return(0,p.BX)("ul",{className:"dot-pager__controls","aria-label":d("Pager controls"),children:[(0,l.Z)(s,(e=>(0,p.tZ)("li",{"aria-current":e===t?"page":void 0,children:(0,p.tZ)("button",{className:n()("dot-pager__control-choose-page",{"dot-pager__control-current":e===t}),disabled:e===t,"aria-label":d("Page %(page)d of %(numberOfPages)d",{args:{page:e+1,numberOfPages:s}}),onClick:()=>a(e)},e.toString())},`page-${e}`))),(0,p.tZ)("li",{className:"dot-pager__control-gap",children:(0,p.BX)("button",{className:"dot-pager__control-prev",disabled:!m,"aria-label":d("Previous"),onClick:()=>a(t-1),children:[(0,p.tZ)(i.Z,{icon:o.Z,size:18,fill:"currentColor",style:u?null:{transform:"scaleX(-1)"}}),e&&d("Previous")]})},"dot-pager-prev"),(0,p.tZ)("li",{children:(0,p.BX)("button",{className:"dot-pager__control-next",disabled:!h,"aria-label":d("Next"),onClick:()=>a(t+1),children:[e&&d("Next"),(0,p.tZ)(i.Z,{icon:o.Z,size:18,fill:"currentColor",style:u?{transform:"scaleX(-1)"}:null})]})},"dot-pager-next")]})},h=({showControlLabels:e=!1,hasDynamicHeight:t=!1,children:s,className:i="",onPageSelected:o=null,...a})=>{const r=d.Children.toArray(s).filter(Boolean),[c,l]=(0,d.useState)(0),h=d.Children.count(r);(0,d.useEffect)((()=>{c>=h&&l(h-1)}),[h,c]);const g=e=>{l(e),o?.(e)};return(0,p.BX)("div",{className:n()("dot-pager",i),...a,children:[(0,p.tZ)(m,{showControlLabels:e,currentPage:c,numberOfPages:h,setCurrentPage:g}),(0,p.tZ)(u.Z,{hasDynamicHeight:t,onPageSelect:g,currentPage:c,pageClassName:"dot-pager__page",containerClassName:"dot-pager__pages",children:r})]})}},"./components/ellipsis-menu/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>h});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/components/src/button/index.tsx"),a=s("../packages/components/src/gridicon/index.tsx"),n=s("../node_modules/classnames/index.js"),r=s.n(n),c=s("../packages/i18n-calypso/src/localize.js"),l=s("../node_modules/react/index.js"),d=s("./components/popover-menu/index.jsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=()=>{};class m extends l.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{isMenuVisible:!1}),(0,i.Z)(this,"popoverContext",(0,l.createRef)()),(0,i.Z)(this,"handleClick",(e=>{const{onClick:t}=this.props,{isMenuVisible:s}=this.state;t(e),s?this.hideMenu():this.showMenu()})),(0,i.Z)(this,"hideMenu",(()=>this.toggleMenu(!1))),(0,i.Z)(this,"showMenu",(()=>this.toggleMenu(!0)))}toggleMenu(e){this.props.disabled||(this.setState({isMenuVisible:e}),this.props.onToggle(e))}render(){const{toggleTitle:e,translate:t,position:s,children:i,disabled:n,icon:c,className:l,popoverClassName:p}=this.props,{isMenuVisible:m}=this.state,h=r()("ellipsis-menu",l,{"is-menu-visible":m,"is-disabled":n}),g=r()("ellipsis-menu__menu","popover",p);return(0,u.BX)("span",{className:h,children:[(0,u.tZ)(o.Z,{ref:this.popoverContext,onClick:this.handleClick,title:e||t("Toggle menu"),borderless:!0,disabled:n,className:"ellipsis-menu__toggle",children:c||(0,u.tZ)(a.Z,{icon:"ellipsis",className:"ellipsis-menu__toggle-icon"})}),m&&(0,u.tZ)(d.Z,{isVisible:!0,onClose:this.hideMenu,position:s,context:this.popoverContext.current,className:g,children:i})]})}}(0,i.Z)(m,"defaultProps",{onClick:p,onToggle:p});const h=(0,c.Z)(m)},"./components/external-link/with-tracking.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/analytics/actions/record.js"),n=s("./components/external-link/index.jsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends i.Component{handleClickEvent(){return()=>{const{onClick:e,tracksEventName:t,tracksEventProps:s}=this.props;this.props.recordTracksEvent(t,s),e&&e()}}render(){const{onClick:e,recordTracksEvent:t,tracksEventName:s,tracksEventProps:i,...o}=this.props;return(0,r.tZ)(n.Z,{onClick:this.handleClickEvent(),...o})}}const l=(0,o.$j)(null,{recordTracksEvent:a.jN})(c)},"./components/foldable-card/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>g});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/components/src/screen-reader-text/index.js"),a=s("../packages/components/src/gridicon/index.tsx"),n=s("../packages/components/src/card/compact.tsx"),r=s("../packages/components/src/card/index.tsx"),c=s("../node_modules/classnames/index.js"),l=s.n(c),d=s("../packages/i18n-calypso/src/localize.js"),u=s("../node_modules/react/index.js"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=()=>{};class h extends u.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{expanded:this.props.expanded}),(0,i.Z)(this,"onClick",(()=>{this.props.children&&this.setState({expanded:!this.state.expanded}),this.props.onClick&&this.props.onClick(),this.state.expanded?this.props.onClose(this.props.cardKey):this.props.onOpen(this.props.cardKey)}))}UNSAFE_componentWillReceiveProps(e){e.expanded!==this.props.expanded&&this.setState({expanded:e.expanded})}getClickAction(){if(!this.props.disabled)return this.onClick}getActionButton(){return this.state.expanded&&this.props.actionButtonExpanded||this.props.actionButton}renderActionButton(){const e=this.props.clickableHeader?null:this.getClickAction();if(this.props.actionButton)return(0,p.tZ)("div",{className:"foldable-card__action",role:"presentation",onClick:e,children:this.getActionButton()});if(this.props.children){const t=24,s=this.props.screenReaderText||this.props.translate("More");return(0,p.BX)("button",{disabled:this.props.disabled,type:"button",className:"foldable-card__action foldable-card__expand","aria-expanded":this.state.expanded,onClick:e,children:[(0,p.tZ)(o.Z,{children:s}),(0,p.tZ)(a.Z,{icon:this.props.icon,size:t})]})}}renderContent(){const e=this.state.expanded?this.props.contentExpandedStyle:this.props.contentCollapsedStyle;return(0,p.tZ)("div",{className:"foldable-card__content",style:e,children:this.props.children})}renderHeader(){const e=this.props.summary?(0,p.BX)("span",{className:"foldable-card__summary",children:[this.props.summary," "]}):null,t=this.props.expandedSummary?(0,p.BX)("span",{className:"foldable-card__summary-expanded",children:[this.props.expandedSummary," "]}):null,s=this.props.clickableHeader?this.getClickAction():null,i=l()("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary}),o=(0,u.createElement)(this.props.headerTagName,{className:"foldable-card__main"},this.props.header,this.renderActionButton());return(0,p.BX)("div",{className:i,role:"presentation",onClick:s,children:[o,!this.props.hideSummary&&(0,p.BX)("span",{className:"foldable-card__secondary",children:[e,t]})]})}render(){const e=this.props.compact?n.Z:r.Z,t=l()("foldable-card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary,"is-smooth":!!this.props.smooth});return(0,p.BX)(e,{className:t,highlight:this.props.highlight,children:[this.renderHeader(),(this.state.expanded||this.props.smooth)&&this.renderContent()]})}}(0,i.Z)(h,"displayName","FoldableCard"),(0,i.Z)(h,"defaultProps",{onOpen:m,onClose:m,cardKey:"",headerTagName:"span",icon:"chevron-down",expanded:!1,screenReaderText:!1,smooth:!1});const g=(0,d.Z)(h)},"./components/formatted-header/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/classnames/index.js"),o=s.n(i),a=s("./components/info-popover/index.jsx"),n=s("./lib/formatting/prevent-widows.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c({brandFont:e,id:t,headerText:s,subHeaderText:i,tooltipText:c,className:l,compactOnMobile:d,align:u,isSecondary:p,hasScreenOptions:m,children:h}){const g=o()("formatted-header",l,{"is-without-subhead":!i,"is-compact-on-mobile":d,"is-left-align":"left"===u,"is-right-align":"right"===u,"has-screen-options":m}),_=o()("formatted-header__title",{"wp-brand-font":e}),y=c&&(0,r.tZ)(a.Z,{icon:"help-outline",position:"right",iconSize:18,showOnHover:!0,children:c});return(0,r.BX)("header",{id:t,className:g,children:[(0,r.BX)("div",{children:[!p&&(0,r.BX)("h1",{className:_,children:[(0,n.R)(s,2)," ",y]}),p&&(0,r.BX)("h2",{className:_,children:[(0,n.R)(s,2)," ",y]}),i&&(0,r.tZ)("p",{className:"formatted-header__subtitle",children:(0,n.R)(i,2)})]}),h]})}c.defaultProps={id:"",className:"",brandFont:!1,subHeaderText:"",tooltipText:"",compactOnMobile:!1,isSecondary:!1,align:"center"};const l=c},"./components/info-popover/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>p});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/components/src/gridicon/index.tsx"),a=s("../packages/components/src/popover/index.jsx"),n=s("../node_modules/classnames/index.js"),r=s.n(n),c=s("../packages/i18n-calypso/src/index.js"),l=s("../node_modules/react/index.js"),d=s("./lib/analytics/ga.js"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends l.Component{constructor(...e){super(...e),(0,i.Z)(this,"iconRef",(0,l.createRef)()),(0,i.Z)(this,"state",{showPopover:!1}),(0,i.Z)(this,"handleClick",(e=>{const{onOpen:t,showOnHover:s}=this.props,{showPopover:i}=this.state;e.preventDefault(),e.stopPropagation(),s||(i||t?.(),this.setState({showPopover:!i},this.recordStats))})),(0,i.Z)(this,"handleClose",(()=>{this.props.onClose?.(),this.setState({showPopover:!1},this.recordStats)})),(0,i.Z)(this,"recordStats",(()=>{const{gaEventCategory:e,popoverName:t}=this.props;if(e&&t){const s=this.state.showPopover?" Opened":" Closed";(0,d.Yh)(e,"InfoPopover: "+t+s)}})),(0,i.Z)(this,"handleOnMouseEnterButton",(()=>{const{onOpen:e,showOnHover:t}=this.props;t&&(e?.(),this.setState({showPopover:!0},this.recordStats))})),(0,i.Z)(this,"handleOnMouseLeave",(()=>{setTimeout((()=>{const{showOnHover:e}=this.props;e&&(this.inPopover||this.setState({showPopover:!1},this.recordStats))}),250)})),(0,i.Z)(this,"handleOnMouseEnterPopover",(()=>{this.inPopover=!0})),(0,i.Z)(this,"handleOnMouseLeavePopover",(()=>{this.inPopover=!1,this.handleOnMouseLeave()}))}render(){return(0,u.BX)(l.Fragment,{children:[(0,u.tZ)("button",{type:"button","aria-haspopup":!0,"aria-expanded":this.state.showPopover,"aria-label":(0,c.Iu)("More information"),onClick:this.handleClick,onMouseEnter:this.handleOnMouseEnterButton,onMouseLeave:this.handleOnMouseLeave,ref:this.iconRef,className:r()("info-popover",this.props.className,{"is-active":this.state.showPopover}),children:(0,u.tZ)(o.Z,{icon:this.props.icon,size:this.props.iconSize})}),this.state.showPopover&&(0,u.tZ)(a.Z,{autoRtl:this.props.autoRtl,id:this.props.id,isVisible:!0,context:this.iconRef.current,ignoreContext:this.props.ignoreContext,position:this.props.position,onClose:this.handleClose,className:r()("info-popover__tooltip",this.props.className),onMouseEnter:this.handleOnMouseEnterPopover,onMouseLeave:this.handleOnMouseLeavePopover,children:this.props.children})]})}}(0,i.Z)(p,"defaultProps",{autoRtl:!0,icon:"info-outline",iconSize:18,position:"bottom",showOnHover:!1})},"./components/inline-support-link/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>v});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/components/src/gridicon/index.tsx"),a=s("../packages/i18n-utils/src/localize-url.tsx"),n=s("../node_modules/@wordpress/compose/build-module/higher-order/compose.js"),r=s("../node_modules/classnames/index.js"),c=s.n(r),l=s("../packages/i18n-calypso/src/localize.js"),d=s("../node_modules/react/index.js"),u=s("../node_modules/react-redux/es/index.js"),p=s("./components/external-link/index.jsx"),m=s("./lib/route-modal/index.ts"),h=s("./state/analytics/actions/record.js"),g=s("./state/analytics/actions/bump-stat.js"),_=s("./state/analytics/actions/with-analytics.js"),y=s("./state/analytics/actions/compose-analytics.js"),k=s("./state/inline-support-article/actions.js"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class f extends d.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{supportDataFromContext:void 0})}componentDidMount(){!this.props.supportContext||this.props.supportPostId||this.props.supportLink||s.e(29797).then(s.bind(s,"./components/inline-support-link/context-links.js")).then((e=>{const t=e.default[this.props.supportContext];t&&this.setState({supportDataFromContext:t})}))}onSupportLinkClick(e,t,s){const{showSupportModal:i,openDialog:o}=this.props;if(!i)return;const a=o(e,t,s);return this.props.routeModalData.openModal(t),a}render(){const{className:e,showText:t,showIcon:s,iconSize:i,translate:n,children:r,noWrap:l}=this.props;let{supportPostId:d,supportLink:u}=this.props;if(this.state.supportDataFromContext&&(d=this.state.supportDataFromContext.post_id,u=this.state.supportDataFromContext.link),!d&&!u)return null;const m=d?"a":p.Z,h=d?(0,a.aq)(u):u,g=!d&&{icon:s,iconSize:i},_=r||n("Learn more");let y=(0,b.BX)(b.HY,{children:[t&&_,d&&s&&(0,b.tZ)(o.Z,{icon:"help-outline",size:i})]});return t&&l&&(y=(0,b.tZ)("span",{className:"inline-support-link__nowrap",children:y})),(0,b.tZ)(m,{className:c()("inline-support-link",e),href:h,onClick:e=>this.onSupportLinkClick(e,d,h),target:"_blank",rel:"noopener noreferrer",...g,children:y})}}(0,i.Z)(f,"defaultProps",{supportPostId:null,supportLink:null,showText:!0,showIcon:!0,iconSize:14,showSupportModal:!0,noWrap:!0});const v=(0,n.Z)((0,u.$j)(null,((e,t)=>{const{tracksEvent:s,tracksOptions:i,statsGroup:o,statsName:a,supportContext:n}=t;return{openDialog:(t,r,c)=>{if(!r)return;t.preventDefault();const l=[(0,h.jN)("calypso_inlinesupportlink_click",{support_context:n||null,support_link:c}),...s?[(0,h.jN)(s,i)]:[],...o&&a?[(0,g.P)(o,a)]:[]];return e(l.length>0?(0,_.w)((0,y.N)(...l),(0,k.X)({postId:r,postUrl:c})):(0,k.X)({postId:r,postUrl:c}))}}})),l.Z,(0,m.H)("support-article"))(f)},"./components/material-icon/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../packages/material-design-icons/svg-sprite/material-icons.svg"),o=s("../node_modules/classnames/index.js"),a=s.n(o),n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const{size:t=24,style:s="outline",icon:o,onClick:n,className:c,...l}=e,d=`material-icon-${o}`,u=a()("material-icon",d,c),p=`icon-${s}-${o}-${t}px`;return(0,r.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:u,height:t,width:t,onClick:n,...l,children:(0,r.tZ)("use",{xlinkHref:`${i}#${p}`})})}const l=n.memo(c)},"./components/popover-menu/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../packages/components/src/popover/index.jsx"),a=s("../node_modules/react/index.js"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends a.Component{constructor(...e){super(...e),(0,i.Z)(this,"menu",(0,a.createRef)()),(0,i.Z)(this,"delayedFocus",null),(0,i.Z)(this,"_setPropsOnChild",(e=>{if(null==e)return e;const{action:t,onClick:s}=e.props;return(0,a.cloneElement)(e,{action:null,onClick:e=>{s&&s(e),this._onClose(t)}})})),(0,i.Z)(this,"_onShow",(()=>{if(!this.props.focusOnShow)return;const e=this.menu.current.firstChild;this._previouslyFocusedElement=document.activeElement,e&&(this.delayedFocus=setTimeout((()=>{e.focus()}),1))})),(0,i.Z)(this,"_getClosestSibling",((e,t=!0)=>{const s=this.menu.current;let i=s.firstChild,o=s.lastChild;if(t||(i=s.lastChild,o=s.firstChild),e===s)return i;const a=e[t?"nextSibling":"previousSibling"]||o;return(e=>"HR"===e.tagName)(a)?this._getClosestSibling(a,t):a})),(0,i.Z)(this,"_onKeyDown",(e=>{const t=e.target;let s,i=!1;switch(e.keyCode){case 9:this._onClose(),i=!0;break;case 38:s=this._getClosestSibling(t,!1),i=!0;break;case 40:s=this._getClosestSibling(t,!0),i=!0}s&&s.focus(),i&&e.preventDefault()})),(0,i.Z)(this,"_onClose",(e=>{this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null),this.props.onClose&&this.props.onClose(e)}))}componentWillUnmount(){this._previouslyFocusedElement=null,null!==this.delayedFocus&&window.clearTimeout(this.delayedFocus)}render(){const{popoverComponent:e,autoPosition:t,className:s,context:i,customPosition:o,relativePosition:r,isVisible:c,popoverTitle:l,position:d,id:u}=this.props;return(0,n.tZ)(e,{onClose:this._onClose,onShow:this._onShow,autoPosition:t,className:s,context:i,customPosition:o,relativePosition:r,isVisible:c,focusOnShow:!1,popoverTitle:l,position:d,children:(0,n.tZ)("div",{ref:this.menu,id:u,role:"menu",className:"popover__menu",onKeyDown:this._onKeyDown,tabIndex:"-1",children:a.Children.map(this.props.children,this._setPropsOnChild,this)})})}}(0,i.Z)(r,"defaultProps",{autoPosition:!0,focusOnShow:!0,position:"top",popoverComponent:o.Z});const c=r},"./components/swipeable/index.js":(e,t,s)=>{s.d(t,{Z:()=>u});var i=s("../node_modules/classnames/index.js"),o=s.n(i),a=s("../packages/i18n-calypso/src/rtl.js"),n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c="300ms";function l(e){const{timeStamp:t}=e;if(e.hasOwnProperty("clientX"))return{x:e.clientX,y:e.clientY,timeStamp:t};if(e.targetTouches[0])return{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY,timeStamp:t};const s=e.changedTouches[0];return{x:s.clientX,y:s.clientY,timeStamp:t}}function d(e,t){return e?e*t:null}const u=({hasDynamicHeight:e=!1,children:t,currentPage:s=0,onPageSelect:i,pageClassName:u,containerClassName:p,...m})=>{const[h,g]=(0,n.useState)(),_=(0,a.V)(),[y,k]=function(){const[e,t]=(0,n.useState)({}),[s,i]=(0,n.useState)(null),o=(0,n.useRef)(null),a=(0,n.useCallback)((()=>o.current?.disconnect()),[]),r=(0,n.useCallback)((()=>{o.current=new ResizeObserver((([e])=>t(e))),s&&o.current.observe(s)}),[s]);return(0,n.useLayoutEffect)((()=>(r(),()=>a())),[a,r]),[i,e]}(),[b,f]=(0,n.useState)({transitionDuration:c}),[v,w]=(0,n.useState)(null),Z=(0,n.useRef)(),x=n.Children.count(t),j=k?.contentRect?.width,I=(0,n.useCallback)((e=>{const t=j*e;return _?t:-t}),[_,j]),N=e&&x>1,S=t.reduce(((e,t)=>e+t.key),"");(0,n.useLayoutEffect)((()=>{if(!N)return;const e=Z.current?.querySelector(".is-current")?.offsetHeight;e&&b?.height!==e&&f({...b,height:e})}),[Z,s,b,N,j,S]);const C=(0,n.useCallback)((e=>{const t=l(e);g(Z.current?.getBoundingClientRect()),w({start:t}),f({...b,transitionDuration:"0ms"})}),[b]),E=(0,n.useCallback)((e=>_?e>0:e<0),[_]),P=(0,n.useCallback)((e=>_?e<0:e>0),[_]),T=(0,n.useCallback)((e=>{if(!v)return;let t=l(e);0===t.x&&(t=v.last);const o=t.x-v.start.x,a=Math.abs(o),n=a/(t.timeStamp-v.start.timeStamp),r=Math.abs(t.y-v.start.y);if(180*Math.atan2(r,a)/Math.PI>55)return delete b.transform,f({...b,transitionDuration:c}),void w(null);const d=a>.35*j||n>.2;let u=s;E(o)&&d&&x!==s+1&&(u=s+1),P(o)&&d&&0!==s&&(u=s-1),delete b.transform,f({...b,transitionDuration:c}),i(u),w(null)}),[s,v,E,P,x,i,b,j]),A=(0,n.useCallback)((e=>{if(!v)return;const t=l(e),i=t.x-v.start.x,o=Math.abs(i),a=I(s)+i;w({...v,last:t}),o<3||((x!==s+1&&E(i)||0!==s&&P(i))&&f({...b,transform:`translate3d(${a}px, 0px, 0px)`,transitionDuration:"0ms"}),h&&(t.x<h.left||t.x>h.right||t.y>h.bottom||t.y<h.top)&&T(e))}),[v,I,s,x,E,P,h,b,T]),L=(0,n.useCallback)((()=>"onpointerup"in document?{onPointerDown:C,onPointerMove:A,onPointerUp:T,onPointerLeave:T}:"ondragend"in document?{onDragStart:C,onDrag:A,onDragEnd:T,onDragExit:T}:"ontouchend"in document?{onTouchStart:C,onTouchMove:A,onTouchEnd:T,onTouchCancel:T}:null),[C,A,T]),D=I(s);return(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{...L(),className:"swipeable__container",ref:Z,...m,children:(0,r.tZ)("div",{className:o()("swipeable__pages",p),style:{transform:`translate3d(${D}px, 0px, 0px)`,...b,width:d(j,x)},children:n.Children.map(t,((e,t)=>(0,r.tZ)("div",{style:{width:`${j}px`},className:o()("swipeable__page",u,{"is-current":t===s,"is-prev":t<s,"is-next":t>s}),children:e},`page-${t}`)))})}),(0,r.tZ)("div",{ref:y,className:"swipeable__resize-observer"})]})}},"./components/tooltip/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../packages/components/src/popover/index.jsx"),o=s("../packages/viewport-react/src/index.js"),a=s("../node_modules/classnames/index.js"),n=s.n(a),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const t=(0,o._z)();if(!e.showOnMobile&&t)return null;const s=n()(["tooltip",e.className],{[`is-${e.status}`]:e.status});return(0,r.tZ)(i.Z,{autoPosition:e.autoPosition,className:s,context:e.context,id:e.id,isVisible:e.isVisible,position:e.position,showDelay:e.showDelay,hideArrow:!0,children:e.children})}c.defaultProps={showDelay:100,position:"top",showOnMobile:!1,hideArrow:!1};const l=c},"./components/videos-ui/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>k});var i=s("../packages/calypso-config/src/index.ts"),o=s("../packages/components/src/gridicon/index.tsx"),a=s("../node_modules/classnames/index.js"),n=s.n(a),r=s("../packages/i18n-calypso/src/use-translate.js"),c=s("../node_modules/react/index.js"),l=s("./components/notice/index.jsx"),d=s("./data/courses/index.ts"),u=s("./lib/analytics/tracks.js"),p=s("../packages/components/src/button/index.tsx"),m=s("../node_modules/moment/moment.js"),h=s.n(m),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=({course:e,isChapterSelected:t,onChapterSelected:s,translate:i,onVideoPlayClick:a,isPreloadAnimationState:r})=>(0,g.tZ)(g.HY,{children:Object.entries(e?.videos).map((([c,l],d)=>{const u=c in e.completions&&e.completions[c];return(0,g.BX)("div",{className:n()("videos-ui__chapter",{selected:t(d),preload:r}),children:[(0,g.BX)("button",{type:"button",className:"videos-ui__chapter-accordion-toggle",onClick:()=>s(d),children:[(0,g.BX)("span",{className:"videos-ui__video-title",children:[d+1,". ",l.title," "]}),(0,g.tZ)("span",{className:"videos-ui__duration",children:h().unix(l.duration_seconds).format("m:ss")}),u&&(0,g.tZ)("span",{className:"videos-ui__completed-checkmark",children:(0,g.tZ)(o.Z,{icon:"checkmark",size:12})}),t(d)&&!u&&(0,g.tZ)("span",{className:"videos-ui__status-icon",children:(0,g.tZ)(o.Z,{icon:"chevron-up",size:18})}),!t(d)&&!u&&(0,g.tZ)("span",{className:"videos-ui__status-icon",children:(0,g.tZ)(o.Z,{icon:"chevron-down",size:18})})]}),(0,g.tZ)("div",{className:"videos-ui__active-video-content",children:(0,g.BX)("div",{children:[(0,g.BX)("p",{children:[l.description," "]}),(0,g.BX)(p.Z,{className:n()("videos-ui__button",{"videos-ui__video-completed":u}),onClick:()=>a(c,l),children:[(0,g.tZ)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.tZ)("path",{d:"M1.9165 1.75L10.0832 7L1.9165 12.25V1.75Z",fill:"#101517",stroke:"#101517",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,g.tZ)("span",{children:i("Play video")})]})]})})]},d)}))}),y=({videoData:e,isPlaying:t,course:s,onVideoPlayStatusChanged:i,onVideoCompleted:o,intent:a})=>{const[n,r]=(0,c.useState)(!0),l=(0,c.createRef)();(0,c.useEffect)((()=>{l.current&&(l.current.onplay=()=>{i(!0)},l.current.onpause=()=>{i(!1)})})),(0,c.useEffect)((()=>{t&&l.current.play()})),(0,c.useEffect)((()=>{r(!0)}),[s?.slug,e?.slug]);return(0,g.tZ)("div",{className:"videos-ui__video",children:(0,g.BX)("video",{controls:!0,ref:l,poster:e.poster,autoPlay:t,onPlay:()=>{(0,u.recordTracksEvent)("calypso_courses_video_player_play_click",{course:s.slug,video:e.slug,...a?{intent:a}:[]})},onTimeUpdate:n?()=>{l.current.currentTime<e.completed_seconds||(o(e),r(!1))}:void 0,children:[(0,g.tZ)("source",{src:e.url})," ",(0,g.tZ)("track",{src:"caption.vtt",kind:"captions",srcLang:"en",label:"english_captions"})]})},e.url)},k=({courseSlug:e=d.Jq.BLOGGING_QUICK_START,HeaderBar:t,FooterBar:s,areVideosTranslated:a=!0,intent:p})=>{const m=(0,r.Z)(),h=(0,i.ZP)("english_locales").includes(m.localeSlug||""),{course:k,videoSlugs:b,completedVideoSlugs:f,isCourseComplete:v}=(0,d.aN)(e),{updateUserCourseProgression:w}=(0,d.XN)(),[Z,x]=(0,c.useState)(!h&&!a),[j,I]=(0,c.useState)(0),[N,S]=(0,c.useState)(!0),[C,E]=(0,c.useState)(""),[P,T]=(0,c.useState)(!1),A=k?.videos?.[C];(0,c.useEffect)((()=>{if(!k||!b||!f||C)return;const e=(f.length?b.find((e=>!f.includes(e))):null)||b[0];E(e),I(b.indexOf(e)),S(!1)}),[k,b,f,C]);const L=e=>j===e;(0,c.useEffect)((()=>{k&&(0,u.recordTracksEvent)("calypso_courses_view",{course:k.slug,...p?{intent:p}:[]})}),[k]);const D=(0,d.Mt)(e);return(0,g.BX)("div",{className:"videos-ui",children:[(0,g.BX)("div",{className:"videos-ui__header",children:[(0,g.tZ)(t,{course:k}),A&&Z&&(0,g.tZ)(l.Z,{onDismissClick:()=>x(!1),children:m("These videos are currently only available in English. Please {{supportLink}}let us know{{/supportLink}} if you would like them translated.",{components:{supportLink:(0,g.tZ)("a",{href:"/help/contact",onClick:()=>{(0,u.recordTracksEvent)("calypso_courses_translation_support_link_click",{course:k?.slug})}})}})}),(0,g.BX)("div",{className:"videos-ui__header-content",children:[(0,g.BX)("div",{className:"videos-ui__titles",children:[(0,g.tZ)("h2",{children:D?.headerTitle}),(0,g.tZ)("h2",{children:D?.headerSubtitle})]}),(0,g.tZ)("div",{className:"videos-ui__summary",children:(0,g.tZ)("ul",{children:D?.headerSummary&&D?.headerSummary.map((e=>(0,g.BX)("li",{children:[(0,g.tZ)(o.Z,{icon:"checkmark",size:18})," ",e]},e)))})})]})]}),(0,g.BX)("div",{className:n()("videos-ui__body",{"is-loading":!k}),children:[(0,g.tZ)("div",{className:"videos-ui__body-title",children:(0,g.tZ)("h3",{children:k&&k.title})}),(0,g.BX)("div",{className:"videos-ui__video-content",children:[!A&&(0,g.tZ)("div",{className:"videos-ui__video-placeholder"}),A&&(0,g.tZ)(y,{videoData:{...A,slug:C},onVideoPlayStatusChanged:e=>T(e),isPlaying:P,course:k,intent:p,onVideoCompleted:t=>{f.includes(t.slug)||w(e,t.slug)}}),(0,g.tZ)("div",{className:"videos-ui__chapters",children:k&&(0,g.tZ)(_,{course:k,isChapterSelected:L,onChapterSelected:e=>{L(e)||I(e)},onVideoPlayClick:e=>{(0,u.recordTracksEvent)("calypso_courses_play_click",{course:k?.slug,video:e,...p?{intent:p}:[]}),E(e),T(!0)},translate:m,isPreloadAnimationState:N})})]})]}),(0,g.tZ)(s,{course:k,isCourseComplete:v})]})}},"./data/courses/index.ts":(e,t,s)=>{s.d(t,{Jq:()=>i,aN:()=>c,Mt:()=>d,XN:()=>u});const i={BLOGGING_QUICK_START:"blogging-quick-start",PAYMENTS_FEATURES:"payments-features",SITE_EDITOR_QUICK_START:"site-editor-quick-start"};var o=s("../node_modules/react/index.js"),a=s("../node_modules/react-query/es/index.js"),n=s("./lib/wp/browser.js");const r=(e,t={})=>(0,a.useQuery)(["courses",e],(()=>n.Z.req.get("/courses",{course_slug:e,apiNamespace:"wpcom/v2"})),{refetchOnReconnect:!0,refetchOnWindowFocus:!1,...t,meta:{...t.meta}}),c=e=>{const{data:t}=r(e),s=(0,o.useMemo)((()=>t?.videos?Object.keys(t.videos):[]),[t?.videos]),i=(0,o.useMemo)((()=>t?.completions?Object.keys(t.completions).filter((e=>!!t.completions[e])):[]),[t?.completions]),a=(0,o.useMemo)((()=>i.length>0&&i.length===s.length),[s.length,i.length]);return{course:t,videoSlugs:s,completedVideoSlugs:i,isCourseComplete:a}};var l=s("../packages/i18n-calypso/src/use-translate.js");const d=e=>{const t=(0,l.Z)();return e===i.BLOGGING_QUICK_START?{headerTitle:t("Watch five videos."),headerSubtitle:t("Save yourself hours."),headerSummary:[t("Learn the basics of blogging"),t("Familiarize yourself with WordPress"),t("Upskill and save hours"),t("Set yourself up for blogging success")]}:e===i.PAYMENTS_FEATURES?{headerTitle:t("Make money from your website."),headerSubtitle:t("Watch our tutorial videos to get started."),headerSummary:[t("Accept one-time or recurring payments"),t("Accept donations or sell services"),t("Setup paid, subscriber-only content"),t("Run a fully featured ecommerce store")]}:e===i.SITE_EDITOR_QUICK_START?{headerTitle:t("Watch four videos."),headerSubtitle:t("Save yourself hours."),headerSummary:[t("Master the building blocks of a WordPress site"),t("Understand how to add your style to your site"),t("Upskill now to save hours later"),t("Set yourself up for creative success")]}:void 0};const u=function(e={}){const t=(0,a.useQueryClient)(),s=(0,a.useMutation)((({courseSlug:e,videoSlug:t})=>n.Z.req.post("/courses/videos",{apiNamespace:"wpcom/v2"},{course_slug:e,video_slug:t})),{...e,onSuccess(s,i,o){t.invalidateQueries(["courses",i.courseSlug]),e.onSuccess?.(s,i,o)}}),{mutate:i}=s;return{updateUserCourseProgression:(0,o.useCallback)(((e,t)=>i({courseSlug:e,videoSlug:t})),[i]),...s}}},"./data/help/use-help-search-query.ts":(e,t,s)=>{s.d(t,{e:()=>n});var i=s("../packages/i18n-utils/src/locale-context.tsx"),o=s("../node_modules/react-query/es/index.js"),a=s("../packages/wpcom-proxy-request/src/index.js");const n=(e,t={})=>{const s=(0,i.bU)(),n=new URLSearchParams({include_post_id:"1",locale:s});return e&&n.append("query",e),(0,o.useQuery)(["help",e],(()=>(0,a.ZP)({path:"/help/search",query:n.toString(),apiVersion:"1.1"})),{enabled:!!e,...t})}},"./data/home/use-home-layout-query-params.ts":(e,t,s)=>{s.d(t,{c:()=>n});var i=s("../packages/calypso-config/src/index.ts"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/selectors/get-current-query-arguments.js");function n(){const{dev:e,view:t}=(0,o.v9)(a.H);return{dev:"true"===e||!e&&i.ZP.isEnabled("home/layout-dev")||void 0,view:t}}},"./data/home/use-home-layout-query.ts":(e,t,s)=>{s.d(t,{Gw:()=>n,ah:()=>r,ZP:()=>c});var i=s("../node_modules/react-query/es/index.js"),o=s("./lib/wp/browser.js"),a=s("./data/home/use-home-layout-query-params.ts");function n(e,t={}){return o.Z.req.get({path:`/sites/${e}/home/layout`,apiNamespace:"wpcom/v2"},t)}function r(e){return["home-layout",e]}const c=(e,{enabled:t=!0}={})=>{const s=(0,a.c)();return(0,i.useQuery)(r(e),(()=>n(e,s)),{enabled:!!e&&t,staleTime:1/0,refetchInterval:!1,refetchOnMount:"always"})}},"./data/home/use-skip-current-view-mutation.ts":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/react/index.js"),o=s("../node_modules/react-query/es/index.js"),a=s("./lib/wp/browser.js"),n=s("./data/home/use-home-layout-query.ts"),r=s("./data/home/use-home-layout-query-params.ts");const c=function(e){const t=(0,o.useQueryClient)(),s=(0,r.c)(),c=(0,o.useMutation)((async({reminder:i,card:o})=>{const r=await t.fetchQuery((0,n.ah)(e),(()=>(0,n.Gw)(e,s)),{staleTime:1/0});return await a.Z.req.post({path:`/sites/${e}/home/layout/skip`,apiNamespace:"wpcom/v2"},{query:s},{view:r.view_name,card:"VIEW_POST_LAUNCH"===r.view_name?o:void 0,...i&&{reminder:i}})}),{onSuccess(s){t.setQueryData((0,n.ah)(e),s)}}),{mutate:l}=c;return{skipCurrentView:(0,i.useCallback)((e=>l({reminder:e})),[l]),skipCard:(0,i.useCallback)(((e,t)=>l({reminder:t??null,card:e})),[l]),...c}}},"./data/themes/with-is-fse-active.js":(e,t,s)=>{s.d(t,{Z:()=>u});var i=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/current-user/selectors.js"),n=s("./state/ui/selectors/get-selected-site-id.js"),r=s("../node_modules/react-query/es/index.js"),c=s("./lib/wp/browser.js"),l=s("./state/sites/selectors/get-site-option.ts");var d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=(0,i.o)((e=>t=>{const s=(0,o.v9)(n.Z),i=(0,o.v9)(a.Pc),{data:u,isLoading:p}=((e,t=!1)=>{const s=(0,o.v9)((t=>(0,l.Z)(t,e,"theme_slug"))),i=["activeTheme",e,s];return(0,r.useQuery)(i,(()=>c.Z.req.get({path:`/sites/${e}/themes?status=active`,apiNamespace:"wp/v2"})),{enabled:t&&!!e})})(s,i),m=u?.[0]?.theme_supports["block-templates"]??!1;return(0,d.tZ)(e,{...t,isFSEActiveLoading:p,isFSEActive:m})}),"withIsFSEActive")},"./landing/stepper/hooks/use-site-copy.tsx":(e,t,s)=>{s.d(t,{G:()=>Z,t:()=>x});var i=s("../packages/calypso-products/src/constants/features.ts"),o=s("../packages/onboarding/src/cart/index.tsx"),a=s("../packages/onboarding/src/utils/flows.ts"),n=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),r=s("../node_modules/@wordpress/data/build-module/components/use-select/index.js"),c=s("../node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),l=s("../node_modules/react/index.js"),d=s("../node_modules/react-redux/es/index.js"),u=s("./components/data/query-user-purchases/index.jsx"),p=s("./landing/stepper/stores.ts"),m=s("./signup/storageUtils.js"),h=s("./state/current-user/selectors.js"),g=s("./state/purchases/selectors/fetching.js"),_=s("./state/purchases/selectors/get-user-purchases.js"),y=s("./state/selectors/get-site-features.js"),k=s("./state/selectors/site-has-feature.tsx"),b=s("./state/sites/features/actions.js"),f=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e,t){return(e||[]).filter((e=>["marketplace_plugin","marketplace_theme"].includes(e.productType)&&e.siteId===t)).map((e=>({product_slug:e.productSlug})))}function w(e){return{product_slug:e?.product_slug}}const Z=(e,t={enabled:!0})=>{const s=(0,d.v9)((e=>(0,h.rc)(e))),n=function(e,t,s=!0){const i=(0,d.I0)();return(0,l.useEffect)((()=>{e&&s&&i((0,b.ij)(e))}),[i,e,s]),(0,d.v9)((s=>!!e&&(0,k.Z)(s,e,t)))}(e?.ID,i.Tmy,t.enabled),{isRequesting:f}=(0,d.v9)((t=>{const s=(0,y.Z)(t,e?.ID);return s||{isRequesting:!0}})),Z=(0,r.Z)((s=>e&&t.enabled&&s(p.j4).isSiteAtomic(e?.ID)),[e?.ID,t.enabled]),x=e?.plan,j=e?.site_owner===s;(0,u.M)(t.enabled);const I=(0,d.v9)((e=>(0,g.Mo)(e)||!(0,g.iJ)(e))),N=(0,d.v9)((e=>(0,_.I)(e))),{setPlanCartItem:S,setProductCartItems:C,resetOnboardStore:E}=(0,c.Z)(p.CU),P=(0,l.useMemo)((()=>n&&j&&x&&Z&&!I),[n,j,x,I,Z]),T=(0,l.useCallback)((()=>{if(!P||!e?.ID)return;(0,m.Gv)(),E();const t=w(x);S(t);const s=v(N,e?.ID);C(s)}),[P,e?.ID,E,x,S,N,C]),A=(0,l.useCallback)((async t=>{P&&e?.ID&&await(0,o.G0)(t,a.P7,[w(x),...v(N,e.ID)])}),[x,N,P,e?.ID]);return(0,l.useMemo)((()=>({shouldShowSiteCopyItem:P,startSiteCopy:T,resumeSiteCopy:A,isFetching:I||f})),[I,f,A,P,T])},x=(0,n.o)((e=>t=>{const{shouldShowSiteCopyItem:s,startSiteCopy:i}=Z(t.site);return(0,f.tZ)(e,{...t,shouldShowSiteCopyItem:s,startSiteCopy:i})}),"withSiteCopy")},"./lib/analytics/with-tracking-tool/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),o=s("../node_modules/react/index.js"),a=s("../node_modules/react-redux/es/index.js"),n=s("./state/analytics/actions/load-tracking-tool.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=e=>(0,i.o)((t=>s=>{const i=(0,a.I0)();return(0,o.useEffect)((()=>{i((0,n.$)(e))}),[i]),(0,r.tZ)(t,{...s})}),"WithTrackingTool")},"./lib/checklist/index.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("../node_modules/lodash-es/memoize.js"),o=s("../node_modules/lodash-es/pick.js");class a{constructor(e=[]){this.tasks=e}getAll(){return this.tasks}get(e){return this.tasks.find((t=>t.id===e))}getIds(){return this.getAll().map((({id:e})=>e))}isCompleted(e){const t=this.get(e);return!!t&&t.isCompleted}has(e){return!!this.get(e)}remove(e){const t=this.get(e);return t?(this.tasks=this.tasks.filter((t=>t.id!==e)),t):null}removeTasksWithoutUrls(e){this.tasks=this.tasks.filter((t=>!(t.id in e)||e[t.id]))}getFirstIncompleteTask(){return this.tasks.find((e=>!e.isCompleted))}getCompletionStatus(){const e=this.tasks.filter((e=>e.isCompleted)).length,t=this.tasks.length;return{completed:e,total:t,percentage:Math.round(t?e/t*100:0)}}}const n=(0,i.Z)((e=>new a(e?.taskStatuses)),(e=>{const t=(0,o.Z)(e,["taskStatuses","designType","siteIsUnlaunched","siteSegment"]);return JSON.stringify(t)}))},"./lib/formatting/prevent-widows.js":(e,t,s)=>{s.d(t,{R:()=>o});var i=s("../node_modules/react/index.js");function o(e,t=2){return n("string"==typeof e?e.trim():e,Math.max(1,t-1)).part}const a=/\s+(\S*)$/;function n(e,t){let s=0;if("string"==typeof e&&e.length>0){let i=e,o="";for(;s<t&&a.test(i);){o=" "+a.exec(i)[1]+o,i=i.replace(a,""),s++}return o=i+o,{part:o,substituted:s}}if(Array.isArray(e)&&e.length>0){let i=[],o=e.length-1;for(;s<t&&o>=0;){const a=n(e[o],t-s);i.unshift(a.part),s+=a.substituted,o--}return i=e.slice(0,o+1).concat(i),{part:i,substituted:s}}if((0,i.isValidElement)(e)&&e.props.children){const o=n(e.props.children,t);if(o.substituted>0){const t=Array.isArray(o.part)?o.part:[o.part];return{part:(0,i.cloneElement)(e,e.props,...t),substituted:o.substituted}}return{part:e,substituted:s}}return{part:e,substituted:s}}},"./lib/formatting/strip-html.js":(e,t,s)=>{s.d(t,{C:()=>a});var i=s("../node_modules/striptags/src/striptags.js"),o=s.n(i);function a(e){return o()(e)}},"./lib/make-json-schema-parser/index.js":(e,t,s)=>{s.d(t,{fK:()=>a,ZP:()=>c});var i=s("../node_modules/is-my-json-valid/index.js"),o=s.n(i);class a extends Error{constructor(e){super("Failed to validate with JSON schema"),this.schemaErrors=e}}class n extends Error{constructor(e,t,s){super(e.message),this.inputData=t,this.transformer=s}}const r=e=>e;const c=function(e,t=r,s={}){let i,c;return r=>(i||(()=>{const r=Object.assign({greedy:!0,verbose:!0},s),l=o()(e,r),d=o().filter(Object.assign({},e,e.type&&"object"===e.type&&{additionalProperties:!1}));c=e=>{if(!l(e))throw new a(l.errors);return d(e)},i=e=>{try{return t(e)}catch(s){throw new n(s,e,t)}}})(),i(c(r)))}},"./lib/post-normalizer/rule-content-detect-media.js":(e,t,s)=>{s.d(t,{Z:()=>y});var i=s("../node_modules/get-video-id/index.js"),o=s.n(i),a=s("../node_modules/lodash-es/some.js"),n=s("../node_modules/lodash-es/includes.js"),r=s("../node_modules/lodash-es/map.js"),c=s("../node_modules/lodash-es/compact.js"),l=s("../node_modules/lodash-es/filter.js"),d=s("./state/reader/posts/sizes.js"),u=s("./lib/post-normalizer/utils/deduce-image-width-and-height.js"),p=s("./lib/post-normalizer/utils/max-width-photonish-url.js"),m=s("./lib/post-normalizer/utils/iframe-is-allowed.js");const h=e=>{if(function(e){if(!e||!e.getAttribute("src"))return!1;const t=e.getAttribute("src"),s=(0,a.Z)(["gravatar.com","/wpcom-smileys/"],(e=>(0,n.Z)(t.toLowerCase(),e)));return!(function(e){if(!e||!e.src)return!1;const t=e.height+e.width;return 1===t||2===t}(e)||s)}(e)){const{width:t,height:s}=(0,u.H)(e)||{width:0,height:0};return{src:(0,p.E)(e.getAttribute("src"),d.fY),width:t,height:s,mediaType:"image"}}return!1},g=e=>{const t=o()(e.src);if(t&&(0,n.Z)(["youtube","vimeo","videopress"],t.service)){const t=e.cloneNode();return-1===t.src.indexOf("?")?t.src+="?autoplay=1":t.src+="&autoplay=1",t.outerHTML}return null},_=e=>{let t,s=e;do{if(s.className&&(t=s.className.match(/\bembed-([-a-zA-Z0-9_]+)\b/),t))return t[1]}while(s=s.parentNode);return null};function y(e,t){const s=t.querySelectorAll("img[src], iframe"),i=(0,r.Z)(s,(e=>{const t=e.nodeName.toLowerCase();return"iframe"===t?(e=>{if(!(0,m.p)(e))return!1;const t=Number(e.width),s=Number(e.height),i=t/s;return{type:_(e),src:e.src,iframe:e.outerHTML,aspectRatio:i,width:t,height:s,mediaType:"video",autoplayIframe:g(e)}})(e):"img"===t&&h(e)}));return e.content_media=(0,c.Z)(i),e.content_embeds=(0,l.Z)(e.content_media,(e=>"video"===e.mediaType)),e.content_images=(0,l.Z)(e.content_media,(e=>"image"===e.mediaType)),e.featured_image&&(e.featured_image=(0,p.E)(e.featured_image,d.fY)),e}},"./lib/post-normalizer/rule-decode-entities.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("../packages/calypso-url/src/safe-image-url/index.ts"),o=s("./lib/formatting/decode-entities.ts");const a=["excerpt","title","site_name"];function n(e,t=a){return t.forEach((function(t){e[t]&&(e[t]=(0,o.S)(e[t]))})),e.title=(0,o.S)(e.title),e.parent&&e.parent.title&&(e.parent.title=(0,o.S)(e.parent.title)),e.author&&(e.author.name&&(e.author.name=(0,o.S)(e.author.name)),e.author.avatar_URL&&(e.author.avatar_URL=(0,i.F)(e.author.avatar_URL))),e.tags&&Object.values(e.tags).forEach((function(e){e.name=(0,o.S)(e.name)})),e}},"./lib/post-normalizer/rule-pick-canonical-image.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("../node_modules/lodash-es/find.js");function o(e){return!!e&&(!(e.width<100)&&!(e.width*e.height<7500))}var a=s("./lib/post-normalizer/utils/thumb-is-likely-image.js");function n(e){let t;if((0,a.J)(e.post_thumbnail)){const{URL:s,width:i,height:o}=e.post_thumbnail;t={uri:s,width:i,height:o}}else if(e.content_images&&e.content_images.length){const s=(0,i.Z)(e.content_images,o);s&&(t={uri:s.src,width:s.width,height:s.height})}return t&&(e.canonical_image=t),e}},"./lib/post-normalizer/rule-strip-html.js":(e,t,s)=>{s.d(t,{Z:()=>a});var i=s("../node_modules/lodash-es/forEach.js"),o=s("./lib/formatting/strip-html.js");function a(e){return(0,i.Z)(["excerpt","title","site_name"],(function(t){e[t]&&(e[t]=(0,o.C)(e[t]))})),e.author&&e.author.name&&(e.author.name=(0,o.C)(e.author.name)),e}},"./lib/post-normalizer/rule-with-content-dom.js":(e,t,s)=>{s.d(t,{Z:()=>a});var i=s("../node_modules/lodash-es/reduce.js"),o=s("./lib/post-normalizer/utils/dom-for-html.js");function a(e){return function(t){if(!t||!t.content||!e)return t;const s=(0,o.j)(t.content);return(t=(0,i.Z)(e,((e,t)=>t(e,s)),t)).content=s.innerHTML,s.innerHTML="",t}}},"./lib/post-normalizer/utils/deduce-image-width-and-height.js":(e,t,s)=>{function i(e){if(e.height&&e.width)return{height:e.height,width:e.width};if(e.naturalHeight&&e.naturalWidth)return{height:e.naturalHeight,width:e.naturalWidth};if(e.dataset&&e.dataset.origSize){const[t,s]=e.dataset.origSize.split(",").map(Number);return{width:t,height:s}}return null}s.d(t,{H:()=>i})},"./lib/post-normalizer/utils/dom-for-html.js":(e,t,s)=>{function i(e){if("undefined"!=typeof DOMParser&&window.DOMParser.prototype.parseFromString){const t=(new window.DOMParser).parseFromString(e,"text/html");if(t&&t.body)return t.body}const t=document.implementation.createHTMLDocument("processing doc").createElement("div");return t.innerHTML=e,t}s.d(t,{j:()=>i})},"./lib/post-normalizer/utils/iframe-is-allowed.js":(e,t,s)=>{s.d(t,{p:()=>a});var i=s("../packages/calypso-url/src/url-parts.ts"),o=s("../node_modules/lodash-es/some.js");function a(e){const t=e.src&&(0,i.A)(e.src).hostname,s=t&&t.toLowerCase();return(0,o.Z)(["youtube.com","youtube-nocookie.com","videopress.com","video.wordpress.com","vimeo.com","cloudup.com","soundcloud.com","8tracks.com","spotify.com","me.sh","bandcamp.com","kickstarter.com","facebook.com","embed.itunes.apple.com","nyt.com","google.com","mixcloud.com","players.brightcove.net","embed.ted.com","fast.wistia.net","player.twitch.tv","archive.org","codepen.io","www.audiomack.com","player.theplatform.com","embed.radiopublic.com","gfycat.com","scribd.com","megaphone.fm","icloud.com","read.amazon.com","loom.com"],(function(e){return`.${s}`.endsWith("."+e)}))}},"./lib/post-normalizer/utils/is-url-likely-an-image.js":(e,t,s)=>{s.d(t,{E:()=>a});var i=s("../packages/calypso-url/src/url-parts.ts"),o=s("../node_modules/lodash-es/some.js");function a(e){if(!e)return!1;const t=(0,i.A)(e).pathname;return(0,o.Z)([".jpg",".jpeg",".png",".gif"],(e=>t.endsWith(e)))}},"./lib/post-normalizer/utils/max-width-photonish-url.js":(e,t,s)=>{s.d(t,{E:()=>c});var i=s("../packages/calypso-url/src/url-parts.ts"),o=s("../packages/calypso-url/src/url-type.ts"),a=s("../packages/calypso-url/src/format.ts");const n="undefined"!=typeof window&&window.devicePixelRatio&&window.devicePixelRatio>1?2:1,r={photon:/(^[is]\d\.wp\.com|(^|\.)wordpress\.com)$/,gravatar:/(^|\.)gravatar\.com$/};function c(e,t){if(!e)return e;const s=(0,i.A)(e),c=(0,o.D)(e);if(!s.host)return e;const l=Object.keys(r).find((e=>s.hostname.match(r[e])));delete s.search;for(const e of["h","crop","resize","fit"])s.searchParams.delete(e);const d="gravatar"===l?"s":"w";s.searchParams.set(d,t*n),"gravatar"!==l&&(s.searchParams.set("quality",80),s.searchParams.set("strip","info"));const u=Array.from(s.searchParams.keys()).sort(),p=new URLSearchParams;u.forEach((e=>p.set(e,s.searchParams.get(e))));const m=(0,i.C)({...s,protocol:s.protocol||"https:",searchParams:p}).href;try{return(0,a.Z)(m,c)}catch{return m}}},"./lib/post-normalizer/utils/thumb-is-likely-image.js":(e,t,s)=>{s.d(t,{J:()=>o});var i=s("./lib/post-normalizer/utils/is-url-likely-an-image.js");function o(e){return!(!e||!e.URL)&&(0,i.E)(e.URL)}},"./lib/promote-post/index.ts":(e,t,s)=>{s.d(t,{yL:()=>h,fP:()=>g,fI:()=>_,dV:()=>y,pL:()=>k,RG:()=>b});var i=s("../packages/calypso-config/src/index.ts"),o=s("../packages/load-script/src/index.js"),a=s("../node_modules/@wordpress/i18n/build-module/index.js"),n=s("../node_modules/react-redux/es/index.js"),r=s("../packages/wpcom-proxy-request/src/index.js"),c=s("./lib/mobile-app/index.js"),l=s("./state/analytics/actions/compose-analytics.js"),d=s("./state/analytics/actions/record.js"),u=s("./state/analytics/actions/bump-stat.js"),p=s("./state/current-user/selectors.js");const m=a.__;async function h(){if(window.BlazePress)return;const e=(0,i.ZP)("dsp_widget_js_src")+"?ver="+Math.round(Date.now()/36e5);await(0,o.ve)(e),await s.e(50666).then(s.bind(s,"./lib/promote-post/string.ts"))}async function g(e,t,s,o,a,n,r){return await h(),new Promise(((l,d)=>{window.BlazePress?window.BlazePress.render({siteSlug:e,domNode:"string"!=typeof n?n:void 0,domNodeId:"string"==typeof n?n:void 0,stripeKey:(0,i.ZP)("dsp_stripe_pub_key"),apiHost:"https://public-api.wordpress.com",apiPrefix:`/wpcom/v2/sites/${t}/wordads/dsp`,authToken:"wpcom-proxy-request",template:"article",onLoaded:()=>l(!0),onClose:o,translateFn:a,urn:`urn:wpcom:post:${t}:${s||0}`,setShowCancelButton:r,uploadImageLabel:(0,c.H)()?m("Tap to add image"):void 0}):d(!1)}))}function _(e){const t={entry_point:e};return(0,l.N)((0,d.jN)("calypso_dsp_widget_start",t),(0,u.P)("calypso_dsp_widget_start",e))}const y=async(e,t,s="GET",i)=>{const o=`${`/sites/${e}/wordads/dsp/api/v1`}${t}`;return await(0,r.Vw)(),await(0,r.ZP)({path:o,method:s,body:i,apiNamespace:"wpcom/v2"})};let k;!function(e){e.FETCHING="fetching",e.ENABLED="enabled",e.DISABLED="disabled"}(k||(k={}));const b=()=>(0,n.v9)((e=>{const t=(0,p.ts)(e);if(t){const e=t.has_promote_widget;if(void 0!==e)return!0===e?k.ENABLED:k.DISABLED}return k.FETCHING}))},"./lib/route-modal/index.ts":(e,t,s)=>{s.d(t,{p:()=>d,H:()=>m});var i=s("../node_modules/@wordpress/url/build-module/remove-query-args.js"),o=s("../node_modules/page/page.js"),a=s.n(o),n=s("../node_modules/react-redux/es/index.js"),r=s("./lib/url/add-query-args.ts"),c=s("./state/selectors/get-current-query-arguments.js"),l=s("./state/selectors/get-previous-route.js");const d=(e,t="")=>{const s=(0,n.v9)(c.Z),o=(0,n.v9)(l.Z),d=s?.[e];return{isModalOpen:null!=d&&(!t||d===t),value:d,openModal:(s=t)=>{const i=window.location.href.replace(window.location.origin,""),o={[e]:s};a()((0,r.Z)(o,i))},closeModal:()=>{a()((0,i.I)(o,e))}}};var u=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e,t){return(0,u.o)((s=>i=>{const o={...i,routeModalData:d(e,t)};return(0,p.tZ)(s,{...o})}),"WithRouteModal")}},"./lib/tos-acceptance-tracking/index.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./lib/i18n-utils/browser.js");function o(){let e=0,t=0,s="/";return"undefined"!=typeof window&&(e=window.document.documentElement.clientWidth,t=window.document.documentElement.clientHeight,s=window.location.pathname),{path:s,locale:(0,i.Y)(),viewport:`${e}x${t}`}}},"./lib/track-element-size/index.ts":(e,t,s)=>{s.d(t,{Y6:()=>a});var i=s("../node_modules/lodash-es/throttle.js"),o=s("../node_modules/react/index.js");function a(e){const t=(0,o.useRef)(null),s=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!e)return;const o=()=>{const i=s.current?s.current.getBoundingClientRect():null;var o,a;o=t.current,a=i,(null===o?null===a:null!==a&&o.bottom===a.bottom&&o.left===a.left&&o.right===a.right&&o.top===a.top&&o.width===a.width&&o.height===a.height)||function(e){return null===e?null:0===e.bottom&&0===e.left&&0===e.right&&0===e.top&&0===e.width&&0===e.height}(i)||(t.current=i,e(i))};o();const a=(0,i.default)(o,200);return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),a.cancel()}}),[s.current,e]),s}},"./lib/user-agent/index.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../node_modules/express-useragent/index.js");const o=s.n(i)().parse(navigator.userAgent)},"./me/concierge/constants.js":(e,t,s)=>{s.d(t,{Fn:()=>i,_D:()=>o,o0:()=>a,x:()=>n,$H:()=>r,ih:()=>c,Ck:()=>l,eW:()=>d,Ts:()=>u,Gp:()=>p});const i="booked",o="booking",a="booking_error",n="cancelled",r="cancelling",c="cancelling_error",l="rest_concierge_no_available_staff",d="rest_concierge_already_has_appointment",u="has-upcoming-appointment",p="has-available-session"},"./my-sites/checkout/cart-manager-client.ts":(e,t,s)=>{s.d(t,{h:()=>a});var i=s("../packages/shopping-cart/src/shopping-cart-manager.ts"),o=s("./lib/wp/browser.js");const a=(0,i.k)({getCart:e=>{let t;try{t=window?.location?.pathname}catch{}return o.Z.req.get(`/me/shopping-cart/${e}?source=${t??"unknown"}`)},setCart:(e,t)=>o.Z.req.post(`/me/shopping-cart/${e}`,t)})},"./my-sites/customer-home/cards/constants.js":(e,t,s)=>{s.d(t,{mP:()=>i,c7:()=>o,A6:()=>a,wp:()=>n,RA:()=>r,Ru:()=>c,ur:()=>l,N:()=>d,mI:()=>u,Hc:()=>p,ch:()=>m,nV:()=>h,zk:()=>g,hP:()=>_,FH:()=>y,UV:()=>k,CJ:()=>b,Ay:()=>f,Xl:()=>v,lw:()=>w,Gz:()=>Z,GJ:()=>x,JZ:()=>j,Lj:()=>I,Pf:()=>N,LD:()=>S,Q2:()=>C,zs:()=>E,R$:()=>P,kl:()=>T,j0:()=>A,ze:()=>L,Rf:()=>D,PA:()=>B,vD:()=>R,Lm:()=>U,Wr:()=>O,mB:()=>z,Dy:()=>M,q6:()=>q,xY:()=>F,_U:()=>$,Jq:()=>X,wF:()=>H,Um:()=>G});const i="home-action-quick-links",o="home-action-wp-for-teams-quick-links",a="home-education-free-photo-library",n="home-education-earn",r="home-education-store",c="home-education-wpcourses",l="home-education-promote-post",d="home-education-find-success",u="home-education-respond-to-customer-feedback",p="home-education-blogging-quick-start",m="home-education-site-editor-quick-start",h="home-feature-domain-upsell",g="home-feature-go-mobile",_="home-feature-quick-start",y="home-feature-stats",k="home-feature-support",b="home-site-launch-seller-upsell",f="home-notice-celebrate-site-creation",v="home-notice-celebrate-site-launch",w="home-notice-celebrate-site-migration",Z="home-notice-celebrate-site-copy",x="home-notice-celebrate-site-setup-complete",j="home-section-learn-grow",I="home-section-blogging-prompt",N="home-section-manage-site",S="home-task-connect-accounts",C="home-task-earn-features",E="home-task-find-domain",P="home-task-go-mobile-android",T="home-task-go-mobile-ios",A="home-task-marketplace",L="home-task-promote-post",D="home-task-renew-expired-plan",B="home-task-renew-expiring-plan",R="home-task-reactivate-expired-plan",U="home-task-reactivate-atomic-transfer",O="home-task-reactivate-restore-backup",z="home-site-resume-copy",M="home-task-site-setup-checklist",q="home-task-webinars",F="home-task-wp-courses",$="home-task-upsell-titan",X="home-task-verify-email",H="home-task-use-built-by",G="home-task-fiverr"},"./my-sites/customer-home/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Vi});var i=s("../node_modules/page/page.js"),o=s.n(i),a=s("./controller/index.web.js"),n=s("./my-sites/controller.js"),r=s("../packages/calypso-products/src/is-ecommerce.ts"),c=s("./state/plugins/installed/actions.js"),l=s("./state/plugins/installed/selectors.js"),d=s("./state/sites/actions.js"),u=s("./state/sites/selectors/can-current-user-use-customer-home.js"),p=s("./state/sites/selectors/get-site-options.ts"),m=s("./state/sites/selectors/get-site-plan.ts"),h=s("./state/sites/selectors/get-site-url.js"),g=s("./state/ui/selectors/get-selected-site-id.js"),_=s("./state/ui/selectors/get-selected-site-slug.js"),y=s("./utils.ts"),k=s("../packages/calypso-products/src/is-free-plan.ts"),b=s("../packages/components/src/button/index.tsx"),f=s("../node_modules/@wordpress/components/build-module/external-link/index.js"),v=s("../packages/i18n-calypso/src/use-translate.js"),w=s("../node_modules/react/index.js"),Z=s("../node_modules/react-redux/es/index.js"),x=s("./blocks/site-icon/index.jsx"),j=s("./components/data/document-head/index.jsx"),I=s("./components/data/query-site-checklist/index.js"),N=s("./components/empty-content/index.jsx"),S=s("./components/formatted-header/index.jsx"),C=s("./components/main/index.jsx"),E=s("./data/home/use-home-layout-query.ts"),P=s("./lib/analytics/hotjar.js"),T=s("./lib/analytics/page-view-tracker/index.jsx"),A=s("./lib/analytics/with-tracking-tool/index.jsx"),L=s("./lib/formatting/prevent-widows.js"),D=s("../node_modules/classnames/index.js"),B=s.n(D),R=s("./components/dot-pager/index.jsx"),U=s("./lib/performance-tracking/index.web.ts"),O=s("./my-sites/customer-home/cards/constants.js"),z=s("./assets/images/customer-home/illustration--fireworks-v2.svg"),M=s("../packages/components/src/spinner/index.tsx"),q=s("../packages/viewport/src/index.ts"),F=s("./data/home/use-skip-current-view-mutation.ts"),$=s("./state/analytics/actions/compose-analytics.js"),X=s("./state/analytics/actions/record.js"),H=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const G=(0,Z.$j)((e=>({siteId:(0,g.Z)(e)})))((({actionText:e,description:t,noticeId:s,illustration:i=z,onSkip:o,showSkip:a=!1,skipText:n,siteId:r,title:c,tracksEventExtras:l={}})=>{const[d,u]=(0,w.useState)(!1),p=(0,Z.I0)(),{skipCurrentView:m}=(0,F.Z)(r);return(0,H.BX)("div",{className:B()("celebrate-notice","task",{"is-loading":d}),children:[d&&(0,H.tZ)(M.$,{}),(0,H.BX)("div",{className:"celebrate-notice__text task__text",children:[(0,H.tZ)("h2",{className:"celebrate-notice__title task__title",children:c}),(0,H.tZ)("p",{className:"celebrate-notice__description task__description",children:t}),(0,H.BX)("div",{className:"celebrate-notice__actions task__actions",children:[(0,H.tZ)(b.Z,{className:"celebrate-notice__action task__action",primary:!0,onClick:()=>{u(!0),m(),p((0,$.N)((0,X.jN)("calypso_customer_home_notice_show_next",{notice:s,...l})))},children:e}),a&&(0,H.tZ)(b.Z,{className:"celebrate-notice__skip task__skip is-link",onClick:()=>{u(!0),m(),o&&o(),p((0,$.N)((0,X.jN)("calypso_customer_home_notice_skip",{notice:s,...l})))},children:n})]})]}),(0,q.nI)()&&(0,H.tZ)("div",{className:"celebrate-notice__illustration task__illustration",children:(0,H.tZ)("img",{src:i,alt:""})})]})})),W=()=>{const e=(0,v.Z)();return(0,H.tZ)(G,{actionText:e("Finish setting up your site"),description:e("Now it’s time to choose a name and customize a few settings to make it unique."),noticeId:O.Gz,title:e("Your copied site is ready!"),illustration:z,showSkip:!1})},Y=()=>{const e=(0,v.Z)();return(0,H.tZ)(G,{actionText:e("Get started"),description:e("Next, we'll guide you through setting up and launching your site."),noticeId:O.Ay,title:e("Your site has been created!")})};var V=s("./assets/images/customer-home/illustration--rocket.svg"),J=s("./state/checklist/actions.js"),Q=s("./state/preferences/actions.js"),K=s("../node_modules/lodash-es/get.js"),ee=s("./lib/checklist/index.js"),te=s("../packages/state-utils/src/index.ts"),se=s("../node_modules/lodash-es/find.js"),ie=s("../node_modules/lodash-es/some.js"),oe=s("./state/posts/selectors/get-posts-for-query.js"),ae=s("./state/selectors/get-editor-url.js"),ne=s("./state/selectors/get-front-page-editor-url.js");const re={type:"any",number:10,order_by:"ID",order:"ASC"};function ce(e,t,s){return s?(0,ae.Z)(e,t,s,"page"):null}const le=(0,te.P1)(((e,t)=>{const s=(0,oe.I)(e,t,re),i=(0,K.Z)((0,se.Z)(s,{type:"post"}),[0,"ID"]),o=ce(e,t,function(e){return(0,K.Z)((0,se.Z)(e,(e=>"page"===e.type&&((0,ie.Z)(e.metadata,{key:"_headstart_post",value:"_hs_contact_page"})||"contact"===e.slug))),"ID",null)}(s)),a=(0,ne.Z)(e,t);return{post_published:ce(e,t,i),contact_page_updated:o,about_text_updated:a,front_page_updated:a,homepage_photo_updated:a,business_hours_added:a,service_list_added:a,staff_info_added:a,product_list_added:a,woocommerce_setup:(0,h.Z)(e,t)+"/wp-admin/admin.php?page=wc-admin",sensei_setup:(0,h.Z)(e,t)+"/wp-admin/admin.php?page=sensei"}}),((e,t)=>[(0,oe.I)(e,t,re),(0,ne.Z)(e,t)]));var de=s("./state/selectors/get-site-checklist.js");function ue(e,t){const s=(0,de.Z)(e,t),i=(0,ee.Z)({taskStatuses:(0,K.Z)(s,"tasks"),siteSegment:(0,K.Z)(s,"siteSegment")}),o=le(e,t);return i.removeTasksWithoutUrls(o),i}var pe=s("./state/data-layer/wpcom/checklist/index.js"),me=s("./state/selectors/get-request.js");var he=s("./state/sites/selectors/get-site-front-page.js");function ge(e,t){const s=(0,de.Z)(e,t);if(function(e,t){return(0,me.Z)(e,(0,J.Ec)(t)).isLoading}(e,t)||null===s||!Array.isArray(s.tasks))return null;const i=!!(0,he.Z)(e,t);return ue(e,t).getAll().every((e=>!!e.isCompleted||(pe.wx.FRONT_PAGE_UPDATED===e.id&&!i||(pe.wx.MOBILE_APP_INSTALLED===e.id||pe.wx.SITE_MENU_UPDATED===e.id))))}const _e=(0,Z.$j)((e=>{const t=(0,g.Z)(e),s=ge(e,t);let i=[];if(!s){i=ue(e,t).getAll().filter((e=>!e.isCompleted))}return{isSiteSetupComplete:s,pendingSiteSetupTasks:i,siteId:t}}))((({isSiteSetupComplete:e,pendingSiteSetupTasks:t,siteId:s})=>{const i=(0,v.Z)(),o=(0,Z.I0)();return(0,H.tZ)(G,{actionText:i(e?"Show me what's next":"Show site setup"),description:i(e?"Don't forget to share your hard work with everyone. Keep up the momentum with some guidance on what to do next.":"Don't forget to share your hard work with everyone. Then keep working through your site setup list."),noticeId:O.Xl,title:i("You launched your site!"),illustration:V,showSkip:!0,skipText:i(e?"Dismiss":"Skip site setup"),onSkip:e?null:()=>{t.forEach((e=>o((0,J.Ym)(s,e.id)))),o((0,Q.zZ)(`dismissible-card-${O.GJ}-${s}`,!0))},tracksEventExtras:{is_site_setup_complete:e}})}));var ye=s("./assets/images/customer-home/illustration--import-complete.svg");const ke=()=>{const e=(0,v.Z)();return(0,H.tZ)(G,{actionText:e("Show me what's next"),description:e("You finished importing your site. We'll guide you on the next steps to start growing your site."),noticeId:O.lw,title:e("Your site has been imported!"),illustration:ye,showSkip:!0,skipText:e("Dismiss")})};var be=s("./assets/images/customer-home/illustration--checklist-complete.svg");const fe=()=>{const e=(0,v.Z)();return(0,H.tZ)(G,{actionText:e("Show me what's next"),description:e("You finished your site setup. We'll guide you on the next steps to start growing your site."),noticeId:O.GJ,title:e("Site setup complete!"),illustration:be,showSkip:!0,skipText:e("Dismiss")})};var ve=s("./assets/images/customer-home/illustration--seller.svg"),we=s("../packages/components/src/gridicon/index.tsx"),Ze=s("../node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),xe=s("./components/badge/index.jsx"),je=s("./components/popover-menu/index.jsx"),Ie=s("./components/popover-menu/item.jsx"),Ne=s("./state/analytics/actions/bump-stat.js");const Se=({actionButton:e,actionBusy:t=!1,actionOnClick:s,actionTarget:i,actionText:o,actionUrl:a,badgeText:n,completeOnStart:r=!1,description:c,hasAction:l=!0,illustration:d,isLoading:u=!1,isUrgent:p=!1,showSkip:m=!0,skipText:h,enableSkipOptions:g=!0,scary:_,siteId:y,taskId:k,timing:f,title:x})=>{const[j,I]=(0,w.useState)(u),[N,S]=(0,w.useState)(!1),C=(0,Z.I0)(),E=(0,v.Z)(),P=(0,w.useRef)(null),{skipCard:T}=(0,F.Z)(y??0),A=(0,Ze.Z)(Se);(0,w.useEffect)((()=>I(u)),[u]);const L=()=>{s instanceof Function&&s(),r&&(I(!0),T(k)),C((0,$.N)((0,X.jN)("calypso_customer_home_task_start",{task:k}),(0,Ne.P)("calypso_customer_home","task_start")))},D=(e=null)=>{I(!0),S(!1),T(k,e),C((0,$.N)((0,X.jN)("calypso_customer_home_task_skip",{task:k,reminder:e}),(0,Ne.P)("calypso_customer_home","task_skip")))},R=({children:e})=>(0,H.tZ)("div",{onClick:L,role:"presentation",className:"task__action",children:e});return(0,H.BX)("div",{className:B()("task",{"is-loading":j,"is-urgent":p}),children:[j&&(0,H.tZ)(M.$,{}),(0,H.BX)("div",{className:"task__text",children:[f&&(0,H.BX)("div",{className:"task__timing",children:[(0,H.tZ)(we.Z,{icon:"time",size:18}),E("%d minute","%d minutes",{count:f,args:[f]})]}),n&&(0,H.tZ)(xe.Z,{type:"info",className:"task__badge",children:n}),(0,H.tZ)("h2",{className:"task__title",children:x}),(0,H.tZ)("p",{className:"task__description",children:c}),(0,H.BX)("div",{className:"task__actions",children:[l?e?(0,H.tZ)(R,{children:e}):(0,H.tZ)(b.Z,{className:"task__action",primary:!0,scary:_,onClick:L,href:a,target:i,busy:t,children:o}):null,m&&(0,H.BX)(b.Z,{className:"task__skip is-link",ref:P,onClick:()=>g?S(!0):D(),"aria-haspopup":!0,"aria-expanded":!(!g||!N)||void 0,"aria-controls":`popover-menu-${A}`,children:[h||E(g?"Hide this":"Dismiss"),g&&(0,H.tZ)(we.Z,{icon:"dropdown",size:18})]}),m&&g&&N&&(0,H.BX)(je.Z,{id:`popover-menu-${A}`,context:P.current,isVisible:N,onClose:()=>S(!1),position:"bottom",className:"task__skip-popover",children:[(0,H.tZ)(Ie.Z,{onClick:()=>D("1d"),children:E("For a day")}),(0,H.tZ)(Ie.Z,{onClick:()=>D("1w"),children:E("For a week")}),(0,H.tZ)(Ie.Z,{onClick:()=>D(),children:E("Forever")})]})]})]}),(0,q.nI)()&&d&&(0,H.tZ)("div",{className:"task__illustration",children:(0,H.tZ)("img",{src:d,alt:""})})]})},Ce=(0,Z.$j)((e=>({siteId:(0,g.Z)(e)})))(Se);var Ee=s("./my-sites/plans-comparison/index.tsx"),Pe=s("./state/ui/selectors/get-selected-site.ts");const Te=()=>{const e=(0,Z.v9)(Pe.Z),{domain:t}=e,s=(0,v.Z)(),i=(0,Z.v9)((t=>(0,Ee.Zh)(t,e.ID)));return(0,H.tZ)(Ce,{title:s("Need more from your store?"),description:s(i?"Upgrade to our Pro plan to gain access to all the tools you need to run an online ecommerce store, from marketing to shipping.":"Upgrade to our premium plan to gain access to all the tools you need to run an online ecommerce store, from marketing to shipping."),actionText:s("Learn more"),actionUrl:`https://wordpress.com/woocommerce-installation/${t}`,actionTarget:"_blank",completeOnStart:!1,illustration:ve,taskId:O.CJ})};var Ae=s("./assets/images/customer-home/illustration--task-connect-social-accounts.svg"),Le=s("./components/data/query-publicize-connections/index.jsx");const De=(0,Z.$j)((e=>({siteSlug:(0,_.Z)(e)})))((({siteSlug:e})=>{const t=(0,v.Z)();return(0,H.BX)(H.HY,{children:[(0,H.tZ)(Le.Z,{selectedSite:!0}),(0,H.tZ)(Ce,{title:t("Drive traffic to your site"),description:t("Integrate your site with social media to automatically post your content and drive traffic to your site."),actionText:t("Connect accounts"),actionUrl:(0,q.tq)()?`/marketing/connections/${e}`:`/marketing/connections/${e}?tour=marketingConnectionsTour`,illustration:Ae,timing:3,taskId:O.LD})]})}));var Be=s("./assets/images/customer-home/illustration--task-earn.svg");const Re=(0,Z.$j)((e=>({siteSlug:(0,_.Z)(e)})))((({siteSlug:e})=>{const t=(0,v.Z)();return(0,H.tZ)(Ce,{title:t("Make money from your website"),description:t("Sell just about anything to your visitors — physical items, digital downloads, memberships, exclusive content, and more."),actionText:t("Start making money"),actionUrl:`/earn/${e}`,completeOnStart:!1,illustration:Be,taskId:O.Q2})}));var Ue=s("./assets/images/customer-home/illustration--task-find-domain.svg");const Oe=(0,Z.$j)((e=>({siteSlug:(0,_.Z)(e)})))((({siteSlug:e})=>{const t=(0,v.Z)();return(0,H.tZ)(Ce,{title:t("Look more professional"),description:(0,L.R)(t("Get a custom domain and show the world you're serious. Sites with custom domains look more professional and rank higher in search engine results.")),actionText:t("Find a domain"),actionUrl:`/domains/add/${e}`,illustration:Ue,timing:10,taskId:O.zs})}));var ze=s("./assets/images/customer-home/illustration--task-fiverr.svg");const Me=()=>{const e=(0,v.Z)();return(0,H.tZ)(Ce,{title:e("Grab a professionally designed logo in 10 minutes"),description:(0,L.R)(e("A great logo signals competence, professionalism, and quality. For just $55, the Fiverr Logo Maker will improve your site’s look and reputation.")),actionText:e("Get your logo"),actionUrl:"https://wp.me/logo-maker/?utm_campaign=my_home_task",illustration:ze,timing:10,taskId:O.zs})};var qe=s("./blocks/get-apps/apps-badge.jsx");const Fe=({isIos:e})=>{const t=(0,v.Z)(),s=e?(0,H.tZ)(qe.Z,{storeName:"ios",utm_source:"calypso-customer-home"}):(0,H.tZ)(qe.Z,{storeName:"android",utm_source:"calypso-customer-home"});return(0,H.tZ)(Ce,{title:(0,L.R)(t("Update and manage on the go")),description:(0,L.R)(t("Inspiration strikes any time, anywhere. Post, read, check stats, and more with the WordPress app at your fingertips.")),actionButton:s,timing:2,taskId:e?O.kl:O.R$})};var $e=s("./assets/images/marketplace/diamond.svg");const Xe=()=>{const e=(0,v.Z)(),t=(0,Z.v9)((e=>(0,_.Z)(e)));return(0,H.tZ)(Ce,{title:e("Buy the best plugins"),description:e("Now you can purchase plugins right on WordPress.com to extend your website's capabilities."),actionText:e("Let's explore!"),actionUrl:`/plugins/${t}`,illustration:$e,taskId:O.j0})};var He=s("./assets/images/customer-home/illustration--blaze.svg"),Ge=s("./lib/promote-post/index.ts");const We=()=>{const e=(0,v.Z)(),t=(0,Ge.RG)()===Ge.pL.ENABLED,s=(0,Z.I0)(),i=(0,Z.v9)(_.Z);return(0,w.useEffect)((()=>{(0,Ge.yL)()}),[]),(0,H.tZ)(H.HY,{children:t&&(0,H.tZ)(Ce,{title:e("Promote your content with Blaze"),description:e("Grow your audience by promoting your content with Blaze campaigns. Reach interested users across millions of sites on Tumblr and WordPress.com."),actionText:e("Create campaign"),actionUrl:`/advertising/${i}`,actionOnClick:async()=>{s((0,Ge.fI)("myhome_tasks-swipeable"))},completeOnStart:!1,illustration:He,taskId:O.ze})})};var Ye=s("./assets/images/customer-home/disconnected-dark.svg"),Ve=s("./assets/images/customer-home/disconnected.svg"),Je=s("./components/localized-moment/index.js"),Qe=s("./state/purchases/selectors/get-site-purchases.ts"),Ke=s("./state/sites/selectors/get-site.js");const et=(0,Z.$j)((e=>{const t=(0,g.Z)(e);return{purchases:(0,Qe.q)(e,t),site:(0,Ke.Z)(e,t),siteSlug:(0,_.Z)(e)}}))((0,Je.q)((({card:e,moment:t,purchases:s,site:i,siteSlug:o})=>{const a=(0,v.Z)(),n=e===O.Rf,r=s.find((e=>e.productId===i?.plan.product_id)),c=i?.plan.product_name_short,l=r?.productSlug,d=t(r?.expiryDate),u=Math.abs(t().diff(d,"hours"))<24?d.format("[today]"):d.fromNow(),p=i?.plan.user_is_owner,m=a(n?"Reactivate your %(planName)s plan":"%(planName)s plan expiring soon",{args:{planName:c}});let h,g;p&&n?(h=a("Your %(planName)s plan expired %(timeSinceExpiry)s. Reactivate now to continue enjoying features such as increased storage space, access to expert support, and automatic removal of WordPress.com ads.",{args:{planName:c,timeSinceExpiry:u},comment:'%(timeSinceExpiry)s is of the form "[number] [time-period] ago" i.e. "3 days ago"'}),g=a("Reactivate plan")):p&&!n?(h=a("Your %(planName)s plan expires %(timeUntilExpiry)s. Renew now to continue enjoying features such as increased storage space, access to expert support, and automatic removal of WordPress.com ads.",{args:{planName:c,timeUntilExpiry:u},comment:'%(timeUntilExpiry)s is of the form "in [number] [time-period]" i.e. "in 3 days"'}),g=a("Renew now")):!p&&n?(h=a("The %(planName)s plan of this site expired %(timeSinceExpiry)s. To reactivate it, since it was purchased by a different WordPress.com account, log in to that account or contact the account owner.",{args:{planName:c,timeSinceExpiry:u},comment:'%(timeSinceExpiry)s is of the form "[number] [time-period] ago" i.e. "3 days ago"'}),g=a("Got it")):p||n||(h=a("The %(planName)s plan of this site expires %(timeUntilExpiry)s. To renew it, since it was purchased by a different WordPress.com account, log in to that account or contact the account owner.",{args:{planName:c,timeUntilExpiry:u},comment:'%(timeUntilExpiry)s is of the form "in [number] [time-period]" i.e. "in 3 days"'}),g=a("Got it"));const _=p?`/checkout/${l}/renew/${r?.id}/${o}`:null,y=n?Ye:Ve;return(0,H.tZ)(Ce,{title:m,description:h,actionText:g,actionUrl:_,badgeText:a("Action required"),illustration:y,isLoading:!r,isUrgent:n,hasAction:p,taskId:e})})));var tt=s("../packages/i18n-utils/src/localize-url.tsx"),st=s("../packages/i18n-calypso/src/index.js"),it=s("./components/external-link/with-tracking.jsx");const ot=({card:e})=>{const t=(0,Z.v9)(_.Z);if(!t||!function(e){return at.includes(e)}(e))return null;const s=(0,H.BX)(H.HY,{children:[(0,H.tZ)("br",{}),(0,H.tZ)("br",{})]}),i=(0,H.tZ)(it.Z,{icon:!0,href:(0,tt.aq)("https://wordpress.com/support/restore-your-site-after-the-plan-expires/"),tracksEventName:"calypso_customer_home_restore_site_support_page_click"}),o=function(){switch(e){case O.vD:return{title:(0,st.Iu)("Renew Your Plan"),description:(0,st.Iu)("Your plan expired and your site reverted to the Free plan. {{supportLink}}Follow these steps to continue using your previous features{{/supportLink}}, beginning with purchasing an eligible plan.{{lineBreak/}}No further action is needed if you wish to continue with the Free plan.",{components:{lineBreak:s,supportLink:i}}),timing:1,actionText:(0,st.Iu)("Renew Your Plan"),actionUrl:`/plans/${t}`};case O.Lm:return{title:(0,st.Iu)("Activate Hosting Features"),description:(0,st.Iu)("When your plan previously expired, your site lost access to hosting features, including plugins. {{supportLink}}Follow these steps to continue using your previous features{{/supportLink}}, by re-activating hosting configuration.{{lineBreak/}}No further action is needed if you do not need hosting features.",{components:{lineBreak:s,supportLink:i}}),timing:2,actionText:(0,st.Iu)("Activate Hosting Features"),actionUrl:`/hosting-config/${t}`,enableSkipOptions:!1,skipText:(0,st.Iu)("I do not need hosting features")};case O.Wr:return{title:(0,st.Iu)("Restore a Backup"),description:(0,st.Iu)("When your plan previously expired, your site reverted. {{supportLink}}Follow these steps to restore a backup{{/supportLink}}, restoring your site to how it looked before the plan expired.{{lineBreak/}}No further action is needed if you do not need to restore from a backup.",{components:{lineBreak:s,supportLink:i}}),timing:30,actionText:(0,st.Iu)("Restore a Backup"),actionUrl:`/backup/${t}`,enableSkipOptions:!1,skipText:(0,st.Iu)("I do not need to restore from a backup")}}}();return(0,H.tZ)(Ce,{isUrgent:!0,...o,taskId:e,illustration:Ye})},at=[O.vD,O.Lm,O.Wr];var nt=s("./landing/stepper/hooks/use-site-copy.tsx"),rt=s("./lib/analytics/tracks.js"),ct=s("./lib/navigate/index.ts"),lt=s("./state/sites/selectors/get-site-option.ts");const dt=(0,Z.$j)((e=>{const t=(0,lt.Z)(e,(0,g.Z)(e),"site_source_slug");return{siteSlug:(0,_.Z)(e),sourceSite:(0,Ke.Z)(e,t),sourceSiteSlug:t}}))((({siteSlug:e,sourceSite:t,sourceSiteSlug:s})=>{const i=(0,v.Z)(),[o,a]=(0,w.useState)(!1),{resumeSiteCopy:n}=(0,nt.G)(t);return(0,H.tZ)(Ce,{actionBusy:o,isUrgent:!0,title:i("Ready to finish copying your site?"),description:(0,L.R)(i("Your copied site is almost there. You can finish setting it up any time you’re ready.")),actionText:i("Finish setting it up"),actionOnClick:async()=>{(0,rt.recordTracksEvent)("calypso_resume_copy_site_click"),a(!0),await n(e),(0,ct.c)(`/setup/copy-site/resuming?sourceSlug=${s}&siteSlug=${e}`)},illustration:ye,taskId:O.mB})}));var ut=s("../packages/components/src/card/index.tsx"),pt=s("../packages/i18n-calypso/src/rtl.js"),mt=s("./components/card-heading/index.jsx"),ht=s("./data/themes/with-is-fse-active.js"),gt=s("./state/current-user/email-verification/actions.js"),_t=s("./state/current-user/selectors.js"),yt=s("./state/guided-tours/actions.js"),kt=s("./state/selectors/is-unlaunched-site.js"),bt=s("./state/sites/hooks/index.js"),ft=s("./state/sites/selectors/get-customizer-url.js"),vt=s("./state/sites/selectors/get-site-slug.js");const wt=({currentTask:e,skipTask:t,startTask:s,useAccordionLayout:i})=>(0,H.tZ)("div",{className:"site-setup-list__task task",role:"tabpanel",children:(0,H.BX)("div",{className:"site-setup-list__task-text task__text",children:[e.isCompleted&&!e.hideLabel&&(0,H.tZ)(xe.Z,{type:"info",className:"site-setup-list__task-badge task__badge",children:(0,st.Iu)("Complete")}),e.timing&&!e.isCompleted&&(0,H.BX)("div",{className:"site-setup-list__task-timing task__timing",children:[(0,H.tZ)(we.Z,{icon:"time",size:18}),(0,st.Iu)("%d minute","%d minutes",{count:e.timing,args:[e.timing]})]}),!i&&(0,H.BX)(H.HY,{children:[e.icon,(0,H.tZ)("h3",{className:"site-setup-list__task-title task__title",children:e.subtitle||e.title})]}),(0,H.tZ)("p",{className:"site-setup-list__task-description task__description",children:e.description}),(0,H.BX)("div",{className:"site-setup-list__task-actions task__actions",children:[e.customFirstButton,e.actionText&&(0,H.BX)(b.Z,{className:B()("site-setup-list__task-action","task__action",{"is-link":e.actionIsLink,"is-jetpack-branded":e.jetpackBranding}),primary:!e.actionIsLink,onClick:()=>s(),disabled:e.isDisabled||e.isCompleted&&e.actionDisableOnComplete,children:[e.isCompleted&&(e.isDisabled||e.actionDisableOnComplete)&&(0,H.tZ)(we.Z,{"aria-label":(0,st.Iu)("Task complete"),className:"site-setup-list__complete-icon",icon:"checkmark",size:18}),e.actionText]}),e.isSkippable&&!e.isCompleted&&(0,H.tZ)(b.Z,{className:"site-setup-list__task-skip task__skip is-link",onClick:()=>t(),children:(0,st.Iu)("Skip for now")})]})]})});var Zt=s("../packages/calypso-config/src/index.ts"),xt=s("../node_modules/@wordpress/element/build-module/create-interpolate-element.js"),jt=s("./components/animated-icon/index.jsx"),It=s("./components/inline-support-link/index.jsx"),Nt=s("./my-sites/domains/paths.js"),St=s("./my-sites/email/paths.js"),Ct=s("./state/sites/launch/actions.js");const Et=(e,{isDomainUnverified:t})=>e.id===pe.wx.SITE_LAUNCHED&&t?(0,H.BX)(H.HY,{children:[e.description,(0,H.tZ)("br",{}),(0,H.tZ)("br",{}),(0,st.Iu)("Verify the email address for your domain before launching your site.")]}):e.description,Pt=(e,{emailVerificationStatus:t,isDomainUnverified:s,isEmailUnverified:i})=>{switch(e.id){case pe.wx.EMAIL_VERIFIED:return"requesting"===t||!i;case pe.wx.SITE_LAUNCHED:return s;case pe.wx.PROFESSIONAL_EMAIL_MAILBOX_CREATED:return e.isCompleted;default:return!1}},Tt=(e,{emailVerificationStatus:t,isDomainUnverified:s,isEmailUnverified:i,menusUrl:o,siteId:a,siteSlug:n,taskUrls:r,userEmail:c,isBlogger:l,isFSEActive:d,isRtl:u}={})=>{let p={};const m=Zt.ZP.isEnabled("jetpack/app-branding"),h={title:(0,st.Iu)("Try the WordPress app"),description:l?(0,st.Iu)("Write posts, check stats, and reply to comments on the go!"):(0,st.Iu)("Download the WordPress app to your mobile device to manage your site and follow your stats on the go.")},g={title:(0,st.Iu)("Try the Jetpack app"),subtitle:(0,st.Iu)("Put your site in your pocket"),icon:(0,H.tZ)(jt.Z,{icon:`/calypso/animations/app-promo/wp-to-jp${u?"-rtl":""}.json`,className:"site-setup-list__task-icon"}),description:(0,st.Iu)("Write posts, view your stats, reply to comments, and upload media anywhere, anytime."),jetpackBranding:!0};switch(e.id){case pe.wx.DOMAIN_VERIFIED:p={timing:2,title:1===e.unverifiedDomains.length?(0,st.Iu)("Verify the email address for %(domainName)s",{args:{domainName:e.unverifiedDomains[0]}}):(0,st.Iu)("Verify the email address for your domains"),description:(0,st.Iu)("We need to check your contact information to make sure you can be reached. Please verify your details using the email we sent you, or your domain will stop working."),actionUrl:1===e.unverifiedDomains.length?(0,Nt.OL)(n,e.unverifiedDomains[0]):(0,Nt.Hf)(n),actionText:(0,st.Iu)("Verify")};break;case pe.wx.EMAIL_VERIFIED:p={timing:1,title:(0,H.BX)(H.HY,{children:[(0,st.Iu)("Confirm your email address"),(0,H.tZ)("span",{className:"site-setup-list__nav-item-email",children:c})]}),description:(0,H.BX)(H.HY,{children:[(0,st.Iu)("We have sent an email to this address to verify your account. Not in inbox or spam folder? Tap the Resend email button! "),(0,H.BX)("span",{className:"site-setup-list__task-description-email",children:[" ",c," "]}),(0,H.tZ)("a",{href:"/me/account",children:(0,st.Iu)("Change")})]}),actionText:e.isCompleted?(0,st.Iu)("Already confirmed"):(0,st.Iu)("Resend email"),actionDispatch:gt.l,actionDispatchArgs:[{showGlobalNotices:!0}]};break;case pe.wx.BLOGNAME_SET:p={timing:1,title:l?(0,st.Iu)("Name your blog"):(0,st.Iu)("Give your site a name"),description:l?(0,st.Iu)("Choose a name for your blog that reflects your site's personality. Don't worry, you can change it any time you like."):(0,st.Iu)("Give your new site a title to let people know what your site is about."),actionText:l?(0,st.Iu)("Name your blog"):(0,st.Iu)("Name your site"),actionUrl:`/settings/general/${n}`,tour:"checklistSiteTitle"};break;case pe.wx.MOBILE_APP_INSTALLED:p={...m?g:h,timing:3,actionText:l?(0,st.Iu)("Download the app"):(0,st.Iu)("Download mobile app"),actionUrl:"/me/get-apps",...!e.isCompleted&&{actionDispatch:J.Ym,actionDispatchArgs:[a,e.id]},isSkippable:!0};break;case pe.wx.WOOCOMMERCE_SETUP:p={timing:7,title:(0,st.Iu)("Finish store setup"),description:(0,st.Iu)("Add your store details, add products, configure shipping, so you can begin to collect orders!"),actionText:e.isCompleted?(0,st.Iu)("Go to WooCommerce Home"):(0,st.Iu)("Finish store setup"),actionUrl:r?.woocommerce_setup,actionDisableOnComplete:!1,isSkippable:!0};break;case pe.wx.SENSEI_SETUP:p={timing:15,title:(0,st.Iu)("Finish Sensei setup"),description:(0,st.Iu)("Customize your course templates, create your first course, and more!"),actionText:e.isCompleted?(0,st.Iu)("Go to Sensei Home"):(0,st.Iu)("Finish Sensei setup"),actionUrl:r?.sensei_setup,actionDisableOnComplete:!1,isSkippable:!0};break;case pe.wx.SITE_LAUNCHED:{const t=l?(0,st.Iu)("Ready for the big reveal? Right now, your blog is private and visible only to you. Launch your blog so that it's public for everyone."):(0,st.Iu)("Your site is private and only visible to you. When you're ready, launch your site to make it public."),s=(0,xt.Z)((0,st.Iu)("Your site is already live. You can change your site visibility in <Link>privacy options</Link> at any time."),{Link:(0,H.tZ)("a",{href:`/settings/general/${n}#site-privacy-settings`})}),i=l?(0,st.Iu)("Launch blog"):(0,st.Iu)("Launch site"),o=(0,st.Iu)("Already launched");p={timing:1,title:l?(0,st.Iu)("Launch your blog"):(0,st.Iu)("Launch your site to the world"),description:e.isCompleted?s:t,actionText:e.isCompleted?o:i,actionDispatch:Ct.R,actionDispatchArgs:[a,"my-home"],actionDisableOnComplete:!0};break}case pe.wx.FRONT_PAGE_UPDATED:p={timing:20,title:d?(0,st.Iu)("Update your site's design"):(0,st.Iu)("Update your homepage"),description:(0,st.Iu)("We've created the basics, now it's time for you to update the images and text. Make a great first impression. Everything you do can be changed anytime."),actionText:d?(0,st.Iu)("Edit site"):(0,st.Iu)("Edit homepage"),actionUrl:r?.front_page_updated,...!e.isCompleted&&d&&{actionDispatch:J.Ym,actionDispatchArgs:[a,e.id]}};break;case pe.wx.SITE_MENU_UPDATED:p={timing:10,title:(0,st.Iu)("Customize your site menu"),description:(0,st.Iu)("Building an effective navigation menu makes it easier for someone to find what they're looking for and improve search engine rankings."),actionText:(0,st.Iu)("Add a menu"),actionUrl:o,actionIsLink:!0,customFirstButton:(0,H.tZ)(It.Z,{className:"button is-primary task__action",supportContext:"menus",showIcon:!1,tracksEvent:"calypso_customer_home_menus_support_page_view",statsGroup:"calypso_customer_home",statsName:"menus_view_tutorial",children:(0,st.Iu)("View tutorial")})};break;case pe.wx.SITE_THEME_SELECTED:p={timing:5,title:(0,st.Iu)("Choose a theme"),description:(0,st.Iu)("Make your site uniquely yours! Themes don’t just change the look and feel of your site, they can also add new features such as a unique homepage layout, interactive post sliders, and more!"),actionText:(0,st.Iu)("Choose a theme"),isSkippable:!1,actionUrl:`/themes/${n}`};break;case pe.wx.PROFESSIONAL_EMAIL_MAILBOX_CREATED:p={timing:2,title:(0,st.Iu)("Set up your Professional Email"),description:(0,st.Iu)("Complete your Professional Email setup to start sending and receiving emails from your custom domain today."),actionText:(0,st.Iu)("Set up mailbox"),isSkippable:!1,actionUrl:(0,St.gV)(n,e.domain)};break;case pe.wx.BLOG_PREVIEWED:p={timing:1,title:(0,st.Iu)("Preview your blog"),description:(0,st.Iu)("See how your site looks to site visitors. Remember, your blog is a work in progress — you can always choose a new theme or tweak your site's design."),actionText:(0,st.Iu)("Preview blog"),actionUrl:`/view/${n}`,...!e.isCompleted&&{actionDispatch:J.Ym,actionDispatchArgs:[a,e.id]},isSkippable:!0};break;case pe.wx.THEMES_BROWSED:p={timing:2,title:(0,st.Iu)("Browse themes"),description:(0,st.Iu)("Choose the perfect look for your site — one that reflects your site's personality."),actionText:(0,st.Iu)("Browse themes"),actionUrl:`/themes/${n}`,...!e.isCompleted&&{actionDispatch:J.Ym,actionDispatchArgs:[a,e.id]},isSkippable:!0};break;case pe.wx.FIRST_POST_PUBLISHED:p={timing:10,title:(0,st.Iu)("Publish your first post"),description:(0,st.Iu)("Get your thoughts together because it is time to start writing. After publishing, don't forget to share your first post with your networks on social media."),actionText:(0,st.Iu)("Draft a post"),actionUrl:`/post/${n}`,isSkippable:!0};break;case pe.wx.POST_SHARING_ENABLED:p={timing:5,title:(0,st.Iu)("Enable post sharing"),description:l?(0,st.Iu)("Enable post sharing to automatically share your new blog posts to Twitter, Facebook, or LinkedIn to ensure your audience will never miss an update."):(0,st.Iu)("Enable post sharing to automatically share your new posts to Twitter, Facebook, or LinkedIn to ensure your audience will never miss an update."),actionText:(0,st.Iu)("Enable sharing"),actionUrl:`/marketing/connections/${n}`,isSkippable:!0}}const _={...e,...p};return{..._,description:Et(_,{isDomainUnverified:s,isEmailUnverified:i}),isDisabled:Pt(_,{emailVerificationStatus:t,isDomainUnverified:s,isEmailUnverified:i})}},At=({text:e,taskId:t,isCompleted:s,isCurrent:i,onClick:o,useAccordionLayout:a,timing:n})=>{const r=(0,Z.I0)();return(0,H.BX)("button",{className:B()("nav-item",{"is-current":i}),onClick:()=>{r((0,X.jN)("calypso_checklist_task_expand",{step_name:t,product:"WordPress.com"})),o()},role:"tab","aria-selected":i,"data-task":t,children:[(0,H.tZ)("div",{className:"nav-item__status",children:s?(0,H.tZ)(we.Z,{"aria-label":(0,st.Iu)("Task complete"),className:"nav-item__complete",icon:"checkmark",size:18}):(0,H.tZ)("div",{role:"img","aria-label":(0,st.Iu)("Task incomplete"),className:"nav-item__pending"})}),(0,H.tZ)("div",{className:"nav-item__text",children:(0,H.tZ)("span",{children:e})}),a&&(0,H.BX)("div",{className:"nav-item__end",children:[!s&&(0,H.BX)("div",{className:"nav-item__task-timing task__timing",children:[(0,H.tZ)(we.Z,{icon:"time",size:18}),(0,st.Iu)("%d min","%d mins",{count:n,args:[n]})]}),(0,H.tZ)(we.Z,{className:"nav-item__chevron",icon:i?"chevron-up":"chevron-down",size:18})]})]})},Lt=(e,t,s,i,o)=>{e((0,X.jN)("calypso_checklist_task_start",{checklist_name:"new_blog",site_id:s,location:"checklist_show",step_name:t.id,completed:t.isCompleted,is_podcasting_site:o})),t.tour&&!t.isCompleted&&(0,q.nI)()&&e((0,yt.YD)(t.tour)),t.actionUrl&&(0,ct.c)(t.actionUrl),t.actionDispatch&&e(t.actionDispatch(...t.actionDispatchArgs)),t.actionAdvanceToNext&&i()},Dt=(e,t,s,i,o,a,n)=>{1===i.filter((e=>!e.isCompleted)).length?(a(!0),t()):e((0,J.Ym)(o,s.id)),e((0,X.jN)("calypso_checklist_task_dismiss",{checklist_name:"new_blog",site_id:o,step_name:s.id,is_podcasting_site:n}))},Bt=(0,Z.$j)(((e,t)=>{const{isFSEActive:s}=t,i=(0,g.Z)(e),o=(0,_t.ts)(e),a=(0,lt.Z)(e,i,"design_type"),n=(0,de.Z)(e,i),r=n?.segment,c=n?.tasks,l=(0,kt.Z)(e,i),d=(0,ee.Z)({taskStatuses:c,designType:a,siteIsUnlaunched:l,siteSegment:r}),u=e?.currentUser?.emailVerification?.status;return{emailVerificationStatus:u,firstIncompleteTask:d.getFirstIncompleteTask(),isEmailUnverified:!(0,_t.Y)(e),isFSEActive:s,isPodcastingSite:!!(0,lt.Z)(e,i,"anchor_podcast"),menusUrl:(0,ft.Z)(e,i,null,null,"add-menu"),siteId:i,siteSlug:(0,vt.Z)(e,i),tasks:d.getAll(),taskUrls:le(e,i),userEmail:o?.email}}))((({emailVerificationStatus:e,firstIncompleteTask:t,isEmailUnverified:s,isPodcastingSite:i,isFSEActive:o,menusUrl:a,siteId:n,siteSlug:r,tasks:c,taskUrls:l,userEmail:d})=>{const[u,p]=(0,w.useState)(null),[m,h]=(0,w.useState)(null),[g,_]=(0,w.useState)(!1),[y,k]=(0,w.useState)(!1),[b,f]=(0,w.useState)(!1),[v,x]=(0,w.useState)(!1),j=(0,Z.I0)(),{skipCurrentView:I}=(0,F.Z)(n),N=c.filter((e=>e.id===pe.wx.DOMAIN_VERIFIED&&!e.isCompleted)).length>0,S="write"===(0,bt.P)("site_intent"),C=(0,pt.V)();if((0,w.useEffect)((()=>{if(!u&&c.length){const e=c.find((e=>!e.isCompleted));e&&p(e.id)}}),[u,j,c]),(0,w.useEffect)((()=>{m?.completeOnView&&!m?.isCompleted&&(j((0,J.Ym)(n,m.id)),_(!0))}),[m,j,n]),(0,w.useEffect)((()=>{s&&j((0,gt.U)())}),[s,j]),(0,w.useEffect)((()=>{if(!g&&u&&m&&c.length){const e=c.find((e=>e.id===u));if(e.isCompleted&&!m.isCompleted){const e=c.find((e=>!e.isCompleted))?.id;_(!1),p(e)}}}),[m,u,g,c]),(0,w.useEffect)((()=>{if(u&&c.length){const t=c.find((e=>e.id===u)),p=Tt(t,{emailVerificationStatus:e,isDomainUnverified:N,isEmailUnverified:s,menusUrl:a,siteId:n,siteSlug:r,taskUrls:l,userEmail:d,isBlogger:S,isFSEActive:o,isRtl:C});h(p),((e,t,s,i)=>{e((0,X.jN)("calypso_checklist_task_display",{checklist_name:"new_blog",site_id:s,step_name:t.id,completed:t.isCompleted,location:"home",is_podcasting_site:i}))})(j,p,n,i)}}),[u,j,e,N,s,i,a,n,r,c,l,d,S,o,C]),(0,w.useEffect)((()=>{(0,q.kV)("<960px")&&k(!0),(0,q.Sp)("<960px",(e=>k(e)))}),[]),!m)return null;const E=()=>{t&&p(t.id)};return(0,H.BX)(ut.Z,{className:B()("site-setup-list",{"is-loading":v}),children:[v&&(0,H.tZ)(M.$,{}),!y&&(0,H.tZ)(wt,{currentTask:m,skipTask:()=>{_(!1),Dt(j,I,m,c,n,x,i)},startTask:()=>Lt(j,m,n,E,i)}),(0,H.BX)("div",{className:"site-setup-list__nav",children:[(0,H.tZ)(mt.Z,{tagName:"h2",children:S?(0,st.Iu)("Blog setup"):(0,st.Iu)("Site setup")}),(0,H.tZ)("ul",{className:"site-setup-list__list",role:"tablist","aria-label":"Site setup","aria-orientation":"vertical",children:c.map((e=>{const t=Tt(e,{isBlogger:S,isFSEActive:o,userEmail:d}),s=e.id===m.id,a=e.isCompleted;return(0,H.BX)("li",{className:`site-setup-list__task-${e.id}`,children:[(0,H.tZ)(At,{taskId:e.id,text:t.label||t.title,isCompleted:a,isCurrent:y?s&&b:s,timing:t.timing,onClick:y&&s&&b?()=>{f(!1)}:()=>{f(!0),_(!0),p(e.id)},useAccordionLayout:y},e.id),y&&s&&b?(0,H.tZ)(wt,{currentTask:m,skipTask:()=>{_(!1),Dt(j,I,m,c,n,x,i)},startTask:()=>Lt(j,m,n,E,i),useAccordionLayout:y}):null]},e.id)}))})]})]})})),Rt=(0,ht.Z)(Bt);var Ut=s("./assets/images/email-providers/email-illustration.svg");const Ot=()=>{const e=(0,v.Z)(),t=(0,Z.v9)(_.Z),s=(0,St.Fb)(t,t);return(0,H.tZ)(Ce,{title:e("Get 3 months free Professional Email"),description:e("Build your brand with a custom @%(domain)s email address. Professional Email helps promote your site with every email you send.",{args:{domain:t}}),actionText:e("Add email for free"),actionUrl:s,completeOnStart:!1,enableSkipOptions:!0,illustration:Ut,taskId:O._U,timing:3})};var zt=s("./assets/images/marketplace/built-by-wp-hori-blue.svg");const Mt=()=>(0,H.tZ)(Ce,{title:"Get expert help for your website",description:"Whether you want to create an online store, redesign your website, migrate your site or simply showcase your work — we are happy to help.",actionText:"Get Started",actionUrl:"https://builtbywp.com/?utm_medium=automattic_referred&utm_source=WordPresscom&utm_campaign=bb-card-home",illustration:zt,taskId:O.wF}),qt=()=>{const e=(0,v.Z)(),t=(0,Z.I0)(),s=(0,Z.v9)(_t.vz);return(0,H.tZ)(Ce,{title:e("Confirm your email address"),description:e("Please click the link in the email we sent to %(email)s. Typo in your email address? {{changeButton}}Change it here{{/changeButton}}.",{args:{email:s},components:{changeButton:(0,H.tZ)("a",{href:"/me/account"})}}),actionText:e("Resend email"),actionOnClick:()=>t((0,gt.l)({showGlobalNotices:!0})),badgeText:e("Action required"),showSkip:!1,taskId:O.Jq})};var Ft=s("./assets/images/customer-home/illustration-webinars.svg");const $t=()=>{const e=(0,v.Z)();return(0,H.tZ)(Ce,{title:e("Learn from the pros"),description:e("Free, live video webinars led by our experts teach you to build a website, start a blog, or make money with your site."),actionText:e("Register for free"),actionUrl:"https://wordpress.com/webinars/",actionTarget:"_blank",completeOnStart:!0,illustration:Ft,timing:2,taskId:O.q6})};var Xt=s("./assets/images/customer-home/learn-logo.png");const Ht=()=>(0,H.tZ)(Ce,{title:"World-class education by WordPress experts",description:"Build your skills with access to webinars, courses, articles, support docs, a community and more! No enrollment required. No deadlines. Learn at your own pace.",actionText:"Get started here",actionUrl:"https://wordpress.com/learn/?utm_source=wordpressdotcom&utm_medium=referral&utm_campaign=learn_launch_myhome",actionTarget:"_blank",illustration:Xt,completeOnStart:!0,taskId:O.xY}),Gt={[O.CJ]:Te,[O.Ay]:Y,[O.Xl]:_e,[O.lw]:ke,[O.Gz]:W,[O.GJ]:fe,[O.LD]:De,[O.Q2]:Re,[O.zs]:Oe,[O.R$]:Fe,[O.kl]:Fe,[O.j0]:Xe,[O.ze]:We,[O.Rf]:et,[O.PA]:et,[O.vD]:ot,[O.Lm]:ot,[O.Wr]:ot,[O.mB]:dt,[O.Dy]:Rt,[O._U]:Ot,[O.q6]:$t,[O.xY]:Ht,[O.Jq]:qt,[O.wF]:Mt,[O.Um]:Me},Wt=[O.Rf,O.vD,O.Lm,O.Wr,O.mB],Yt=(0,U.B_)((0,Z.$j)(null,{trackCard:e=>(0,$.N)((0,X.jN)("calypso_customer_home_card_impression",{card:e}),(0,Ne.P)("calypso_customer_home_card_impression",e))})((({cards:e,trackCard:t})=>{const s=(0,w.useRef)(new Set),i=i=>{const o=e&&e[i];s.current.has(o)||(s.current.add(o),t(o))};if((0,w.useEffect)((()=>i(0))),!e||!e.length)return null;let o=!1;return 1===e.length&&(o=Wt.includes(e[0])),(0,H.tZ)(R.Z,{className:B()("primary__customer-home-location-content",{"primary__is-urgent":o}),showControlLabels:"true",hasDynamicHeight:!0,onPageSelected:i,children:e.map(((e,t)=>Gt[e]&&(0,w.createElement)(Gt[e],{key:e+t,isIos:"home-task-go-mobile-ios"===e||null,card:e})))})})));var Vt=s("./components/blogging-prompt-card/index.jsx"),Jt=s("../packages/calypso-analytics/src/index.ts"),Qt=s("../packages/domain-picker/src/hooks/use-domain-suggestions.ts"),Kt=s("../packages/i18n-utils/src/locale-context.tsx"),es=s("../packages/shopping-cart/src/use-shopping-cart.ts"),ts=s("./lib/analytics/track-component-view/index.jsx"),ss=s("./lib/cart-values/cart-items.ts"),is=s("./lib/url/add-query-args.ts"),os=s("./my-sites/checkout/calypso-shopping-cart-provider.tsx"),as=s("./my-sites/checkout/use-cart-key.ts"),ns=s("./state/sites/domains/selectors.js");function rs(){const e=(0,v.Z)(),t=(0,Z.v9)((e=>(0,_.Z)(e))),s=t.split(".")[0],i=(0,Kt.bU)(),{allDomainSuggestions:a}=(0,Qt.O)(s,3,void 0,i)||{},n=(0,as.Z)(),r=(0,es.Z)(n),c=a?.filter((e=>!e.is_free))[0],l=c?.domain_name??s+".blog",d=c?.product_slug,u=(0,is.Z)({domainAndPlanPackage:!0},`/domains/add/${t}`),p=(0,is.Z)({get_domain:l},`/plans/yearly/${t}`),[m,h]=(0,w.useState)(!1);return(0,H.BX)(ut.Z,{className:"domain-upsell__card customer-home__card",children:[(0,H.tZ)(ts.Z,{eventName:"calypso_my_home_domain_upsell_impression"}),(0,H.BX)("div",{children:[(0,H.tZ)("h3",{children:e("Own your online identity with a custom domain")}),(0,H.tZ)("p",{children:e("Stake your claim on your corner of the web with a site address that's easy to find, share, and follow.")}),(0,H.BX)("div",{className:"suggested-domain-name",children:[(0,H.BX)("div",{className:"card",children:[(0,H.tZ)("span",{children:(0,H.tZ)("strike",{children:t})}),(0,H.tZ)("div",{className:"badge badge--info",children:e("Current")})]}),(0,H.BX)("div",{className:"card",children:[(0,H.tZ)("span",{children:l}),c?.domain_name?(0,H.tZ)("div",{className:"badge badge--success",children:e("Available")}):(0,H.tZ)("div",{className:"badge",children:(0,H.tZ)(M.$,{})})]})]}),(0,H.BX)("div",{className:"domain-upsell-actions",children:[(0,H.tZ)(b.Z,{href:u,onClick:()=>{(0,Jt.jN)("calypso_my_home_domain_upsell_search_click",{button_url:u,domain_suggestion:l,product_slug:d})},children:e("Search for a domain")}),(0,H.tZ)(b.Z,{primary:!0,onClick:async()=>{h(!0),(0,Jt.jN)("calypso_my_home_domain_upsell_cta_click",{button_url:p,domain_suggestion:l,product_slug:d});try{await r.addProductsToCart([(0,ss.KV)({productSlug:d,domain:l})])}catch{return null}o()(p)},busy:m,children:e("Buy this domain")})]})]})]})}var cs=s("./blocks/inline-help/constants.ts"),ls=s("./blocks/inline-help/inline-help-search-card.tsx"),ds=s("./blocks/inline-help/inline-help-search-results.jsx");const us="customer-home";function ps(){const e=(0,v.Z)(),t=(0,Z.I0)(),[s,i]=(0,w.useState)(""),o=(e,i)=>{if(!i)return;const o=(e=>((e="")=>e.replace("youtube.com/embed/","youtube.com/watch?v="))(e.link))(i),{type:a=cs.pp,tour:n}=i,r=Object.fromEntries(Object.entries({search_query:s,tour:n,result_url:o,location:us}).filter((([,e])=>void 0!==e)));t((0,X.jN)(`calypso_inlinehelp_${a}_open`,r))};return(0,H.tZ)(H.HY,{children:(0,H.BX)(ut.Z,{className:"help-search customer-home__card",children:[(0,H.BX)("div",{className:"help-search__inner",children:[(0,H.tZ)(mt.Z,{tagName:"h2",children:e("Get help")}),(0,H.tZ)("div",{className:"help-search__content",children:(0,H.BX)("div",{className:"help-search__search inline-help__search",children:[(0,H.tZ)(ls.Z,{onSelect:o,searchQuery:s,onSearch:i,location:us,placeholder:e("Search support articles")}),(0,H.tZ)(ds.Z,{onSelect:o,searchQuery:s,placeholderLines:5,externalLinks:!0})]})})]}),(0,H.tZ)("div",{className:"help-search__footer",children:(0,H.BX)("a",{className:"help-search__cta",href:"/help/contact",children:[(0,H.tZ)("span",{className:"help-search__help-icon",children:(0,H.tZ)(we.Z,{icon:"help",size:36})}),e("Contact support")]})})]})})}var ms=s("../node_modules/moment/moment.js"),hs=s.n(ms),gs=s("./assets/images/stats/illustration-stats-intro.svg"),_s=s("./components/chart/index.jsx"),ys=s("./components/data/query-site-stats/index.jsx"),ks=s("./my-sites/stats/stats-chart-tabs/utility.js"),bs=s("./state/stats/chart-tabs/actions.js"),fs=s("./state/stats/chart-tabs/selectors.js"),vs=s("./state/stats/lists/selectors.js");const ws=Array.from({length:7},(()=>({value:Math.random()}))),Zs=(0,te.P1)(((e,t)=>{const s="day",i=(0,lt.Z)(e,t,"gmt_offset"),o=hs()().utcOffset(Number.isFinite(i)?i:0).format("YYYY-MM-DD");return{chartQuery:{chartTab:"views",date:o,period:s,quantity:7,siteId:t,statFields:["views"]},insightsQuery:{},topPostsQuery:{date:o,num:7,period:s},visitsQuery:{unit:s,quantity:7,stat_fields:"views,visitors"}}}),((e,t)=>(0,lt.Z)(e,t,"gmt_offset"))),xs=(0,te.P1)(((e,t,s,i,o)=>{const a=(0,fs.O)(e,t,s.period),n=(0,ks.Ej)([],s.chartTab,a,s.period,s.date),r=n.reduce(((e,{data:t})=>e+t.views),0),c=n.reduce(((e,{data:t})=>e+t.visitors),0),{day:l,time:d}=(0,vs.sC)(e,t,i),{post:u,page:p}=(0,vs.HD)(e,t,o);return{chartData:n,mostPopularDay:l,mostPopularTime:d,topPost:u,topPage:p,views:r,visitors:c}}),((e,t,s,i,o)=>[(0,fs.O)(e,t,s.period),i,o])),js=(0,Z.$j)((e=>{const t=(0,g.Z)(e),s=(0,_.Z)(e),i=(0,kt.Z)(e,t),o=(0,lt.Z)(e,t,"created_at"),{chartQuery:a,insightsQuery:n,topPostsQuery:r,visitsQuery:c}=Zs(e,t),l=((e,t,s,i,o)=>(0,fs.p)(e,t,s.period).includes(s.chartTab)||(0,vs.dp)(e,t,"statsInsights",i)||(0,vs.dp)(e,t,"statsTopPosts",o))(e,t,a.chartTab,a.period,n),d=!i&&!l,u=d&&xs(e,t,a,n,r,c);return{chartQuery:a,insightsQuery:n,isLoading:d?u.chartData.length!==a.quantity:l,isSiteUnlaunched:i,siteCreatedAt:o,siteId:t,siteSlug:s,topPostsQuery:r,visitsQuery:c,...u}}))((({chartData:e,chartQuery:t,insightsQuery:s,isLoading:i,isSiteUnlaunched:o,mostPopularDay:a,mostPopularTime:n,siteCreatedAt:r,siteId:c,siteSlug:l,topPage:d,topPost:u,topPostsQuery:p,views:m,visitors:h})=>{const g=(0,Z.I0)(),_=(0,v.Z)(),y=!!u,k=!!d,b=!y||!k,f=!y&&!k;(0,w.useEffect)((()=>{o||g((0,bs.G)(t))}),[o]);const x=Date.now()-new Date(r).getTime()>6048e5?_("No traffic this week, but don't give up!"):(0,L.R)(_("No stats to display yet. Publish or share a post to get some traffic to your site."),4),j=!o&&!i&&m>0;return(0,H.BX)("div",{className:"stats",children:[!o&&(0,H.BX)(H.HY,{children:[(0,H.tZ)(ys.Z,{siteId:c,statType:"statsInsights",query:s}),(0,H.tZ)(ys.Z,{siteId:c,statType:"statsTopPosts",query:p})]}),(0,H.BX)(ut.Z,{className:B()("customer-home__card",{"stats__with-chart":j}),children:[o&&(0,H.tZ)(_s.Z,{data:ws,isPlaceholder:!0,children:(0,H.BX)("div",{children:[_("Launch your site to see a snapshot of traffic and insights."),(0,H.tZ)(It.Z,{supportContext:"stats",showIcon:!1,tracksEvent:"calypso_customer_home_stats_support_page_view",statsGroup:"calypso_customer_home",statsName:"stats_learn_more",children:(0,L.R)(_("Learn about stats."))})]})}),!o&&(i||0===m)&&(0,H.tZ)(_s.Z,{data:ws,isPlaceholder:!0,children:i?(0,H.tZ)(M.$,{}):x}),!o&&!i&&0===m&&(0,H.BX)("div",{className:"stats__empty",children:[(0,H.tZ)("div",{className:"stats__empty-illustration",children:(0,H.tZ)("img",{src:gs,alt:""})}),(0,H.BX)("div",{className:"stats__empty-text",children:[_("Stats can help you optimize for the right keywords, and feature content your readers are interested in."),(0,H.tZ)(It.Z,{supportContext:"stats",showIcon:!1,tracksEvent:"calypso_customer_home_stats_support_page_view",statsGroup:"calypso_customer_home",statsName:"stats_learn_more",children:_("Read more.")})]})]}),j&&(0,H.BX)(H.HY,{children:[(0,H.tZ)(mt.Z,{children:_("Views")}),(0,H.tZ)(_s.Z,{data:e}),(0,H.BX)("div",{className:"stats__data",children:[(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Most popular day")}),(0,H.tZ)("div",{className:"stats__data-value",children:a})]}),(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Most popular hour")}),(0,H.tZ)("div",{className:"stats__data-value",children:n??"-"})]}),y&&(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Top post")}),(0,H.tZ)("div",{className:"stats__data-value",children:u.title})]}),k&&(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Top page")}),(0,H.tZ)("div",{className:"stats__data-value",children:d.title})]}),b&&(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Total views")}),(0,H.tZ)("div",{className:"stats__data-value",children:(0,st.Y4)(m)})]}),f&&(0,H.BX)("div",{className:"stats__data-item",children:[(0,H.tZ)("div",{className:"stats__data-label",children:_("Total visitors")}),(0,H.tZ)("div",{className:"stats__data-value",children:(0,st.Y4)(h)})]})]}),(0,H.tZ)("div",{className:"stats__all",children:(0,H.tZ)("a",{href:`/stats/day/${l}`,className:"stats__all-link",children:_("See all stats")})})]})]})]})}));var Is=s("./assets/images/customer-home/illustration--secondary-start-learning.svg"),Ns=s("./components/blank-canvas/index.js"),Ss=s("./components/videos-ui/index.tsx");const Cs=({onBackClick:e=(()=>{}),course:t={},isCourseComplete:s=!1})=>{const i=(0,v.Z)(),o=(0,Z.v9)(Pe.Z);return(0,H.tZ)("div",{className:"videos-ui__footer-bar",children:(0,H.BX)("div",{className:B()("videos-ui__bar videos-ui__modal-footer-bar",{"videos-ui__course-completed":s}),children:[(0,H.BX)("a",{href:"/",className:"videos-ui__back-button",onClick:s=>{(0,rt.recordTracksEvent)("calypso_courses_mobile_back_click",{course:t?.slug}),e(s)},children:[(0,H.tZ)(we.Z,{icon:"chevron-left",size:24}),(0,H.tZ)("span",{children:i("Back")})]}),s&&(0,H.tZ)("p",{children:t?.cta?.description&&""!==t.cta.description?t.cta.description:i("You did it! Now it's time to put your skills to work and draft your first post.")}),s&&(0,H.tZ)(b.Z,{onClick:()=>{(0,rt.recordTracksEvent)("calypso_courses_cta_click",{course:t?.slug})},className:"videos-ui__button",href:t?.cta?.url&&o?.domain?`${t.cta.url}/${o.domain}`:"https://wordpress.com/post",children:t?.cta.action})]})})},Es=({onClose:e=(()=>{})})=>(0,H.BX)("div",{className:"videos-ui__bar videos-ui__header-bar videos-ui__modal-header-bar",children:[(0,H.tZ)(we.Z,{icon:"my-sites",size:24}),(0,H.tZ)("span",{role:"button",onKeyDown:e,tabIndex:0,onClick:e,children:(0,H.tZ)(we.Z,{icon:"cross",size:24})})]}),Ps=({isVisible:e=!1,onClose:t=(()=>{}),courseSlug:s})=>((0,w.useEffect)((()=>{e&&window.scrollTo(0,0)}),[e]),e&&(0,H.tZ)(Ns.Z,{className:"videos-ui__modal",children:(0,H.tZ)(Ns.Z.Content,{children:(0,H.tZ)(Ss.Z,{courseSlug:s,HeaderBar:e=>(0,H.tZ)(Es,{onClose:t,...e}),FooterBar:e=>(0,H.tZ)(Cs,{onBackClick:t,...e}),areVideosTranslated:!1})})}));var Ts=s("./data/courses/index.ts"),As=s("./lib/route-modal/index.ts"),Ls=s("./components/external-link/index.jsx"),Ds=s("./components/material-icon/index.tsx");function Bs(e,t){return(0,$.N)((0,X.jN)("calypso_customer_home_education",{url:e,card_name:t}),(0,Ne.P)("calypso_customer_home",t))}const Rs=function({title:e,description:t,links:s,modalLinks:i,illustration:o,cardName:a,width:n,height:r}){const c=(0,Z.I0)();return(0,H.BX)("div",{className:"educational-content",children:[(0,H.BX)("div",{className:"educational-content__wrapper",children:[(0,H.tZ)("h2",{children:e}),(0,H.tZ)("p",{className:"educational-content__description customer-home__card-subheader",children:t}),(0,H.BX)("div",{className:"educational-content__links",children:[s&&s.map((({postId:e,url:t,calypsoLink:s,externalLink:i,text:o,icon:n,materialIcon:r})=>(0,H.BX)("div",{className:"educational-content__link",children:[n&&(0,H.tZ)(we.Z,{icon:n,size:18}),r&&(0,H.tZ)(Ds.Z,{icon:r}),e&&(0,H.tZ)(It.Z,{supportPostId:e,supportLink:t,showIcon:!1,tracksEvent:"calypso_customer_home_education",statsGroup:"calypso_customer_home",tracksOptions:{url:t,card_name:a},statsName:a,children:o}),i&&(0,H.tZ)(Ls.Z,{href:t,onClick:()=>c(Bs(t,a)),icon:!0,children:o}),s&&(0,H.tZ)("a",{href:t,onClick:()=>c(Bs(t,a)),children:o})]},t))),i&&i.map((({ModalComponent:e,modalComponentProps:t,onClick:s,text:i})=>(0,H.BX)("div",{className:"educational-content__link",children:[(0,H.tZ)(e,{...t}),(0,H.tZ)("button",{onClick:()=>s(),children:i})]},i)))]})]}),(0,q.nI)()&&o&&(0,H.tZ)("div",{className:"educational-content__illustration",children:(0,H.tZ)("img",{src:o,alt:"",width:n,height:r})})]})},Us=()=>{const e=(0,v.Z)(),{isModalOpen:t,openModal:s,closeModal:i}=(0,As.p)("courseSlug",Ts.Jq.BLOGGING_QUICK_START);return(0,H.tZ)(Rs,{title:e("Blog like an expert from day one"),description:e("Learn the fundamentals from our bite-sized video course — you'll be up and running in just nine minutes."),modalLinks:[{ModalComponent:Ps,modalComponentProps:{isVisible:t,onClose:e=>{e.preventDefault(),i()},courseSlug:Ts.Jq.BLOGGING_QUICK_START},onClick:s,text:e("Start learning")}],illustration:Is,cardName:O.Hc,width:"183",height:"120"})};var Os=s("./assets/images/customer-home/illustration--secondary-earn.svg");const zs=(0,Z.$j)((e=>({siteSlug:(0,_.Z)(e)})))((({siteSlug:e})=>{const t=(0,v.Z)(),{isModalOpen:s,openModal:i,closeModal:o}=(0,As.p)("coursePaymentsModal",Ts.Jq.PAYMENTS_FEATURES);return(0,H.tZ)(Rs,{title:t("Make money from your website"),description:t("Accept credit and debit card payments on your website for just about anything."),links:[{calypsoLink:!0,url:`/earn/${e}`,text:t("Start making money")}],modalLinks:[{calypsoLink:!0,url:`/earn/${e}`,ModalComponent:Ps,modalComponentProps:{isVisible:s,onClose:e=>{e.preventDefault(),o()},courseSlug:Ts.Jq.PAYMENTS_FEATURES},onClick:i,text:t("Learn more")}],illustration:Os,cardName:"home-education-earn",width:"201",height:"114"})}));var Ms=s("./assets/images/customer-home/illustration--secondary-find-success.svg");const qs=()=>{const e=(0,v.Z)();return(0,H.tZ)(Rs,{title:e("10 ways to find success with your website"),description:e("You need to keep traffic coming to your site so you get leads and sales. We'll teach you how."),links:[{externalLink:!0,url:"https://wordpress.com/go/tips-and-tricks/10-ways-to-find-success-with-your-new-small-business-website/",text:e("Learn more")}],illustration:Ms,cardName:O.N})};var Fs=s("./assets/images/customer-home/illustration--secondary-free-photo-library.svg");const $s=()=>{const e=(0,v.Z)();return(0,H.tZ)(Rs,{title:e("The WordPress.com free photo library"),description:e("Our free photo library integrates your site with over 40,000 beautiful copyright-free photos to create stunning designs."),links:[{postId:145498,url:(0,tt.aq)("https://wordpress.com/support/free-photo-library/"),text:e("Learn more")}],illustration:Fs,cardName:O.A6,height:"115",width:"200"})};var Xs=s("./assets/images/customer-home/illustration--megaphone.svg");const Hs=()=>{const e=(0,v.Z)(),t=(0,Z.v9)(_.Z);return(0,H.tZ)(Rs,{title:e("Promote your posts and pages"),description:e("Increase your reach by promoting your work to the larger WordPress.com community of blogs and sites."),links:[{calypsoLink:!0,url:`/advertising/${t}`,text:e("Start promoting")}],illustration:Xs,cardName:O.ur,width:"418",height:"299"})};var Gs=s("./assets/images/customer-home/illustration--secondary-respond-to-customer-feedback.svg");const Ws=()=>{const e=(0,v.Z)();return(0,H.tZ)(Rs,{title:e("How to respond to customer feedback"),description:e("Customer feedback can help grow your business. Learn how to absorb and respond to customers at the right time."),links:[{externalLink:!0,url:"https://wordpress.com/go/content-blogging/how-to-respond-to-customer-feedback/",text:e("Learn more")}],illustration:Gs,cardName:O.mI})},Ys=()=>{const e=(0,v.Z)(),{isModalOpen:t,openModal:s,closeModal:i}=(0,As.p)("courseSlug",Ts.Jq.SITE_EDITOR_QUICK_START);return(0,H.tZ)(Rs,{title:e("Design like an expert"),description:e("Master the basics of Site Editing with four short videos. Learn how to edit colors, fonts, layouts, and bring your style to your site."),modalLinks:[{ModalComponent:Ps,modalComponentProps:{isVisible:t,onClose:e=>{e.preventDefault(),i()},courseSlug:Ts.Jq.SITE_EDITOR_QUICK_START},onClick:s,text:e("Start learning")}],illustration:Is,cardName:O.ch,width:"183",height:"120"})};var Vs=s("./assets/images/customer-home/home-education-store.svg");const Js=()=>{const e=(0,v.Z)();return(0,H.tZ)(Rs,{title:e("How to set up an online store"),description:e("Payments features on WordPress.com allow you to make money from your site in many ways."),links:[{externalLink:!0,url:"https://wordpress.com/support/video-tutorials-add-payments-features-to-your-site-with-our-guides/",text:e("Learn how")}],illustration:Vs,cardName:"home-education-store",width:"115",height:"114"})};var Qs=s("./assets/images/customer-home/illustration--secondary-wp-learn.png");const Ks=()=>{const{localeSlug:e}=(0,v.Z)();return(0,Zt.ZP)("english_locales").includes(e)?(0,H.tZ)(Rs,{title:"World-class education by WordPress experts",description:"Build your skills with access to webinars, courses, articles, support docs, a community and more! No enrollment required. No deadlines. Learn at your own pace.",links:[{externalLink:!0,url:"https://wordpress.com/learn/?utm_source=wordpressdotcom&utm_medium=referral&utm_campaign=customer_home_card",text:"Learn more"}],illustration:Qs,cardName:O.Ru,width:"400",height:"300"}):null},ei={[O.A6]:$s,[O.wp]:zs,[O.RA]:Js,[O.Ru]:Ks,[O.ur]:Hs,[O.N]:qs,[O.mI]:Ws,[O.Hc]:Us,[O.ch]:Ys};const ti=()=>{const e=function(){const e=(0,Z.v9)(g.Z),{data:t}=(0,E.ZP)(e,{enabled:!1}),{localeSlug:s}=(0,v.Z)();let i=t?.["secondary.learn-grow"]??[];(0,Zt.ZP)("english_locales").includes(s)||(i=i.filter((e=>e!==O.Ru)));return i.filter((e=>!!ei[e]))}(),t=(0,Z.I0)(),s=(0,w.useRef)(new Set),i=i=>{const o=e&&e[i];s.current.has(o)||(s.current.add(o),t(function(e){return(0,$.N)((0,X.jN)("calypso_customer_home_card_impression",{card:e}),(0,Ne.P)("calypso_customer_home_card_impression",e))}(o)))};return(0,w.useEffect)((()=>i(0))),e&&e.length?(0,H.tZ)(R.Z,{className:"learn-grow__content customer-home__card",hasDynamicHeight:!0,onPageSelected:i,children:e.map(((e,t)=>ei[e]&&(0,w.createElement)(ei[e],{key:t})))}):null},si={[O.nV]:function(){const e=(0,Z.v9)((e=>(0,Pe.Z)(e))),t=(0,Z.v9)((e=>(0,_t.Y)(e)));return(0,Z.v9)((t=>(0,ns.eT)(t,e.ID))).length>1||!t||!(0,k.V)(e.plan)?null:(0,H.tZ)(os.Z,{children:(0,H.tZ)(rs,{})})},[O.FH]:js,[O.JZ]:ti,[O.Lj]:Vt.Z,[O.UV]:ps},ii=({cards:e,siteId:t})=>e&&e.length?(0,H.tZ)(H.HY,{children:e.map((e=>si[e]&&(0,w.createElement)(si[e],{key:e,...e===O.Lj?{siteId:t,showMenu:!0,viewContext:"home"}:{}})))}):null;var oi=s("../node_modules/use-debounce/esm/useDebouncedCallback.js"),ai=s("./assets/images/customer-home/anchor-logo-grey.svg"),ni=s("./assets/images/customer-home/fiverr-logo-grey.svg"),ri=s("./assets/images/icons/blaze-icon.svg"),ci=s("./components/foldable-card/index.jsx"),li=s("./lib/domains/can-current-user-add-email.ts"),di=s("./lib/emails/index.js"),ui=s("./state/preferences/selectors.js"),pi=s("./state/selectors/can-current-user.js"),mi=s("./state/selectors/get-selected-editor.js"),hi=s("./state/selectors/is-site-wpcom-atomic.js");function gi(e,t){const s=(0,lt.Z)(e,t,"created_at");return!!s&&Date.now()-new Date(s)<18e5}var _i=s("./state/sites/selectors/get-site-admin-url.js"),yi=s("../packages/components/src/card/compact.tsx");const ki=({href:e,onClick:t,target:s,iconSrc:i,label:o,materialIcon:a,gridicon:n,hideLinkIndicator:r})=>{const c={href:e,onClick:t,target:s};return(0,H.BX)(yi.Z,{...c,className:B()("quick-links__action-box",{"quick-links__action-box__hide-link-indicator":r}),children:[(0,H.tZ)("div",{className:"quick-links__action-box-image","aria-hidden":"true",children:a?(0,H.tZ)(Ds.Z,{className:"quick-links__action-box-icon",icon:a}):n?(0,H.tZ)(we.Z,{className:"quick-links__action-box-icon",icon:n}):(0,H.tZ)("img",{className:"quick-links__action-box-icon",src:i,alt:""})}),(0,H.tZ)("div",{className:"quick-links__action-box-text",children:(0,H.tZ)("span",{className:"quick-links__action-box-label",children:o})})]})},bi={trackEditHomepageAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_edit_homepage_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_edit_homepage")))},trackWritePostAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_write_post_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_write_post")))},trackPromotePostAction:()=>e=>{e((0,Ge.fI)("myhome_quick-links"))},trackAddPageAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_add_page_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_add_page")))},trackManageCommentsAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_manage_comments_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_manage_comments")))},trackEditMenusAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_edit_menus_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_edit_menus")),trackEditSiteAction:()=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_site_editor_link"),(0,Ne.P)("calypso_customer_home","my_site_site_editor")),trackCustomizeThemeAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_customize_theme_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_customize_theme")),trackChangeThemeAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_change_theme_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_change_theme")))},trackDesignLogoAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_design_logo_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_design_logo")),trackAnchorPodcastAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_anchor_podcast_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_anchor_podcast")),trackAddEmailAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_add_email_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_add_email")))},trackAddDomainAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_add_domain_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_add_domain")))},trackExplorePluginsAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_explore_plugins_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_explore_plugins")))},updateHomeQuickLinksToggleStatus:e=>(0,Q.zZ)("homeQuickLinksToggleStatus",e)},fi=(0,Z.$j)((e=>{const t=(0,g.Z)(e),s="classic"===(0,mi.E)(e,t),i=(0,ns.eT)(e,t),o=!s&&"page"===(0,lt.Z)(e,t,"show_on_front"),a=(0,_.Z)(e),n=(0,he.Z)(e,t),r=o&&`/page/${a}/${n}`,c=(e=>e.filter((e=>!(0,di.ao)(e)&&(0,li.P)(e))))(i).length>0;return{siteId:t,canEditPages:(0,pi.i)(e,t,"edit_pages"),canCustomize:(0,pi.i)(e,t,"customize"),canSwitchThemes:(0,pi.i)(e,t,"switch_themes"),canManageSite:(0,pi.i)(e,t,"manage_options"),canModerateComments:(0,pi.i)(e,t,"moderate_comments"),customizeUrl:(0,ft.Z)(e,t),menusUrl:(0,ft.Z)(e,t,"menus"),isNewlyCreatedSite:gi(e,t),canAddEmail:c,siteSlug:a,isStaticHomePage:o,editHomePageUrl:r,isAtomic:(0,hi.Z)(e,t),isExpanded:"collapsed"!==(0,ui.Oz)(e,"homeQuickLinksToggleStatus"),siteAdminUrl:(0,_i.Z)(e,t)}}),bi,((e,t,s)=>{const{isStaticHomePage:i}=e;return{...e,...t,trackEditHomepageAction:()=>t.trackEditHomepageAction(i),trackWritePostAction:()=>t.trackWritePostAction(i),trackPromotePostAction:()=>t.trackPromotePostAction(i),trackAddPageAction:()=>t.trackAddPageAction(i),trackManageCommentsAction:()=>t.trackManageCommentsAction(i),trackEditMenusAction:()=>t.trackEditMenusAction(i),trackCustomizeThemeAction:()=>t.trackCustomizeThemeAction(i),trackChangeThemeAction:()=>t.trackChangeThemeAction(i),trackDesignLogoAction:()=>t.trackDesignLogoAction(i),trackAnchorPodcastAction:()=>t.trackAnchorPodcastAction(i),trackAddEmailAction:()=>t.trackAddEmailAction(i),trackAddDomainAction:()=>t.trackAddDomainAction(i),trackExplorePluginsAction:()=>t.trackExplorePluginsAction(i),...s}}))((0,ht.Z)((({canEditPages:e,canCustomize:t,canSwitchThemes:s,canManageSite:i,canModerateComments:o,customizeUrl:a,isAtomic:n,isStaticHomePage:r,canAddEmail:c,menusUrl:l,trackEditHomepageAction:d,trackWritePostAction:u,trackPromotePostAction:p,trackAddPageAction:m,trackManageCommentsAction:h,trackEditMenusAction:g,trackEditSiteAction:_,trackCustomizeThemeAction:y,trackChangeThemeAction:k,trackDesignLogoAction:b,trackAnchorPodcastAction:f,trackAddEmailAction:Z,trackAddDomainAction:x,trackExplorePluginsAction:j,isExpanded:I,updateHomeQuickLinksToggleStatus:N,siteAdminUrl:S,editHomePageUrl:C,siteSlug:E,isFSEActive:P})=>{const T=(0,v.Z)(),[A,,L]=(0,oi.Z)(N,1e3),D=(0,Ge.RG)()===Ge.pL.ENABLED,B=r&&e?(0,H.tZ)(ki,{href:C,hideLinkIndicator:!0,onClick:d,label:T("Edit homepage"),materialIcon:"laptop"}):null,R=(0,H.BX)("div",{className:"quick-links__boxes",children:[P&&i?(0,H.tZ)(ki,{href:`/site-editor/${E}`,hideLinkIndicator:!0,onClick:_,label:T("Edit site"),materialIcon:"laptop"}):B,(0,H.tZ)(ki,{href:`/post/${E}`,hideLinkIndicator:!0,onClick:u,label:T("Write blog post"),materialIcon:"edit"}),D&&(0,H.tZ)(ki,{href:`/advertising/${E}`,hideLinkIndicator:!0,onClick:p,label:T("Promote with Blaze"),iconSrc:ri}),!r&&o&&(0,H.tZ)(ki,{href:`/comments/${E}`,hideLinkIndicator:!0,onClick:h,label:T("Manage comments"),materialIcon:"mode_comment"}),e&&(0,H.tZ)(ki,{href:`/page/${E}`,hideLinkIndicator:!0,onClick:m,label:T("Add a page"),materialIcon:"insert_drive_file"}),t&&(0,H.BX)(H.HY,{children:[(0,H.tZ)(ki,{href:l,hideLinkIndicator:!0,onClick:g,label:T("Edit menus"),materialIcon:"list"}),(0,H.tZ)(ki,{href:a,hideLinkIndicator:!0,onClick:y,label:T("Customize theme"),materialIcon:"palette"})]}),s&&(0,H.tZ)(ki,{href:`/themes/${E}`,hideLinkIndicator:!0,onClick:k,label:T("Change theme"),materialIcon:"view_quilt"}),i&&(0,H.tZ)(H.HY,{children:c?(0,H.tZ)(ki,{href:`/email/${E}`,hideLinkIndicator:!0,onClick:Z,label:T("Add email"),materialIcon:"email"}):(0,H.tZ)(ki,{href:`/domains/add/${E}`,hideLinkIndicator:!0,onClick:x,label:T("Add a domain"),gridicon:"domains"})}),S&&(0,H.tZ)(ki,{href:S,hideLinkIndicator:!0,gridicon:"my-sites",label:T("WP Admin Dashboard")}),i&&(0,H.BX)(H.HY,{children:[(0,H.tZ)(ki,{href:`/plugins/${E}`,hideLinkIndicator:!0,onClick:j,label:T("Explore Plugins"),gridicon:"plugins"}),(0,H.tZ)(ki,{href:"https://wp.me/logo-maker/?utm_campaign=my_home",onClick:b,target:"_blank",label:"en"===(0,st.Yj)()||"en-gb"===(0,st.Yj)()||st.ZP.hasTranslation("Create a logo with Fiverr")?T("Create a logo with Fiverr"):T("Create a logo"),external:!0,iconSrc:ni})]}),i&&!n&&(0,H.tZ)(ki,{href:"https://anchor.fm/wordpressdotcom",onClick:f,target:"_blank",label:T("Create a podcast with Anchor"),external:!0,iconSrc:ai})]});return(0,w.useEffect)((()=>()=>{L()}),[]),(0,H.tZ)(ci.Z,{className:"quick-links customer-home__card",headerTagName:"h2",header:T("Quick links"),clickableHeader:!0,expanded:I,onOpen:()=>A("expanded"),onClose:()=>A("collapsed"),children:R})}))),vi=fi;var wi=s("./state/selectors/is-site-p2-hub.js");const Zi={trackWritePostAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_write_post_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_write_post")))},trackEditMenusAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_edit_menus_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_edit_menus")),trackCustomizeThemeAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_customize_theme_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_customize_theme")),trackAddP2UsersAction:e=>t=>{t((0,$.N)((0,X.jN)("calypso_customer_home_my_site_p2_invite_users_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_p2_invite_users")))},updateHomeQuickLinksToggleStatus:e=>(0,Q.zZ)("homeQuickLinksToggleStatus",e)},xi=(0,Z.$j)((e=>{const t=(0,g.Z)(e),s=!("classic"===(0,mi.E)(e,t))&&"page"===(0,lt.Z)(e,t,"show_on_front"),i=(0,_.Z)(e),o=(0,he.Z)(e,t),a=s&&`/page/${i}/${o}`,n=(0,wi.Z)(e,t);return{customizeUrl:(0,ft.Z)(e,t),menusUrl:(0,ft.Z)(e,t,"menus"),isNewlyCreatedSite:gi(e,t),isP2Hub:n,siteSlug:i,isStaticHomePage:s,editHomePageUrl:a,isExpanded:"collapsed"!==(0,ui.Oz)(e,"homeQuickLinksToggleStatus")}}),Zi,((e,t,s)=>{const{isStaticHomePage:i}=e;return{...e,...t,trackWritePostAction:()=>t.trackWritePostAction(i),trackEditMenusAction:()=>t.trackEditMenusAction(i),trackCustomizeThemeAction:()=>t.trackCustomizeThemeAction(i),trackAddP2UsersAction:()=>t.trackAddP2UsersAction(i),...s}}))((({customizeUrl:e,menusUrl:t,trackWritePostAction:s,trackEditMenusAction:i,trackCustomizeThemeAction:o,trackAddP2UsersAction:a,isExpanded:n,updateHomeQuickLinksToggleStatus:r,siteSlug:c,isP2Hub:l})=>{const d=(0,v.Z)(),[u,,p]=(0,oi.Z)(r,1e3),m=(0,H.BX)("div",{className:"wp-for-teams-quick-links__boxes quick-links__boxes",children:[l&&(0,H.tZ)(H.HY,{children:(0,H.tZ)(ki,{href:`/people/new/${c}`,hideLinkIndicator:!0,onClick:a,label:d("Invite people to this workspace"),materialIcon:"person"})}),!l&&(0,H.BX)(H.HY,{children:[(0,H.tZ)(ki,{href:`/post/${c}`,hideLinkIndicator:!0,onClick:s,label:d("Write a post"),materialIcon:"edit"}),(0,H.tZ)(ki,{href:t,hideLinkIndicator:!0,onClick:i,label:d("Edit menus"),materialIcon:"list"}),(0,H.tZ)(ki,{href:e,hideLinkIndicator:!0,onClick:o,label:d("Customize theme"),materialIcon:"palette"})]})]});return(0,w.useEffect)((()=>()=>{p()}),[]),(0,H.tZ)(ci.Z,{className:"wp-for-teams-quick-links quick-links",header:d("Quick Links"),clickableHeader:!0,expanded:n,onOpen:()=>u("expanded"),onClose:()=>u("collapsed"),children:m})}));var ji=s("./assets/images/jetpack/wp-to-jp-rtl.svg"),Ii=s("./assets/images/jetpack/wp-to-jp.svg"),Ni=s("./lib/user-agent/index.js"),Si=s("./state/analytics/actions/with-analytics.js"),Ci=s("./state/auth/actions.js");const Ei=(0,Z.$j)((e=>({email:(0,_t.vz)(e)})),{sendMobileLoginEmail:e=>(0,Si.w)((0,X.jN)("calypso_customer_home_request_mobile_email_login"),(0,Ci.z)(e,{showGlobalNotices:!0,isMobileAppLogin:!0}))})((({email:e,sendMobileLoginEmail:t})=>{const s=(0,pt.V)(),i=(0,v.Z)(),o=(0,tt.Iu)(),{isDesktop:a,isiPad:n,isiPod:r,isiPhone:c,isAndroid:l}=Ni.Z,d=n||r||c,u=Zt.ZP.isEnabled("desktop");if(Zt.ZP.isEnabled("jetpack/app-branding")){const e=!l&&!a,t=!d&&!a,n=e||t;return(0,H.tZ)(ut.Z,{className:"go-mobile go-mobile--jetpack customer-home__card",children:(0,H.BX)("div",{className:"go-mobile__row",children:[(0,H.tZ)("img",{className:"go-mobile__icon",src:s?ji:Ii,width:"49",height:"29",alt:"WordPress and Jetpack app"}),(0,H.BX)("div",{className:"go-mobile__title",children:[(0,H.tZ)(mt.Z,{tagName:"h2",children:i("Get our mobile app")}),(0,H.tZ)("h3",{className:"go-mobile__subheader",children:i("Everything you need to build and grow your site from any device.")})]}),n?(0,H.tZ)("div",{className:"go-mobile__app-badges",children:(0,H.tZ)(qe.Z,{storeName:e?"ios":"android",utm_source:"calypso-customer-home"})}):(0,H.tZ)(b.Z,{className:"go-mobile__email-link-button is-link",href:o("https://apps.wordpress.com/get/?campaign=calypso-customer-home"),children:i("Get the Jetpack app")})]})})}const p=!l,m=!d,h=p!==m;return(0,H.BX)(ut.Z,{className:"go-mobile customer-home__card",children:[(0,H.BX)("div",{className:B()("go-mobile__row",{"has-2-cols":h}),children:[(0,H.BX)("div",{className:"go-mobile__title",children:[(0,H.tZ)(mt.Z,{tagName:"h2",children:i("Get the WordPress app")}),(0,H.tZ)("h3",{className:"go-mobile__subheader customer-home__card-subheader",children:i("Inspiration strikes anytime, anywhere.")})]}),(0,H.BX)("div",{className:"go-mobile__app-badges",children:[p&&(0,H.tZ)(qe.Z,{storeName:"ios",utm_source:"calypso-customer-home"}),m&&(0,H.tZ)(qe.Z,{storeName:"android",utm_source:"calypso-customer-home"})]})]}),!u&&(0,H.BX)("div",{className:"go-mobile__email-link",children:[i("Get a download link via email — click it on your phone to get the app."),(0,H.tZ)(b.Z,{className:"go-mobile__email-link-button is-link",onClick:()=>{t(e)},children:i("Send my download link")})]})]})}));var Pi=s("../packages/components/src/happiness-engineers-tray/index.tsx"),Ti=s("./components/data/query-concierge-initial/index.js"),Ai=s("./state/selectors/get-concierge-next-appointment.js");s("../node_modules/moment-timezone/index.js");const Li=(0,Z.$j)((e=>({siteId:(0,g.Z)(e),siteSlug:(0,_.Z)(e),nextSession:(0,Ai.Z)(e)})),{viewDetails:(e,t)=>s=>{s((0,$.N)((0,X.jN)("calypso_customer_home_quick_start_view_details_click",{site_id:e}),(0,Ne.P)("calypso_customer_home","view_quick_start_session_details"))),o()(`/me/quickstart/${t}/book`)},reschedule:(e,t,s)=>i=>{i((0,$.N)((0,X.jN)("calypso_customer_home_quick_start_reschedule_click",{site_id:e}),(0,Ne.P)("calypso_customer_home","reschedule_quick_start_session"))),o()(`/me/quickstart/${t}/${s}/cancel`)}})((({nextSession:e,reschedule:t,siteId:s,siteSlug:i,viewDetails:o})=>{const a=(0,v.Z)(),n=(0,Je.B)();return(0,H.BX)(H.HY,{children:[s&&(0,H.tZ)(Ti.Z,{siteId:s}),(0,H.BX)(ut.Z,{className:"quick-start next-session customer-home__card",children:[(0,H.tZ)(Pi.O,{}),(0,H.tZ)(mt.Z,{children:a("Your scheduled Quick Start support session:")}),(0,H.BX)("table",{children:[(0,H.tZ)("thead",{children:(0,H.BX)("tr",{children:[(0,H.tZ)("th",{children:a("Date")}),(0,H.tZ)("th",{children:a("Time")})]})}),(0,H.tZ)("tbody",{children:(0,H.BX)("tr",{children:[(0,H.tZ)("td",{children:e?n(e.beginTimestamp).format("LL"):(0,H.tZ)("div",{className:"quick-start__placeholder"})}),(0,H.tZ)("td",{children:e?n.tz(e.beginTimestamp,n.tz.guess()).format("LT z"):(0,H.tZ)("div",{className:"quick-start__placeholder"})})]})})]}),(0,H.BX)("div",{className:"quick-start__buttons",children:[(0,H.tZ)(b.Z,{disabled:!e,onClick:()=>o(s,i),children:a("View details")}),(0,H.tZ)(b.Z,{className:"quick-start__reschedule",onClick:()=>t(s,i,e.id),borderless:!0,disabled:!e,children:a("Reschedule")})]})]})]})})),Di={[O.zk]:Ei,[O.UV]:ps,[O.mP]:vi,[O.hP]:Li,[O.c7]:xi};const Bi=()=>{const e=function(){const e=(0,Z.v9)(g.Z),{data:t}=(0,E.ZP)(e,{enabled:!1});return t?.["tertiary.manage-site"]??[]}(),t=(0,Z.I0)();return(0,w.useEffect)((()=>{e&&e.length&&t(function(e){const t=e.reduce(((e,t)=>[...e,(0,X.jN)("calypso_customer_home_card_impression",{card:t}),(0,Ne.P)("calypso_customer_home_card_impression",t)]),[]);return(0,$.N)(...t)}(e))}),[e,t]),e&&e.length?(0,H.tZ)(H.HY,{children:e.map(((e,t)=>Di[e]&&(0,w.createElement)(Di[e],{key:t})))}):null},Ri={[O.Pf]:Bi},Ui=({cards:e})=>e&&e.length?(0,H.tZ)(H.HY,{children:e.map(((e,t)=>Ri[e]&&(0,w.createElement)(Ri[e],{key:t})))}):null,Oi=()=>(0,H.tZ)("div",{className:"wc-home-placeholder",children:(0,H.tZ)("svg",{className:"wpcom-site__logo",height:"72",width:"72",viewBox:"0 0 72 72",children:(0,H.tZ)("path",{d:"M36,0C16.1,0,0,16.1,0,36c0,19.9,16.1,36,36,36c19.9,0,36-16.2,36-36C72,16.1,55.8,0,36,0z M3.6,36 c0-4.7,1-9.1,2.8-13.2l15.4,42.3C11.1,59.9,3.6,48.8,3.6,36z M36,68.4c-3.2,0-6.2-0.5-9.1-1.3l9.7-28.2l9.9,27.3 c0.1,0.2,0.1,0.3,0.2,0.4C43.4,67.7,39.8,68.4,36,68.4z M40.5,20.8c1.9-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7 c0,0-5.2,0.4-8.6,0.4c-3.2,0-8.5-0.4-8.5-0.4c-1.7-0.1-2,2.6-0.2,2.7c0,0,1.7,0.2,3.4,0.3l5,13.8L28,55.9L16.2,20.8 c2-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7c0,0-5.2,0.4-8.6,0.4c-0.6,0-1.3,0-2.1,0C14.7,9.4,24.7,3.6,36,3.6 c8.4,0,16.1,3.2,21.9,8.5c-0.1,0-0.3,0-0.4,0c-3.2,0-5.4,2.8-5.4,5.7c0,2.7,1.5,4.9,3.2,7.6c1.2,2.2,2.7,4.9,2.7,8.9 c0,2.8-0.8,6.3-2.5,10.5l-3.2,10.8L40.5,20.8z M52.3,64l9.9-28.6c1.8-4.6,2.5-8.3,2.5-11.6c0-1.2-0.1-2.3-0.2-3.3 c2.5,4.6,4,9.9,4,15.5C68.4,47.9,61.9,58.4,52.3,64z"})})});var zi=s("./my-sites/plugins/plugins-announcement-modal/index.jsx"),Mi=s("./state/selectors/is-user-registration-days-within-range.js"),qi=s("../packages/components/src/confetti/index.ts"),Fi=s("../node_modules/@wordpress/components/build-module/modal/index.js"),$i=s("../node_modules/@wordpress/components/build-module/button/index.js");const Xi=function({setModalIsOpen:e,site:t}){const s=(0,v.Z)();return(0,w.useEffect)((()=>{window.history.replaceState(null,"",window.location.href.replace("?celebrateLaunch=true",""))}),[]),(0,H.BX)(Fi.Z,{onRequestClose:()=>e(!1),className:"launched__modal",children:[(0,H.tZ)(qi.Z,{}),(0,H.BX)("div",{className:"launched__modal-content",children:[(0,H.BX)("div",{className:"launched__modal-text",children:[(0,H.tZ)("h1",{className:"launched__modal-heading",children:s("Congrats, your site is live!")}),(0,H.tZ)("p",{className:"launched__modal-body",children:s("Your site is live. Now you can head over to your site and share it with the world or keep working on it.")})]}),(0,H.BX)("div",{className:"launched__modal-actions",children:[(0,H.BX)("div",{className:"launched__modal-site",children:[(0,H.tZ)("p",{className:"launched__modal-domain",children:t.slug}),(0,H.tZ)($i.Z,{isPrimary:!0,href:t.URL,target:"_blank",children:s("Visit site")})]}),(0,H.BX)($i.Z,{className:"launched__modal-customize",href:`/domains/add/${t.slug}`,children:[(0,H.tZ)(we.Z,{icon:"domains",size:16}),(0,H.tZ)("span",{children:s("Customize your domain")})]})]})]})]})},Hi={trackViewSiteAction:e=>(0,$.N)((0,X.jN)("calypso_customer_home_my_site_view_site_click",{is_static_home_page:e}),(0,Ne.P)("calypso_customer_home","my_site_view_site"))},Gi=(0,Z.$j)((e=>{const t=(0,g.Z)(e),s="classic"===(0,mi.E)(e,t),i=(0,l.cL)(e,t,"woocommerce");return{site:(0,Pe.Z)(e),sitePlan:(0,m.Z)(e,t),siteId:t,isNew7DUser:(0,Mi.Z)(e,null,0,7),canUserUseCustomerHome:(0,u.Z)(e,t),isStaticHomePage:!s&&"page"===(0,lt.Z)(e,t,"show_on_front"),hasWooCommerceInstalled:!(!i||!i.active),isRequestingSitePlugins:(0,l.uV)(e,t)}}),Hi,((e,t,s)=>{const{isStaticHomePage:i}=e;return{...s,...e,trackViewSiteAction:()=>t.trackViewSiteAction(i)}}))((0,A.Z)("HotJar")((({canUserUseCustomerHome:e,hasWooCommerceInstalled:t,isRequestingSitePlugins:s,site:i,siteId:o,trackViewSiteAction:a,sitePlan:n,isNew7DUser:c})=>{const[l,d]=(0,w.useState)(window.location.href.includes("celebrateLaunch=true")),u=(0,v.Z)(),{data:p,isLoading:m}=(0,E.ZP)(o),h=(0,Z.v9)(_t.Yv);if((0,w.useEffect)((()=>{(0,k.V)(n)&&["US","GB","AU","JP"].includes(h)&&(c||((0,P.o)(),window&&window.hj&&window.hj("trigger","pnp_survey_1")))}),[h,n,c]),!e){const e=u("This page is not available on this site.");return(0,H.tZ)(N.Z,{title:(0,L.R)(e),illustration:"/calypso/images/illustrations/error.svg"})}if((0,r.S)(n)&&(s||t))return(0,H.tZ)(Oi,{});const g=(0,H.BX)("div",{className:"customer-home__heading",children:[(0,H.tZ)(S.Z,{brandFont:!0,headerText:u("My Home"),subHeaderText:u("Your hub for posting, editing, and growing your site."),align:"left",hasScreenOptions:!0}),(0,H.BX)("div",{className:"customer-home__site-content",children:[(0,H.tZ)(x.Z,{site:i,size:58}),(0,H.BX)("div",{className:"customer-home__site-info",children:[(0,H.tZ)("div",{className:"customer-home__site-title",children:i.name}),(0,H.tZ)(f.Z,{href:i.URL,className:"customer-home__site-domain",onClick:a,children:(0,H.tZ)("span",{className:"customer-home__site-domain-text",children:i.domain})})]})]}),(0,H.tZ)("div",{className:"customer-home__view-site-button",children:(0,H.tZ)(b.Z,{href:i.URL,onClick:a,target:"_blank",children:u("Visit site")})})]});return(0,H.BX)(C.Z,{wideLayout:!0,className:"customer-home__main",children:[(0,H.tZ)(T.Z,{path:"/home/:site",title:u("My Home")}),(0,H.tZ)(j.Z,{title:u("My Home")}),o&&(0,H.tZ)(I.Z,{siteId:o}),g,m?(0,H.tZ)("div",{className:"customer-home__loading-placeholder"}):(0,H.BX)(H.HY,{children:[(0,H.tZ)(Yt,{cards:p.primary}),(0,H.tZ)(zi.Z,{}),(0,H.BX)("div",{className:"customer-home__layout",children:[(0,H.tZ)("div",{className:"customer-home__layout-col customer-home__layout-col-left",children:(0,H.tZ)(ii,{cards:p.secondary,siteId:o})}),(0,H.tZ)("div",{className:"customer-home__layout-col customer-home__layout-col-right",children:(0,H.tZ)(Ui,{cards:p.tertiary})})]})]}),l&&(0,H.tZ)(Xi,{setModalIsOpen:d,site:i})]})})));async function Wi(e,t){const s=await e.store.getState(),i=(0,g.Z)(s);"undefined"!=typeof window&&window.scrollTo(0,0),e.primary=(0,H.tZ)(Gi,{},i),t()}async function Yi(e,t){const s=e.store.getState(),i=(0,_.Z)(s);if(!(0,u.Z)(s))return void o().redirect(`/stats/day/${i}`);const a=(0,g.Z)(s),n=(0,p.Z)(s,a)?.launchpad_screen,k=window.location.href;(n&&"full"===n||k?.includes("showLaunchpad=true"))&&await e.store.dispatch((0,d.LV)(a));const b=(0,p.Z)(e.store.getState(),a);if("full"===b?.launchpad_screen&&!k?.includes("launchpadComplete=true")){const e=new URLSearchParams(window.location.search).has("verified");(0,y.GI)(i,b?.site_intent,e)}else{if((0,r.S)((0,m.Z)(s,a))){const t=(0,h.Z)(s,a);if(null!==t){await e.store.dispatch((0,c.jP)(a));const s=e.store.getState(),i=(0,l.cL)(s,a,"woocommerce");i&&i.active&&window.location.replace(t+"/wp-admin/admin.php?page=wc-admin")}}t()}}function Vi(){o()("/home",n.tq,n.tc,a.wx,a.sY),o()("/home/:siteId",n.tq,Yi,n.G,Wi,a.wx,a.sY)}},"./my-sites/plan-price/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var i=s("../packages/format-currency/src/index.ts"),o=s("../node_modules/classnames/index.js"),a=s.n(o),n=s("../packages/i18n-calypso/src/use-translate.js"),r=s("../node_modules/react/index.js"),c=s("./components/badge/index.jsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends r.Component{render(){const{currencyCode:e="USD",rawPrice:t,isSmallestUnit:s,original:i,discounted:o,className:n,displayFlatPrice:c,displayPerMonthNotation:d,productDisplayPrice:u,isOnSale:p,taxText:g,omitHeading:_,is2023OnboardingPricingGrid:y,isLargeCurrency:k}=this.props,b=a()("plan-price",n,{"is-original":i,"is-discounted":o,"is-large-currency":k}),f=_?"span":"h4",v=t&&Array.isArray(t)&&t.length>1;if(u&&!v)return(0,r.createElement)(f,{className:b},(0,l.tZ)("span",{className:"plan-price__integer",dangerouslySetInnerHTML:{__html:u}}));if(!e||void 0===t)return null;const w=Array.isArray(t)?t.slice(0,2):[t];return Array.isArray(t)&&w.includes(0)?null:c?(0,l.tZ)(m,{smallerPrice:w[0],higherPrice:w[1],currencyCode:e,className:b,isSmallestUnit:s}):(0,l.tZ)(h,{className:b,tagName:f,smallerPrice:w[0],higherPrice:w[1],currencyCode:e,taxText:g,displayPerMonthNotation:d,isOnSale:p,is2023OnboardingPricingGrid:y,isSmallestUnit:s})}}const u=d;function p({price:e,currencyCode:t,isSmallestUnit:s}){const o=(0,i.LR)(e,t,{isSmallestUnit:s});return o.hasNonZeroFraction?(0,l.tZ)(l.HY,{children:`${o.integer}${o.fraction}`}):(0,l.tZ)(l.HY,{children:o.integer})}function m({smallerPrice:e,higherPrice:t,currencyCode:s,className:o,isSmallestUnit:a}){const{symbol:r}=(0,i.LR)(e,s),c=(0,n.Z)();return t?(0,l.BX)("span",{className:o,children:[r,c("%(smallerPrice)s-%(higherPrice)s",{args:{smallerPrice:(0,l.tZ)(p,{price:e,currencyCode:s,isSmallestUnit:a}),higherPrice:(0,l.tZ)(p,{price:t,currencyCode:s,isSmallestUnit:a})},comment:"The price range for a particular product"})]}):(0,l.BX)("span",{className:o,children:[r,(0,l.tZ)(p,{price:e,currencyCode:s,isSmallestUnit:a})]})}function h({tagName:e,className:t,smallerPrice:s,higherPrice:o,currencyCode:a,taxText:d,displayPerMonthNotation:u,isOnSale:p,is2023OnboardingPricingGrid:m,isSmallestUnit:h}){const{symbol:_}=(0,i.LR)(s,a),y=(0,n.Z)();return(0,r.createElement)(e,{className:t},(0,l.BX)(l.HY,{children:[(0,l.tZ)("sup",{className:"plan-price__currency-symbol",children:_}),!o&&(0,l.tZ)(g,{price:s,currencyCode:a,is2023OnboardingPricingGrid:m,isSmallestUnit:h}),o&&y("{{smallerPrice/}}-{{higherPrice/}}",{components:{smallerPrice:(0,l.tZ)(g,{price:s,currencyCode:a,is2023OnboardingPricingGrid:m,isSmallestUnit:h}),higherPrice:(0,l.tZ)(g,{price:o,currencyCode:a,is2023OnboardingPricingGrid:m,isSmallestUnit:h})},comment:"The price range for a particular product"}),d&&(0,l.tZ)("sup",{className:"plan-price__tax-amount",children:y("(+%(taxText)s tax)",{args:{taxText:d}})}),u&&(0,l.tZ)("span",{className:"plan-price__term",children:y("per{{newline/}}month",{components:{newline:(0,l.tZ)("br",{})},comment:'Displays next to the price. You can remove the "{{newline/}}" if it is not proper for your language.'})}),p&&(0,l.tZ)(c.Z,{children:y("Sale",{comment:"Shown next to a domain that has a special discounted sale price"})})]}))}function g({price:e,currencyCode:t,is2023OnboardingPricingGrid:s,isSmallestUnit:o}){const a=(0,i.LR)(e,t,{isSmallestUnit:o});return s?(0,l.BX)("div",{className:"plan-price__integer-fraction",children:[(0,l.tZ)("span",{className:"plan-price__integer",children:a.integer}),(0,l.tZ)("sup",{className:"plan-price__fraction",children:a.hasNonZeroFraction&&a.fraction})]}):(0,l.BX)(l.HY,{children:[(0,l.tZ)("span",{className:"plan-price__integer",children:a.integer}),(0,l.tZ)("sup",{className:"plan-price__fraction",children:a.hasNonZeroFraction&&a.fraction})]})}},"./my-sites/plugins/plugins-announcement-modal/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>h});var i=s("../packages/calypso-products/src/is-starter.ts"),o=s("../packages/i18n-calypso/src/use-translate.js"),a=s("../node_modules/react-redux/es/index.js"),n=s("./assets/images/marketplace/plugins-browser.svg"),r=s("./blocks/announcement-modal/index.jsx"),c=s("./state/selectors/is-site-automated-transfer.ts"),l=s("./state/sites/selectors/is-jetpack-site.ts"),d=s("./state/sites/selectors/get-site-plan.ts"),u=s("./state/ui/selectors/get-selected-site-id.js"),p=s("./state/ui/selectors/get-selected-site-slug.js"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=()=>{const e=(0,o.Z)(),t=(0,a.v9)(u.Z),s=(0,a.v9)((e=>(0,p.Z)(e))),h=(0,a.v9)((e=>(0,l.Z)(e,t)&&!(0,c.Z)(e,t))),g=(0,a.v9)((e=>(0,d.Z)(e,t)));if(h)return null;if(!t||!(0,i.S)(g))return null;const _=[{headline:e("NEW"),heading:e("Install premium plugins on your site"),content:e("You can now extend your site's capabilities with premium plugins. Available for purchase on the plugins page."),featureImage:n,ctaLink:`/plugins/${s}`}];return(0,m.tZ)(r.Z,{announcementId:"plugins-page-starter-plan-launch2",pages:_,finishButtonText:e("Explore now")})}},"./my-sites/stats/stats-chart-tabs/utility.js":(e,t,s)=>{s.d(t,{p6:()=>b,J8:()=>f,Ej:()=>w});var i=s("../packages/components/src/icons/eye.tsx"),o=s("../node_modules/@wordpress/icons/build-module/icon/index.js"),a=s("../node_modules/@wordpress/icons/build-module/library/comment-content.js"),n=s("../node_modules/@wordpress/icons/build-module/library/star-empty.js"),r=s("../node_modules/@wordpress/icons/build-module/library/people.js"),c=s("../node_modules/@wordpress/icons/build-module/library/chevron-right.js"),l=s("../node_modules/@wordpress/icons/build-module/library/post-content.js"),d=s("../node_modules/classnames/index.js"),u=s.n(d),p=s("../packages/i18n-calypso/src/index.js"),m=s("../node_modules/lodash-es/capitalize.js"),h=s("../node_modules/moment/moment.js"),g=s.n(h),_=s("./lib/memoize-last/index.ts"),y=s("./state/stats/lists/utils.js"),k=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e,t){const s=g()(e);switch(t){case"day":return s.format("LL");case"week":return s.format("L")+" - "+s.add(6,"days").format("L");case"month":return s.format("MMMM YYYY");case"year":return s.format("YYYY");default:return null}}function f(e,t,s,i){const o=g()().utcOffset(t),a=(0,y.tD)(s,o.locale("en")).endOf,n=g()(a).diff(g()(e),s);return n>=i?g()(a).subtract(Math.floor(n/i)*i,s).format("YYYY-MM-DD"):a}const v=[],w=(0,_.Z)(((e,t,s,d,h)=>s?s.map((s=>{const g=e.length?s[e[0]]:null,_=s.classNames&&s.classNames.length?s.classNames.join(" "):null,y=u()(_,{"is-selected":s.period===h}),f=function(e,t,s){const d=[];switch(d.push({label:b(t.data.period,s),className:"is-date-label",value:null}),e){case"comments":d.push({label:(0,p.Iu)("Comments"),value:(0,p.Y4)(t.value),className:"is-comments",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:a.Z})});break;case"likes":d.push({label:(0,p.Iu)("Likes"),value:(0,p.Y4)(t.value),className:"is-likes",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:n.Z})});break;default:d.push({label:(0,p.Iu)("Views"),value:(0,p.Y4)(t.data.views),className:"is-views",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:i.Z})}),d.push({label:(0,p.Iu)("Visitors"),value:(0,p.Y4)(t.data.visitors),className:"is-visitors",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:r.Z})}),d.push({label:(0,p.Iu)("Views Per Visitor"),value:(0,p.Y4)(t.data.views/t.data.visitors,{decimals:2}),className:"is-views-per-visitor",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:c.Z})}),t.data.post_titles&&t.data.post_titles.length&&(t.data.post_titles.length>2?d.push({label:(0,p.Iu)("Posts Published"),value:(0,p.Y4)(t.data.post_titles.length),className:"is-published-nolist",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:l.Z})}):(d.push({label:(0,p.Iu)("Post Published","Posts Published",{textOnly:!0,count:t.data.post_titles.length})+":",className:"is-published",icon:(0,k.tZ)(o.Z,{className:"gridicon",icon:l.Z}),value:""}),t.data.post_titles.forEach((e=>{d.push({className:"is-published-item",label:e})}))))}return{...t,tooltipData:d}}(t,{label:s[`label${(0,m.Z)(d)}`],value:s[t],data:s,nestedValue:g,className:y},d);return f})):v))},"./signup/storageUtils.js":(e,t,s)=>{s.d(t,{r6:()=>o,sG:()=>a,Gv:()=>n,VH:()=>r,I5:()=>c,sg:()=>l,TD:()=>d,if:()=>u,Iv:()=>p,bu:()=>m});var i=s("../node_modules/cookie/index.js");const o=e=>{const t={path:"/",expires:new Date((new Date).getTime()+864e5),sameSite:"strict"};document.cookie=i.serialize("wpcom_signup_complete_destination",e,t)},a=()=>i.parse(document.cookie).wpcom_signup_complete_destination,n=()=>{const e={path:"/",expires:new Date((new Date).getTime()-1e3)};document.cookie=i.serialize("wpcom_signup_complete_destination","",e)},r=()=>sessionStorage?.getItem("wpcom_signup_complete_site_slug"),c=e=>sessionStorage?.setItem("wpcom_signup_complete_site_slug",e),l=()=>sessionStorage?.getItem("was_signup_checkout_page_unloaded"),d=e=>sessionStorage?.setItem("was_signup_checkout_page_unloaded",e),u=()=>sessionStorage?.getItem("wpcom_signup_complete_flow_name"),p=e=>sessionStorage?.setItem("wpcom_signup_complete_flow_name",e),m=()=>sessionStorage?.removeItem("wpcom_signup_complete_flow_name")},"./state/analytics/actions/load-tracking-tool.js":(e,t,s)=>{s.d(t,{$:()=>o});var i=s("./state/action-types.ts");function o(e){return{type:i.K5f,trackingTool:e}}},"./state/auth/actions.js":(e,t,s)=>{s.d(t,{z:()=>h});var i=s("../packages/i18n-utils/src/utils.ts"),o=s("./lib/i18n-utils/browser.js"),a=s("./state/action-types.ts"),n=s("../packages/calypso-config/src/index.ts"),r=s("../packages/i18n-calypso/src/index.js"),c=s("./lib/tos-acceptance-tracking/index.js"),l=s("./state/analytics/actions/record-with-client-id.js"),d=s("./state/data-layer/handler-registry.js"),u=s("./state/data-layer/wpcom-http/actions.js"),p=s("./state/data-layer/wpcom-http/utils.js"),m=s("./state/notices/actions.ts");(0,d.Z9)("state/data-layer/wpcom/auth/send-login-email/index.js",{[a.fnc]:[(0,p.BN)({fetch:e=>{const{email:t,lang_id:s,locale:i,redirect_to:o,showGlobalNotices:d,loginFormFlow:p,requestLoginEmailFormFlow:h,isMobileAppLogin:g,flow:_,createAccount:y}=e,k=d?(0,m.hS)((0,r.Iu)("Sending email"),{duration:4e3}):null;return[...d?[k]:[],...p||h?[{type:a.wL$}]:[],...h?[(0,l.v)("calypso_login_email_link_submit")]:[],...p?[(0,l.v)("calypso_login_block_login_form_send_magic_link")]:[],...y?[(0,l.v)("calypso_login_block_login_form_send_account_create_magic_link")]:[],(0,u.d)({path:"/auth/send-login-email",method:"POST",apiVersion:"1.3",body:{client_id:(0,n.ZP)("wpcom_signup_id"),client_secret:(0,n.ZP)("wpcom_signup_key"),...g&&{infer:!0},...g&&{scheme:"wordpress"},locale:i,lang_id:s,email:t,...o&&{redirect_to:o},..._&&{flow:_},create_account:y,tos:(0,c.Z)()}},{...e,infoNoticeId:k?k.notice.noticeId:null})]},onSuccess:({email:e,showGlobalNotices:t,infoNoticeId:s=null,loginFormFlow:i,requestLoginEmailFormFlow:o})=>[...i||o?[{type:a.Ulp},{type:a.qPH,email:e}]:[],...o?[(0,l.v)("calypso_login_email_link_success")]:[],...i?[(0,l.v)("calypso_login_block_login_form_send_magic_link_success")]:[],...t?[(0,m.qq)(s),(0,m.RT)((0,r.Iu)("Email Sent. Check your mail app!"),{duration:4e3})]:[]],onError:({showGlobalNotices:e,infoNoticeId:t=null,loginFormFlow:s,requestLoginEmailFormFlow:i},o)=>[...s||i?[{type:a.yXy,error:o.message}]:[],...i?[(0,l.v)("calypso_login_email_link_failure",{error_code:o.error,error_message:o.message})]:[],...s?[(0,l.v)("calypso_login_block_login_form_send_magic_link_failure",{error_code:o.error,error_message:o.message})]:[],...e?[(0,m.qq)(t),(0,m.tF)((0,r.Iu)("Sorry, we couldn’t send the email."),{duration:4e3})]:[]]})]});const h=(e,{redirectTo:t,showGlobalNotices:s=!1,loginFormFlow:n=!1,requestLoginEmailFormFlow:r=!1,isMobileAppLogin:c=!1,flow:l=null,createAccount:d=!1})=>{const u=(0,o.Y)(),p=(0,i.G3)(u).value;return{type:a.fnc,email:e,locale:u,lang_id:p,redirect_to:t,isMobileAppLogin:c,showGlobalNotices:s,loginFormFlow:n,requestLoginEmailFormFlow:r,flow:l,createAccount:d}}},"./state/automated-transfer/actions.js":(e,t,s)=>{s.d(t,{yX:()=>N,LH:()=>j,mj:()=>x,If:()=>S,WJ:()=>I,rv:()=>C});var i=s("./state/action-types.ts"),o=s("../node_modules/lodash-es/get.js"),a=s("../node_modules/lodash-es/isEmpty.js"),n=s("../node_modules/lodash-es/map.js"),r=s("./state/analytics/actions/record.js"),c=s("./state/analytics/actions/with-analytics.js"),l=s("./state/automated-transfer/constants.ts"),d=s("./state/data-layer/handler-registry.js"),u=s("./state/data-layer/wpcom-http/actions.js"),p=s("./state/data-layer/wpcom-http/utils.js"),m=s("./state/selectors/is-unlaunched-site.js");const h={blocked_atomic_transfer:l.t.BLOCKED_ATOMIC_TRANSFER,transfer_already_exists:l.t.TRANSFER_ALREADY_EXISTS,no_business_plan:l.t.NO_BUSINESS_PLAN,no_jetpack_sites:l.t.NO_JETPACK_SITES,no_vip_sites:l.t.NO_VIP_SITES,site_private:l.t.SITE_PRIVATE,site_graylisted:l.t.SITE_GRAYLISTED,non_admin_user:l.t.NON_ADMIN_USER,not_resolving_to_wpcom:l.t.NOT_RESOLVING_TO_WPCOM,no_ssl_certificate:l.t.NO_SSL_CERTIFICATE,email_unverified:l.t.EMAIL_UNVERIFIED,excessive_disk_space:l.t.EXCESSIVE_DISK_SPACE},g=({errors:e=[]},t={})=>e.map((({code:e})=>t.sitePrivateUnlaunched&&"site_private"===e?l.t.SITE_UNLAUNCHED:(0,o.Z)(h,e,""))).filter(Boolean),_=({warnings:e={}})=>Object.keys(e).reduce(((t,s)=>t.concat(e[s])),[]).map((({description:e,name:t,support_url:s,id:i,domain_names:o})=>({id:i,name:t,description:e,supportUrl:s,domainNames:o})));(0,d.Z9)("state/data-layer/wpcom/sites/automated-transfer/eligibility/index.js",{[i.vzh]:[(0,p.BN)({fetch:e=>(0,u.d)({method:"GET",path:`/sites/${e.siteId}/automated-transfers/eligibility`,apiVersion:"1"},e),onSuccess:({siteId:e},t)=>(s,i)=>{const l=(0,m.Z)(i(),e);s((0,c.w)((e=>{const t=(0,o.Z)(e,"is_eligible",!1),s=(0,o.Z)(e,"warnings.plugins",[]),i=(0,o.Z)(e,"warnings.widgets",[]),c={has_warnings:!((0,a.Z)(s)&&(0,a.Z)(i)),plugins:(0,n.Z)(s,"id").join(","),widgets:(0,n.Z)(i,"id").join(",")};return t?(0,r.jN)("calypso_automated_transfer_eligibility_eligible",c):(c.holds=g(e).join(","),(0,r.jN)("calypso_automated_transfer_eligibility_ineligible",c))})(t),C(e,((e,t={})=>({lastUpdate:Date.now(),eligibilityHolds:g(e,t),eligibilityWarnings:_(e)}))(t,{sitePrivateUnlaunched:l}))))},onError:()=>{}})]});var y=s("../packages/i18n-calypso/src/index.js"),k=s("./state/notices/actions.ts"),b=s("./state/plugins/upload/actions.js");const f=e=>"invalid_input"===e.error?(0,k.tF)((0,y.Iu)("The uploaded file is not a valid zip.")):"api_success_false"===e.error?(0,k.tF)((0,y.Iu)("The uploaded file is not a valid plugin.")):e.error?(0,k.tF)((0,y.Iu)("Upload problem: %(error)s.",{args:{error:e.error}})):(0,k.tF)((0,y.Iu)("Problem uploading the plugin.")),v=({siteId:e},t)=>[(0,r.jN)("calypso_automated_transfer_inititate_failure",{context:"plugin_upload",error:t.error}),f(t),(0,b.y9)(e,t)];(0,d.Z9)("state/data-layer/wpcom/sites/automated-transfer/initiate/index.js",{[i._az]:[(0,p.BN)({fetch:e=>{const{siteId:t,pluginZip:s}=e;return[(0,r.jN)("calypso_automated_transfer_inititate_transfer",{context:"plugin_upload"}),(0,u.d)({method:"POST",path:`/sites/${t}/automated-transfers/initiate`,apiVersion:"1",formData:[["plugin_zip",s]]},e)]},onSuccess:(e,{success:t})=>!1===t?v(e,{error:"api_success_false"}):[(0,r.jN)("calypso_automated_transfer_inititate_success",{context:"plugin_upload"}),j(e.siteId)],onError:v,onProgress:({siteId:e},{loaded:t,total:s})=>{const i=s?t/s*100:0;return(0,b.oZ)(e,i)}})]});var w=s("../node_modules/lodash-es/delay.js"),Z=s("./state/sites/actions.js");(0,d.Z9)("state/data-layer/wpcom/sites/automated-transfer/status/index.js",{[i.k2T]:[(0,p.BN)({fetch:e=>(0,u.d)({method:"GET",path:`/sites/${e.siteId}/automated-transfers/status`,apiVersion:"1"},e),onSuccess:({siteId:e},{status:t,uploaded_plugin_slug:s,transfer_id:i})=>o=>{o(I(e,t,s)),t!==l.p.ERROR&&t!==l.p.COMPLETE&&(0,w.Z)(o,3e3,j(e)),t===l.p.COMPLETE&&(o((0,r.jN)("calypso_automated_transfer_complete",{context:"plugin_upload",transfer_id:i,uploaded_plugin_slug:s})),o((0,Z.LV)(e)))},onError:e=>N({siteId:e.siteId,error:e.meta?.dataLayer?.error?.message})})]});s("./state/automated-transfer/init.js");const x=(e,t)=>({type:i._az,siteId:e,pluginZip:t}),j=e=>({type:i.k2T,siteId:e}),I=(e,t,s)=>({type:i.c13,siteId:e,status:t,uploadedPluginId:s}),N=({siteId:e,error:t})=>({type:i.Sdq,siteId:e,error:t}),S=e=>({type:i.vzh,siteId:e}),C=(e,{eligibilityHolds:t,eligibilityWarnings:s,lastUpdate:o,status:a})=>({type:i.zGH,eligibilityHolds:t,eligibilityWarnings:s,lastUpdate:o,siteId:e,status:a})},"./state/automated-transfer/constants.ts":(e,t,s)=>{s.d(t,{p:()=>i,t:()=>o});const i={NONE:"none",PENDING:"pending",INQUIRING:"inquiring",PROVISIONED:"provisioned",FAILURE:"failure",START:"start",SETUP:"setup",CONFLICTS:"conflicts",ACTIVE:"active",UPLOADING:"uploading",BACKFILLING:"backfilling",RELOCATING:"relocating_switcheroo",COMPLETE:"complete",REVERTED:"reverted",ERROR:"error",REQUEST_FAILURE:"request_failure"},o={BLOCKED_ATOMIC_TRANSFER:"BLOCKED_ATOMIC_TRANSFER",TRANSFER_ALREADY_EXISTS:"TRANSFER_ALREADY_EXISTS",NO_BUSINESS_PLAN:"NO_BUSINESS_PLAN",NO_JETPACK_SITES:"NO_JETPACK_SITES",NO_VIP_SITES:"NO_VIP_SITES",SITE_PRIVATE:"SITE_PRIVATE",SITE_UNLAUNCHED:"SITE_UNLAUNCHED",SITE_GRAYLISTED:"SITE_GRAYLISTED",NON_ADMIN_USER:"NON_ADMIN_USER",NOT_RESOLVING_TO_WPCOM:"NOT_RESOLVING_TO_WPCOM",NO_SSL_CERTIFICATE:"NO_SSL_CERTIFICATE",EMAIL_UNVERIFIED:"EMAIL_UNVERIFIED",EXCESSIVE_DISK_SPACE:"EXCESSIVE_DISK_SPACE"}},"./state/automated-transfer/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/themes/action-types.js"),r=s("./state/utils/with-persistence.ts"),c=s("./state/utils/reducer-utils.ts"),l=s("./state/utils/schema-utils.js"),d=s("./state/utils/keyed-reducer.ts"),u=s("./state/automated-transfer/constants.ts"),p=s("../node_modules/lodash-es/sortBy.js"),m=s("../node_modules/lodash-es/property.js");const h={eligibilityHolds:[],eligibilityWarnings:[],lastUpdate:0},g=(0,r.$)(((e=h,t)=>t.type===a.zGH?{eligibilityHolds:(0,p.Z)(t.eligibilityHolds),eligibilityWarnings:(0,p.Z)(t.eligibilityWarnings,(0,m.Z)("name")),lastUpdate:t.lastUpdate}:e)),_={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{eligibility:{type:"object",properties:{lastUpdate:{type:"number",minimum:0},eligibilityHolds:{type:"array",items:{type:"string"}},eligibilityWarnings:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},supportUrl:{type:"string"}}}}}},status:{type:["string","null"]}}}}},y=(0,r.$)(((e=null,t)=>{switch(t.type){case a.zGH:return e||u.p.INQUIRING;case n.LG:return u.p.START;case n.aB:return u.p.FAILURE;case a.c13:return t.status;case n.rV:return"complete"===t.status?u.p.COMPLETE:e;case a.Sdq:return"An invalid transfer ID was passed."===t.error?u.p.NONE:u.p.REQUEST_FAILURE}return e})),k=(0,c.U)({eligibility:g,status:y,fetchingStatus:(e=!1,t)=>{switch(t.type){case a.k2T:return!0;case a.c13:case a.Sdq:return!1;default:return e}}}),b=(0,l.G)(_,(0,d.J)("siteId",k)),f=(0,o.xi)("automatedTransfer",b);(0,i.x)(["automatedTransfer"],f)},"./state/checklist/actions.js":(e,t,s)=>{s.d(t,{NK:()=>o,Ec:()=>a,Ym:()=>n});var i=s("./state/action-types.ts");s("./state/data-layer/wpcom/checklist/index.js"),s("./state/checklist/init.js");function o(e,t){return{type:i.JHq,siteId:e,checklist:t}}const a=(e,t=!1)=>({type:i.dAw,siteId:e,isSiteEligibleForFSE:t,meta:{dataLayer:{trackRequest:!0}}}),n=(e,t)=>({type:i.h3U,siteId:e,taskId:t})},"./state/checklist/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/data-layer/wpcom/checklist/index.js"),r=s("./state/utils/schema-utils.js"),c=s("./state/utils/reducer-utils.ts"),l=s("./state/utils/keyed-reducer.ts");const d=(e,t,s)=>({...e,tasks:e.tasks?.map((e=>e.id===t?{...e,isCompleted:s}:e))}),u={"lazy-images":n.wx.JETPACK_LAZY_IMAGES,monitor:n.wx.JETPACK_MONITOR,photon:n.wx.JETPACK_SITE_ACCELERATOR,"photon-cdn":n.wx.JETPACK_SITE_ACCELERATOR,search:n.wx.JETPACK_SEARCH,videopress:n.wx.JETPACK_VIDEO_HOSTING},p=(0,r.G)({type:"object",additionalProperties:!0,properties:{designType:{type:"string"},segment:{type:"integer"},tasks:{type:"array"}}},((e={},t)=>{switch(t.type){case a.JHq:return t.checklist;case a.h3U:return d(e,t.taskId,!0);case a.n2G:if(u.hasOwnProperty(t.moduleSlug))return d(e,u[t.moduleSlug],!0);break;case a.CD3:if("photon"===t.moduleSlug||"photon-cdn"===t.moduleSlug)return e;if(u.hasOwnProperty(t.moduleSlug))return d(e,u[t.moduleSlug],!1)}return e})),m=(0,c.U)({items:p}),h=(0,l.J)("siteId",m),g=(0,o.xi)("checklist",h);(0,i.x)(["checklist"],g)},"./state/concierge/actions.js":(e,t,s)=>{s.d(t,{QM:()=>L,jW:()=>B,C1:()=>S,d$:()=>E,S5:()=>D,Ek:()=>C,cX:()=>A,DY:()=>P,gA:()=>T});var i=s("./state/action-types.ts"),o=s("./state/action-watchers/utils.js"),a=s("./state/data-layer/handler-registry.js"),n=s("../packages/i18n-calypso/src/index.js"),r=s("./me/concierge/constants.js"),c=s("./state/analytics/actions/with-analytics.js"),l=s("./state/analytics/actions/record.js"),d=s("./state/data-layer/wpcom-http/actions.js"),u=s("./state/data-layer/wpcom-http/utils.js"),p=s("./state/notices/actions.ts"),m=s("./lib/make-json-schema-parser/index.js");const h=(0,m.ZP)({type:"boolean"}),g=({beginTimestamp:e,customerId:t,siteId:s,meta:i})=>({begin_timestamp:Math.ceil(e/1e3),customer_id:t,site_id:s,meta:JSON.stringify(i)}),_=e=>{switch(e){case r.Ck:return(0,n.Iu)("This session is no longer available. Please select a different time.");case r.eW:return(0,n.Iu)("You already have an upcoming appointment. A second can not be scheduled yet.");default:return(0,n.Iu)("We could not book your appointment. Please try again later.")}},y=({type:e})=>{const t=i.dpB===e?"calypso_concierge_appointment_rescheduling_successful":"calypso_concierge_appointment_booking_successful";return(0,c.w)((0,l.jN)(t),A(r.Fn))},k=({type:e},t)=>{const s=i.dpB===e?"calypso_concierge_appointment_rescheduling_error":"calypso_concierge_appointment_booking_error";return[(0,c.w)((0,l.jN)(s),A(r.o0)),(0,p.tF)(_(t.code))]};(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/appointments/book/index.js",{[i.r$q]:[(0,u.BN)({fetch:e=>[A(r._D),(0,d.d)({method:"POST",path:`/concierge/schedules/${e.scheduleId}/appointments`,apiNamespace:"wpcom/v2",body:g(e)},e)],onSuccess:y,onError:k,fromApi:h})]});const b=(0,m.ZP)({type:"boolean"});(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/appointments/cancel/index.js",{[i.t3w]:[(0,u.BN)({fetch:e=>[A(r.$H),(0,d.d)({method:"POST",path:`/concierge/schedules/${e.scheduleId}/appointments/${e.appointmentId}/cancel`,apiNamespace:"wpcom/v2",body:{}},e)],onSuccess:()=>(0,c.w)((0,l.jN)("calypso_concierge_appointment_cancellation_successful"),A(r.x)),onError:()=>[(0,p.tF)("We couldn't cancel your session, please try again later."),(0,c.w)((0,l.jN)("calypso_concierge_appointment_cancellation_error"),A(r.ih))],fromApi:b})]});var f=s("./state/data-layer/wpcom-http/pipeline/retry-on-failure/policies.js");const v=JSON.parse('{"type":"object","properties":{"begin_timestamp":{"type":"number"},"end_timestamp":{"type":"number"},"id":{"type":"number"},"meta":{"type":"object","properties":{"google_calendar_event_id":{"type":"string"},"message":{"type":"string"},"timezone":{"type":"string"}}},"schedule_id":{"type":"number"}}}'),w=({begin_timestamp:e,end_timestamp:t,schedule_id:s,site_id:i,...o})=>({beginTimestamp:1e3*e,endTimestamp:1e3*t,scheduleId:s,siteId:i,...o}),Z=(0,m.ZP)(v,w);(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/appointments/detail/index.js",{[i.yEr]:[(0,u.BN)({fetch:e=>{const{appointmentId:t,scheduleId:s}=e;return(0,d.d)({method:"GET",path:`/concierge/schedules/${s}/appointments/${t}/detail`,apiNamespace:"wpcom/v2",retryPolicy:(0,f.iD)()},e)},onSuccess:({appointmentId:e},t)=>C(e,t),onError:()=>(0,p.tF)((0,n.Iu)("We could not find your appointment. Please try again later.")),fromApi:Z})]});const x=({appointmentDetails:e,beginTimestamp:t})=>({begin_timestamp:Math.ceil(t/1e3),meta:JSON.stringify(e.meta)});(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/appointments/reschedule/index.js",{[i.dpB]:[(0,u.BN)({fetch:e=>[A(r._D),(0,d.d)({method:"POST",path:`/concierge/schedules/${e.scheduleId}/appointments/${e.appointmentId}/reschedule`,apiNamespace:"wpcom/v2",body:x(e)},e)],onSuccess:y,onError:k,fromApi:h})]});(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/appointments/index.js",(0,o.A)({},{},{},{}));(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/index.js",(0,o.A)({}));(0,a.Z9)("state/data-layer/wpcom/concierge/index.js",(0,o.A)({}));const j=JSON.parse('{"type":"object","properties":{"available_times":{"type":"array","items":{"type":"integer"},"optional":true},"appointment_timespan":{"type":"number","optional":true},"next_appointment":{"type":["object","null"],"properties":{"begin_timestamp":{"type":"number"},"end_timestamp":{"type":"number"},"id":{"type":"number"},"meta":{"type":"object","properties":{"google_calendar_event_id":{"type":"string"},"message":{"type":"string"},"timezone":{"type":"string"}}},"schedule_id":{"type":"number"},"site_id":{"type":"number"}}},"schedule_id":{"type":"number"},"is_blocked":{"type":"boolean"},"available_sessions":{"type":"array","items":{"type":"integer"}}}}'),I=e=>1e3*e,N=(0,m.ZP)(j,(e=>{const t=null===e.next_appointment?null:w(e.next_appointment);return{availableTimes:e.available_times.map(I),appointmentTimespan:e.appointment_timespan,nextAppointment:t,scheduleId:e.schedule_id,isUserBlocked:e.is_blocked,availableSessions:e.available_sessions}}));(0,a.Z9)("state/data-layer/wpcom/concierge/schedules/initial/index.js",{[i.uo2]:[(0,u.BN)({fetch:e=>(0,d.d)({method:"GET",path:"/concierge/initial",apiNamespace:"wpcom/v2",query:{site_id:e.siteId}},e),onSuccess:(e,t)=>P(t),onError:e=>{const t=e?.meta?.dataLayer?.error?.message;return(e=>e?(0,p.tF)(e):(0,p.tF)((0,n.Iu)("Something went wrong with Quick Start. Please try again later.")))(t)},fromApi:N})]});s("./state/concierge/init.js");const S=(e,t)=>({type:i.yEr,scheduleId:e,appointmentId:t}),C=(e,t)=>({type:i.wjo,appointmentId:e,appointmentDetails:t}),E=e=>({type:i.uo2,siteId:e}),P=e=>({type:i.z9j,initial:e}),T=e=>({type:i.HJB,signupForm:e}),A=e=>({type:i.uY7,status:e}),L=(e,t,s,o,a)=>({type:i.r$q,scheduleId:e,beginTimestamp:t,customerId:s,siteId:o,meta:a}),D=(e,t,s,o)=>({type:i.dpB,scheduleId:e,appointmentId:t,beginTimestamp:s,appointmentDetails:o}),B=(e,t)=>({type:i.t3w,scheduleId:e,appointmentId:t})},"./state/concierge/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts");const n=(e=[],t)=>{switch(t.type){case a.uo2:return[];case a.z9j:{const{initial:e}=t;return e.availableSessions||[]}}return e};var r=s("./state/utils/reducer-utils.ts");const c=(0,s("./state/utils/keyed-reducer.ts").J)("appointmentId",((e=null,t)=>{switch(t.type){case a.yEr:return null;case a.wjo:return t.appointmentDetails}return e})),l=(e=null,t)=>{switch(t.type){case a.uo2:return null;case a.z9j:{const{initial:e}=t;return e.appointmentTimespan}}return e},d=(e=null,t)=>{switch(t.type){case a.uo2:return null;case a.z9j:return t.initial.availableTimes}return e},u=(e=null,t)=>{switch(t.type){case a.uo2:return null;case a.z9j:return t.initial.isUserBlocked}return e},p=(e=null,t)=>{switch(t.type){case a.uo2:return null;case a.z9j:return t.initial.nextAppointment}return e},m=(e=null,t)=>{switch(t.type){case a.uo2:return null;case a.z9j:{const{initial:e}=t;return e.scheduleId}}return e};var h=s("../packages/i18n-utils/src/guess-timezone.ts");const g=(0,r.U)({firstname:(e="",t)=>t.type===a.HJB?t.signupForm.firstname:e,lastname:(e="",t)=>t.type===a.HJB?t.signupForm.lastname:e,message:(e="",t)=>t.type===a.HJB?t.signupForm.message:e,timezone:(e=(0,h.Z)()||"UTC",t)=>t.type===a.HJB?t.signupForm.timezone:e,status:(e=null,t)=>t.type===a.uY7?t.status:e,phoneNumber:(e="",t)=>t.type===a.HJB?t.signupForm.phoneNumber:e,countryCode:(e="",t)=>t.type===a.HJB?t.signupForm.countryCode:e,phoneNumberWithoutCountryCode:(e="",t)=>t.type===a.HJB?t.signupForm.phoneNumberWithoutCountryCode:e}),_=(0,r.U)({appointmentDetails:c,appointmentTimespan:l,availableTimes:d,availableSessions:n,isUserBlocked:u,nextAppointment:p,signupForm:g,scheduleId:m}),y=(0,o.xi)("concierge",_);(0,i.x)(["concierge"],y)},"./state/currency-code/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/schema-utils.js");const r=(0,o.xi)("currencyCode",(0,n.G)({type:["string","null"]},(function(e=null,t){switch(t.type){case a.B3j:return Object.values(t.productsList)[0]?.currency_code??e;case a.iRt:return t.plans[0]?.currency_code??e;case a.Rmh:return t.plans[0]?.currencyCode??e;case a.S3d:return Object.values(t.products)[0]?.currency_code??e}return e})));(0,i.x)(["currencyCode"],r)},"./state/current-user/email-verification/actions.js":(e,t,s)=>{s.d(t,{U:()=>p,l:()=>u});var i=s("./state/action-types.ts"),o=s("../packages/i18n-calypso/src/index.js"),a=s("./state/data-layer/handler-registry.js"),n=s("./state/data-layer/wpcom-http/actions.js"),r=s("./state/data-layer/wpcom-http/utils.js"),c=s("./state/notices/actions.ts");const l="email-verification-info-notice",d=(0,r.BN)({fetch:e=>[...e?.showGlobalNotices?[(0,c.hS)((0,o.Iu)("Sending email…"),{id:l,duration:4e3})]:[],(0,n.d)({apiVersion:"1.1",method:"POST",path:"/me/send-verification-email"},e)],onSuccess:e=>[{type:i.YPU},...e?.showGlobalNotices?[(0,c.qq)(l),(0,c.RT)((0,o.Iu)("Email sent"),{id:"email-verification-success-notice",duration:4e3})]:[]],onError:(e,t)=>[{type:i.dAl,message:t.message},...e?.showGlobalNotices?[(0,c.qq)(l),(0,c.tF)((0,o.Iu)("Sorry, we couldn’t send the email."),{id:"email-verification-error-notice",duration:4e3})]:[]]});(0,a.Z9)("state/data-layer/wpcom/me/send-verification-email/index.js",{[i.G1W]:[d]});const u=({showGlobalNotices:e=!1}={})=>({type:i.G1W,showGlobalNotices:e}),p=()=>({type:i.iHL})},"./state/data-layer/wpcom/checklist/index.js":(e,t,s)=>{s.d(t,{wx:()=>l});var i=s("./state/action-types.ts"),o=s("./state/checklist/actions.js"),a=s("./state/data-layer/handler-registry.js"),n=s("./state/data-layer/wpcom-http/actions.js"),r=s("./state/data-layer/wpcom-http/utils.js");const c=()=>{},l={DOMAIN_VERIFIED:"domain_verified",EMAIL_VERIFIED:"email_verified",BLOGNAME_SET:"blogname_set",MOBILE_APP_INSTALLED:"mobile_app_installed",WOOCOMMERCE_SETUP:"woocommerce_setup",SENSEI_SETUP:"sensei_setup",SITE_LAUNCHED:"site_launched",FRONT_PAGE_UPDATED:"front_page_updated",SITE_MENU_UPDATED:"site_menu_updated",SITE_THEME_SELECTED:"site_theme_selected",JETPACK_BACKUPS:"jetpack_backups",JETPACK_MONITOR:"jetpack_monitor",JETPACK_PLUGIN_UPDATES:"jetpack_plugin_updates",JETPACK_SIGN_IN:"jetpack_sign_in",JETPACK_SITE_ACCELERATOR:"jetpack_site_accelerator",JETPACK_LAZY_IMAGES:"jetpack_lazy_images",JETPACK_VIDEO_HOSTING:"jetpack_video_hosting",JETPACK_SEARCH:"jetpack_search",PROFESSIONAL_EMAIL_MAILBOX_CREATED:"professional_email_mailbox_created",BLOG_PREVIEWED:"blog_previewed",THEMES_BROWSED:"themes_browsed",FIRST_POST_PUBLISHED:"first_post_published",POST_SHARING_ENABLED:"post_sharing_enabled"},d=e=>{const t=e?.body??e;if(!t)throw new TypeError("Missing 'body' property on API response");return Array.isArray(t.tasks)||(t.tasks=Object.keys(t.tasks).map((e=>{const{completed:s,...i}=t.tasks[e];return{id:e,isCompleted:s,...i}}))),{designType:t.designType,phase2:t.phase2,segment:t.segment,tasks:t.tasks.filter((e=>Object.values(l).includes(e.id)))}},u=(e,t)=>(0,o.NK)(e.siteId,t),p=(0,r.BN)({fetch:e=>(0,n.d)({path:`/sites/${e.siteId}/checklist`,method:"GET",apiVersion:"1.2",query:{http_envelope:1,with_domain_verification:e.isSiteEligibleForFSE?1:0}},e),onSuccess:u,onError:c,fromApi:d}),m=(0,r.BN)({fetch:e=>(0,n.d)({path:`/sites/${e.siteId}/checklist`,method:"POST",apiVersion:"1.1",query:{http_envelope:1},body:{taskId:e.taskId}},e),onSuccess:u,onError:c,fromApi:d});(0,a.Z9)("state/data-layer/wpcom/checklist/index.js",{[i.dAw]:[p],[i.h3U]:[m]})},"./state/editor/image-editor/constants.js":(e,t,s)=>{s.d(t,{Pr:()=>i,V3:()=>o,WC:()=>a});const i={FREE:"FREE",ORIGINAL:"ORIGINAL",ASPECT_1X1:"ASPECT_1X1",ASPECT_16X9:"ASPECT_16X9",ASPECT_4X3:"ASPECT_4X3",ASPECT_3X2:"ASPECT_3X2"},o={WIDTH:50,HEIGHT:50},a=Object.values(i)},"./state/editor/image-editor/reducer.js":(e,t,s)=>{s.d(t,{Rc:()=>l,ZP:()=>d});var i=s("./state/action-types.ts"),o=s("./state/utils/reducer-utils.ts"),a=s("./state/editor/image-editor/constants.js");const n={degrees:0,scaleX:1,scaleY:1},r={src:"",fileName:"default",mimeType:"image/png",title:"default"},c={topBound:0,leftBound:0,bottomBound:100,rightBound:100},l={topRatio:0,leftRatio:0,widthRatio:1,heightRatio:1};const d=(0,o.U)({hasChanges:function(e=!1,t){switch(t.type){case i.R3q:case i.Rev:case i.KM:case i.DEG:return!0;case i.uGF:case i.WfO:return!1;case i.URu:case i.r8n:return e}return e},fileInfo:function(e=r,t){switch(t.type){case i.upe:{const{src:s,fileName:i,mimeType:o,title:a}=t;return{...e,src:s,fileName:i,mimeType:o,title:a}}case i.WfO:return{...e,...r}}return e},transform:function(e=n,t){switch(t.type){case i.KM:return Object.assign({},e,{degrees:(e.degrees-90)%360});case i.DEG:return Object.assign({},e,{scaleX:-e.scaleX});case i.uGF:case i.WfO:return Object.assign({},n)}return e},cropBounds:function(e=c,t){return t.type===i.qoL?Object.assign({},e,{topBound:t.topBound,leftBound:t.leftBound,bottomBound:t.bottomBound,rightBound:t.rightBound}):e},crop:function(e=l,t){switch(t.type){case i.Rev:case i.r8n:return Object.assign({},e,{topRatio:t.topRatio,leftRatio:t.leftRatio,widthRatio:t.widthRatio,heightRatio:t.heightRatio});case i.KM:return{topRatio:1-e.widthRatio-e.leftRatio,leftRatio:e.topRatio,widthRatio:e.heightRatio,heightRatio:e.widthRatio};case i.DEG:return Object.assign({},e,{leftRatio:1-e.widthRatio-e.leftRatio});case i.uGF:case i.WfO:return Object.assign({},l)}return e},aspectRatio:function(e=a.Pr.FREE,t){switch(t.type){case i.R3q:case i.URu:return t.ratio;case i.uGF:case i.WfO:{const{additionalData:e={}}=t,{aspectRatio:s}=e;return s&&a.Pr[s]?s:a.Pr.FREE}}return e},originalAspectRatio:(e=null,t)=>{switch(t.type){case i.Rb3:{const{width:e,height:s}=t;return{width:e,height:s}}case i.WfO:return null}return e},imageIsLoading:function(e=!0,t){switch(t.type){case i.Rb3:return!1;case i.WfO:return!0}return e}})},"./state/editor/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/reducer-utils.ts"),r=s("./state/editor/image-editor/reducer.js");const c=(0,n.U)({showError:(e,{type:t})=>t===a.nq_,uploadProgress:(e=null,{type:t,percentage:s})=>a.zSg===t?s:a.htm===t?null:e,url:(e=null,{type:t,posterUrl:s})=>a.htm===t?s:e});const l=(0,n.U)({postId:function(e=null,t){switch(t.type){case a.gQI:return t.postId;case a.cnn:return null;case a.hZH:return e===t.postId?t.savedPost.ID:e}return e},isIframeLoaded:function(e=!1,t){if(t.type===a.rQz){const s=t.isIframeLoaded;return void 0!==s?s:e}return e},iframePort:(e=null,t)=>{if(t.type===a.rQz){return t.isIframeLoaded&&t.iframePort?t.iframePort:null}return e},imageEditor:r.ZP,videoEditor:c}),d=(0,o.xi)("editor",l);(0,i.x)(["editor"],d)},"./state/guided-tours/actions.js":(e,t,s)=>{s.d(t,{$K:()=>n,jQ:()=>r,YD:()=>c,oO:()=>l,Mp:()=>d,tN:()=>u});var i=s("./state/action-types.ts"),o=s("./state/preferences/actions.js"),a=s("./state/preferences/selectors.js");s("./state/guided-tours/init.js"),s("./state/ui/init.js");function n({tour:e,stepName:t,finished:s}){const n={type:i.H6A,shouldShow:!1,shouldReallyShow:!1,tour:e,stepName:t,finished:s};return(t,i)=>{t(function(e,t,s=!1){return(0,o.zZ)("guided-tours-history",[...(0,a.Oz)(e(),"guided-tours-history"),{timestamp:Date.now(),tourName:t,finished:s}])}(i,e,s)),t(n)}}function r({tour:e,stepName:t}){return{type:i.H6A,tour:e,stepName:t,isPaused:!1}}function c(e){return r({tour:e,stepName:"init"})}function l(){return(0,o.zZ)("guided-tours-history",[])}function d(){return{type:i.NFf,isPaused:!0}}function u(){return{type:i.xIA,isPaused:!1}}},"./state/guided-tours/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts");const n=(0,o.xi)("guidedTours",(function(e={},t){switch(t.type){case a.H6A:case a.NFf:case a.xIA:{const{type:s,...i}=t;return{...e,...i}}}return e}));(0,i.x)(["guidedTours"],n)},"./state/inline-support-article/actions.js":(e,t,s)=>{s.d(t,{X:()=>o,J:()=>a});var i=s("./state/action-types.ts");s("./state/inline-support-article/init.js");function o({postId:e,postUrl:t=null,actionLabel:s=null,actionUrl:o=null,blogId:a=null}){return{type:i.iG3,postId:e,postUrl:t,actionLabel:s,actionUrl:o,blogId:a}}function a(){return{type:i.Q2p}}},"./state/inline-support-article/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts");const n=(0,o.xi)("inlineSupportArticle",((e={postId:null,postUrl:null,blogId:null},t)=>{switch(t.type){case a.iG3:{const{postId:e,postUrl:s=null,actionLabel:i=null,actionUrl:o=null,blogId:a=null}=t;return{postUrl:s,postId:e,actionLabel:i,actionUrl:o,blogId:a}}case a.Q2p:return{...e}}return e}));(0,i.x)(["inlineSupportArticle"],n)},"./state/plans/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/schema-utils.js"),r=s("./state/utils/reducer-utils.ts");const c=(0,n.G)({type:"array",items:{type:"object",required:["product_id"],properties:{android_sku:{type:"string"},apple_sku:{type:"string"},available:{type:"string"},bill_period:{type:"number"},bill_period_label:{type:"string"},bundle_product_ids:{type:"array"},cost:{type:"number"},capability:{type:"string"},currency_code:{type:"string"},description:{type:"string"},feature_1:{type:"string"},feature_2:{type:"string"},feature_3:{type:"string"},feature_4:{type:"string"},feature_5:{type:"string"},features_highlight:{type:["null","array"]},formatted_price:{type:"string"},formatted_original_price:{type:"string"},height:{type:"number"},icon:{type:"string"},icon_active:{type:"string"},multi:{type:"number"},original:{type:"number"},price:{type:"string"},product_id:{type:"number"},product_name:{type:"string"},product_name_en:{type:"string"},product_name_short:{type:["string","null"]},product_slug:{type:"string"},product_type:{type:"string"},raw_price:{type:"number"},saving:{type:"number"},shortdesc:{type:"string"},store:{type:["number","null"]},support_document:{type:"string"},tagline:{type:["string","null"]},width:{type:"number"}}}},((e=[],t)=>t.type===a.iRt?t.plans.slice(0):e)),l=(0,r.U)({items:c,requesting:(e=!1,t)=>{switch(t.type){case a.NPC:case a.WM:case a.Xuv:return t.type===a.NPC}return e},error:(e=!1,t)=>{switch(t.type){case a.NPC:case a.WM:return!1;case a.Xuv:return!0}return e}}),d=(0,o.xi)("plans",l);(0,i.x)(["plans"],d)},"./state/plugins/upload/actions.js":(e,t,s)=>{s.d(t,{XI:()=>k,ZN:()=>_,y9:()=>y,oZ:()=>g,GH:()=>h});var i=s("./state/action-types.ts"),o=s("../packages/i18n-calypso/src/index.js"),a=s("../node_modules/lodash-es/find.js"),n=s("../node_modules/lodash-es/includes.js"),r=s("./lib/plugins/constants.js"),c=s("./state/analytics/actions/record.js"),l=s("./state/data-layer/handler-registry.js"),d=s("./state/data-layer/wpcom-http/actions.js"),u=s("./state/data-layer/wpcom-http/utils.js"),p=s("./state/notices/actions.ts");const m=e=>{const t={exists:(0,o.Iu)("This plugin is already installed on your site."),"too large":(0,o.Iu)("The plugin zip file must be smaller than 10MB."),incompatible:(0,o.Iu)("The uploaded file is not a compatible plugin."),unsupported_mime_type:(0,o.Iu)("The uploaded file is not a valid zip."),plugin_malicious:(0,o.Iu)("The uploaded file is identified as malicious.")},s=`${e.error}${e.message}`.toLowerCase(),i=(0,a.Z)(t,((e,t)=>(0,n.Z)(s,t)));return i?(0,p.tF)(i):e.error?(0,p.tF)((0,o.Iu)("Upload problem: %(error)s.",{args:{error:e.error}})):(0,p.tF)((0,o.Iu)("Problem installing the plugin."))};(0,l.Z9)("state/data-layer/wpcom/sites/plugins/new/index.js",{[i.ZxD]:[(0,u.BN)({fetch:e=>{const{siteId:t,file:s}=e;return[(0,c.jN)("calypso_plugin_upload"),(0,d.d)({method:"POST",path:`/sites/${t}/plugins/new`,apiVersion:"1",formData:[["zip[]",s]]},e)]},onSuccess:({siteId:e},t)=>s=>{const{slug:o}=t;s((0,c.jN)("calypso_plugin_upload_complete",{plugin_id:o})),s(_(e,o)),s({type:i.Pk2,action:r.rH,siteId:e,pluginId:t.id,data:t})},onError:({siteId:e},t)=>[(0,c.jN)("calypso_plugin_upload_error",{error_code:t.error,error_message:t.message}),m(t),y(e,t)],onProgress:({siteId:e},{loaded:t,total:s})=>g(e,s?t/s*100:s)})]});s("./state/plugins/init.js");function h(e,t){return{type:i.ZxD,siteId:e,file:t}}function g(e,t){return{type:i.VLi,siteId:e,progress:t}}function _(e,t){return{type:i.VnH,siteId:e,pluginId:t}}function y(e,t){return{type:i.PE7,siteId:e,error:t}}function k(e){return{type:i.YdL,siteId:e}}},"./state/posts/selectors/get-posts-for-query.js":(e,t,s)=>{s.d(t,{I:()=>c});var i=s("../packages/state-utils/src/index.ts"),o=s("../node_modules/lodash-es/includes.js"),a=s("./state/posts/selectors/get-query-manager.js"),n=s("./state/posts/utils/normalize-post-for-display.js"),r=s("./state/posts/utils/get-serialized-posts-query.js");s("./state/posts/init.js");const c=(0,i.P1)(((e,t,s)=>{const i=(0,a.s)(e,t);if(!i)return null;const r=i.getItems(s);return r?(0,o.Z)(r,void 0)?null:r.map(n.Q):null}),(e=>[e.posts.queries,e.posts.allSitesQueries]),((e,t,s)=>(0,r.v)(s,t)))},"./state/posts/selectors/get-query-manager.js":(e,t,s)=>{s.d(t,{s:()=>i});s("./state/posts/init.js");function i(e,t){return t?e.posts.queries[t]||null:e.posts.allSitesQueries}},"./state/posts/utils/normalize-post-for-display.js":(e,t,s)=>{s.d(t,{Q:()=>m});var i=s("../packages/calypso-config/src/index.ts"),o=s("../node_modules/lodash-es/flow.js"),a=s("../node_modules/lodash-es/cloneDeep.js"),n=s("./lib/post-normalizer/rule-content-detect-media.js"),r=s("./lib/post-normalizer/rule-decode-entities.js"),c=s("./lib/post-normalizer/rule-pick-canonical-image.js"),l=s("./lib/post-normalizer/rule-strip-html.js"),d=s("./lib/post-normalizer/rule-with-content-dom.js");const u=(0,o.Z)([r.Z,l.Z,(0,d.Z)([n.Z]),c.Z]),p=new WeakMap;function m(e){if(!e)return null;let t=p.get(e);return t||(t=u((0,a.Z)(e)),i.ZP.isEnabled("page/export")&&(t.rawContent=e.content),p.set(e,t)),t}},"./state/products-list/actions.js":(e,t,s)=>{s.d(t,{r:()=>n});var i=s("./lib/wp/browser.js"),o=s("./state/action-types.ts");const a=e=>({...e,cost:Number(e.cost)});s("./state/currency-code/init.js"),s("./state/products-list/init.js");function n(e={}){return t=>(t({type:o.MT$}),i.Z.req.get("/products",e).then((s=>t(function(e,t=null){const s=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,a(t)])));return{type:o.B3j,productsList:s,productsListType:t}}(s,e.type)))).catch((e=>t({type:o.BiW,error:e}))))}},"./state/products-list/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/schema-utils.js"),r=s("./state/utils/reducer-utils.ts");const c=(0,n.G)({type:"object",additionalProperties:!1,patternProperties:{".+":{type:"object",required:["available","product_id","product_name","product_slug","description","is_domain_registration","cost_display"],properties:{available:{type:"boolean"},product_id:{type:"integer"},product_name:{type:"string"},product_slug:{type:"string"},description:{type:"string"},cost:{type:["number","null"]},is_domain_registration:{type:"boolean"},cost_display:{type:"string"}}}}},((e={},t)=>t.type===a.B3j?t.productsList:e)),l=(0,n.G)({type:["string","null"]},((e=null,t)=>t.type===a.B3j?t.productsListType:e)),d=(0,r.U)({isFetching:(e=!1,t)=>{switch(t.type){case a.MT$:return!0;case a.B3j:case a.BiW:return!1}return e},items:c,type:l}),u=(0,o.xi)("productsList",d);(0,i.x)(["productsList"],u)},"./state/products-list/selectors/is-products-list-fetching.js":(e,t,s)=>{s.d(t,{$:()=>i});s("./state/products-list/init.js");function i(e){return e.productsList.isFetching}},"./state/purchases/selectors/get-site-purchases.ts":(e,t,s)=>{s.d(t,{q:()=>o});var i=s("./state/purchases/selectors/get-purchases.js");s("./state/purchases/init.js");const o=(e,t)=>(0,i.G)(e).filter((e=>e.siteId===t))},"./state/reader/posts/sizes.js":(e,t,s)=>{s.d(t,{fY:()=>i,gY:()=>o,Ws:()=>a,ml:()=>n,y_:()=>r,hM:()=>c,Kt:()=>l,qg:()=>d});const i=600,o=300,a=440,n=85,r=5,c=300,l=144,d=72},"./state/selectors/get-concierge-next-appointment.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../node_modules/lodash-es/get.js");s("./state/concierge/init.js");const o=e=>(0,i.Z)(e,"concierge.nextAppointment",null)},"./state/selectors/get-front-page-editor-url.js":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("./state/selectors/get-editor-url.js"),o=s("./state/selectors/get-site-editor-url.js"),a=s("./state/selectors/get-raw-site.ts");var n=s("./state/sites/selectors/get-site-front-page.js");function r(e,t){const s=(0,n.Z)(e,t);return 0!==s&&(function(e,t){return(0,a.Z)(e,t)?.is_core_site_editor_enabled??!1}(e,t)?(0,o.Z)(e,t):(0,i.Z)(e,t,s,"page"))}},"./state/selectors/get-request.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./state/data-layer/wpcom-http/utils.js");const o=(e,t)=>{const s=e?.dataRequests?.[(0,i.NG)(t)]??{};return{...s,hasLoaded:s.lastUpdated>-1/0,isLoading:"pending"===s.status}}},"./state/selectors/get-selected-editor.js":(e,t,s)=>{s.d(t,{E:()=>r});var i=s("../node_modules/lodash-es/get.js"),o=s("../packages/calypso-config/src/index.ts"),a=s("./state/selectors/is-vip-site.js");s("./state/selected-editor/init.js");const n=(e,t)=>{const s=(0,i.Z)(e,["selectedEditor",t],null);return!(!(0,o._k)("desktop")||!["gutenberg-redirect","gutenberg-redirect-and-style"].includes(s))||!!(0,a.Z)(e,t)},r=(e,t)=>{const s=(0,i.Z)(e,["selectedEditor",t],null);return["gutenberg-iframe","gutenberg-redirect","gutenberg-redirect-and-style","classic"].includes(s)?n(e,t)?"classic":s:null}},"./state/selectors/get-site-checklist.js":(e,t,s)=>{s.d(t,{Z:()=>i});s("./state/checklist/init.js");function i(e,t){return e.checklist?.[t]?.items??null}},"./state/selectors/get-site-editor-url.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("./state/selectors/should-load-gutenframe.js"),o=s("./state/sites/selectors/get-site-admin-url.js"),a=s("./state/sites/selectors/get-site-slug.js");const n=(e,t)=>{const s=(0,o.Z)(e,t);if(!(0,i.F)(e,t))return`${s}site-editor.php`;return`/site-editor/${(0,a.Z)(e,t)}`}},"./state/selectors/is-user-registration-days-within-range.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./state/current-user/selectors.js");function o(e,t,s,o){const a=(0,i.DI)(e);if(!a)return null;const n=((t=t||Date.now())-new Date(a))/864e5;return n>=s&&n<=o}},"./state/sharing/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),o=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),n=s("./state/utils/reducer-utils.ts"),r=s("../node_modules/lodash-es/keyBy.js"),c=s("../node_modules/lodash-es/omit.js"),l=s("../node_modules/lodash-es/without.js"),d=s("./state/utils/schema-utils.js");const u=(0,d.G)({type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",required:["ID"],properties:{ID:{type:"integer"},additional_external_users:{type:"array"},expires:{type:["number","boolean"]},external_ID:{type:["string","null"]},external_display:{type:["string","null"]},external_name:{type:["string","null"]},external_profile_picture:{type:["string","null"]},issued:{type:"string"},label:{type:"string"},meta:{type:"object"},refresh_URL:{type:"string"},service:{type:"string"},sites:{type:"array"},status:{type:"string"},type:{type:"string"},user_ID:{type:"integer"}}}}},((e={},t)=>{switch(t.type){case a.R1e:case a.d$4:{const{connections:e}=t;return{...(0,r.Z)(e,"ID")}}case a.GUG:case a.aty:{const{connection:s}=t;return(0,c.Z)(e,s.ID)}case a.fd:{const{connection:s}=t,{keyring_connection_ID:i,site_ID:o}=s,a=e[i],n=[...a.sites,o.toString()];return{...e,[i]:{...a,sites:n}}}case a.VM$:{const{connection:s}=t,{keyring_connection_ID:i,site_ID:o}=s,a=e[i],n=(0,l.Z)(a.sites,o.toString());return{...e,[i]:{...a,sites:n}}}}return e})),p=(0,n.U)({isFetching:(e=!1,t)=>{switch(t.type){case a.XPd:case a.GJh:return!0;case a.fyW:case a.Xt2:case a.GfP:case a.fdG:return!1}return e},items:u});var m=s("../node_modules/lodash-es/omitBy.js"),h=s("../node_modules/lodash-es/get.js");const g={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","connection_id","status"],properties:{ID:{type:"string"},connection_id:{type:"integer"},message:{type:"string"},share_date:{type:"integer"},result:{type:"object"},url:{type:"string"},status:{type:"string"}}}}};function _(e,t,s,i,o){return void 0!==o&&(e={...(0,h.Z)(t,[s,i],{}),[o]:e}),{...t,[s]:{...(0,h.Z)(t,[s],{}),[i]:e}}}const y=(0,d.G)(g,((e={},t)=>{switch(t.type){case a.zNO:{const{siteId:s,postId:i,actions:o}=t;return _(o,e,s,i)}case a.O9V:{const{siteId:s,postId:i,actionId:o}=t;return _((0,c.Z)((0,h.Z)(e,[s,i],{}),[o]),e,s,i)}case a.tIT:{const{siteId:s,postId:i,items:o}=t;return o.forEach((t=>e=_(t,e,s,i,t.ID))),e}}return e})),k=(0,d.G)(g,((e={},t)=>{if(t.type===a.oVo){const{siteId:s,postId:i,actions:o}=t;return _(o,e,s,i)}return e})),b=(0,n.U)({scheduled:y,published:k,fetchingSharePostActionsScheduled:(e={},t)=>{switch(t.type){case a.zNO:{const{siteId:s,postId:i}=t;return _(!1,e,s,i)}case a.nhq:{const{siteId:s,postId:i}=t;return _(!1,e,s,i)}case a.jI0:{const{siteId:s,postId:i}=t;return _(!0,e,s,i)}}return e},fetchingSharePostActionsPublished:(e={},t)=>{switch(t.type){case a.oVo:{const{siteId:s,postId:i}=t;return _(!1,e,s,i)}case a.Qs_:{const{siteId:s,postId:i}=t;return _(!1,e,s,i)}case a.wOm:{const{siteId:s,postId:i}=t;return _(!0,e,s,i)}}return e},deletingSharePostAction:(e={},t)=>{switch(t.type){case a.O9V:{const{siteId:s,postId:i,actionId:o}=t;return _(!1,e,s,i,o)}case a.wSc:{const{siteId:s,postId:i,actionId:o}=t;return _(!1,e,s,i,o)}case a.fBj:{const{siteId:s,postId:i,actionId:o}=t;return _(!0,e,s,i,o)}}return e},schedulingSharePostActionStatus:(e={},t)=>{switch(t.type){case a.tIT:{const{siteId:s,postId:i,share_date:o}=t;return _({status:"success",shareDate:o},e,s,i)}case a.yb2:{const{siteId:s,postId:i}=t;return _({status:"failure"},e,s,i)}case a.zoI:{const{siteId:s,postId:i}=t;return _({status:"requesting"},e,s,i)}case a.FK:{const{siteId:s,postId:i}=t;return _(void 0,e,s,i)}}return e}}),f=(0,d.G)({type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","site_ID"],properties:{ID:{type:"integer"},site_ID:{type:"integer"},user_ID:{type:"integer"},keyring_connection_ID:{type:"integer"},keyring_connection_user_ID:{type:"integer"},shared:{type:"boolean"},service:{type:"string"},label:{type:"string"},issued:{type:"string"},expires:{type:"string"},external_ID:{type:["string","null"]},external_name:{type:["string","null"]},external_display:{type:["string","null"]},external_profile_picture:{type:["string","null"]},external_profile_URL:{type:["string","null"]},external_follower_count:{type:["integer","null"]},status:{type:"string"},refresh_URL:{type:"string"},meta:{type:"object"}}}},additionalProperties:!1},((e={},t)=>{switch(t.type){case a.Y3H:return{...(0,m.Z)(e,{site_ID:t.siteId}),...(0,r.Z)(t.data.connections,"ID")};case a.fd:{const{connection:s}=t;return{...e,[s.ID]:s}}case a.VM$:{const{connection:{ID:s}}=t;return(0,c.Z)(e,s)}case a.zfO:{const{connection:s}=t;return{...e,[s.ID]:s}}case a.vEz:{const{connection:s}=t;return{...e,[s.ID]:s}}}return e})),v=(0,n.U)({fetchingConnections:(e={},t)=>{switch(t.type){case a.L3k:{const{siteId:s}=t;return{...e,[s]:!0}}case a.Y3H:{const{siteId:s}=t;return{...e,[s]:!1}}case a.c4t:{const{siteId:s}=t;return{...e,[s]:!1}}}return e},fetchedConnections:(e={},t)=>{if(t.type===a.Y3H){const{siteId:s}=t;return{...e,[s]:!0}}return e},connections:f,sharePostStatus:(e={},t)=>{switch(t.type){case a.Q9T:{const{siteId:s,postId:i}=t;return{...e,[s]:{...e[s],[i]:{requesting:!0}}}}case a.MC0:{const{siteId:s,postId:i}=t;return{...e,[s]:{...e[s],[i]:{requesting:!1,success:!0}}}}case a.RH8:{const{siteId:s,postId:i}=t;return{...e,[s]:{...e[s],[i]:{requesting:!1,success:!1,error:!0}}}}case a.FK:{const{siteId:s,postId:i}=t;return{...e,[s]:{...e[s],[i]:void 0}}}}return e},sharePostActions:b}),w=(0,d.G)({type:"object",additionalProperties:!1,patternProperties:{"^[a-z_]+$":{type:"object",required:["ID","connect_URL","description","genericon","icon","jetpack_support","label","multiple_external_user_ID_support","external_users_only","type"],properties:{ID:{type:"string"},connect_URL:{type:"string"},description:{type:"string"},genericon:{type:"object"},icon:{type:"string"},jetpack_module_required:{type:"string"},jetpack_support:{type:"boolean"},label:{type:"string"},multiple_external_user_ID_support:{type:"boolean"},external_users_only:{type:"boolean"},type:{type:"string"}}}}},((e={},t)=>t.type===a.PdP?t.services:e)),Z=(0,n.U)({isFetching:(e=!1,t)=>{switch(t.type){case a.vem:return!0;case a.EI_:case a.flR:return!1}return e},items:w}),x=(0,n.U)({keyring:p,publicize:v,services:Z,expandedService:(e="",t)=>t.type===a.YvY?t.serviceName?t.serviceName:null:e}),j=(0,o.xi)("sharing",x);(0,i.x)(["sharing"],j)},"./state/sharing/publicize/actions.js":(e,t,s)=>{s.d(t,{k7:()=>r,B9:()=>c,jS:()=>l,TW:()=>d,do:()=>u,je:()=>p,Fj:()=>m,WE:()=>h});var i=s("../packages/i18n-calypso/src/index.js"),o=s("./lib/wp/browser.js"),a=s("./state/action-types.ts"),n=s("./state/notices/actions.ts");s("./state/sharing/init.js");function r(e,t){return{type:a.FK,siteId:e,postId:t}}function c(e,t,s,i){return n=>{n({type:a.Q9T,siteId:e,postId:t,skippedConnections:s,message:i});const r={skipped_connections:s??[],message:i};o.Z.req.post({path:`/sites/${e}/posts/${t}/publicize`,body:r,apiNamespace:"wpcom/v2"}).then((s=>{s.results.length?n({type:a.MC0,siteId:e,postId:t}):n({type:a.RH8,siteId:e,postId:t})})).catch((()=>{n({type:a.RH8,siteId:e,postId:t})}))}}function l(e){return t=>(t({type:a.L3k,siteId:e}),o.Z.req.get(`/sites/${e}/publicize-connections`).then((s=>{t(function(e,t){return{type:a.Y3H,siteId:e,data:t}}(e,s)),t({type:a.emL,siteId:e})})).catch((s=>t({type:a.c4t,siteId:e,error:s}))))}function d(e,t){return s=>o.Z.req.get(`/sites/${e}/publicize-connections/${t}`).then((t=>{s({type:a.zfO,connection:t,siteId:e})})).catch((()=>{}))}function u(e,t,s){return r=>{const c={keyring_connection_ID:t,shared:!1};return s&&(c.external_user_ID=s),o.Z.req.post(`/sites/${e}/publicize-connections/new`,c).then((e=>{r({type:a.fd,connection:e}),r((0,n.RT)((0,i.Iu)("The %(service)s account was successfully connected.",{args:{service:e.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"}))})).catch((e=>{r(h(e)),r((0,n.tF)(e.message||(0,i.Iu)("An error occurred while connecting the account.",{context:"Sharing: Publicize connection confirmation"}),{id:"publicize"}))}))}}function p(e,t){return s=>o.Z.req.post(`/sites/${e.site_ID}/publicize-connections/${e.ID}`,t).then((t=>{s({type:a.vEz,connection:t}),s((0,n.RT)((0,i.Iu)("The %(service)s account was successfully updated.",{args:{service:e.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"}))})).catch((t=>{s({type:a.OTz,error:{...t,label:e.label}}),s((0,n.tF)((0,i.Iu)("The %(service)s account was unable to be updated.",{args:{service:t.label},context:"Sharing: Publicize reconnection confirmation"}),{id:"publicize"}))}))}function m(e){return t=>o.Z.req.post(`/sites/${e.site_ID}/publicize-connections/${e.ID}/delete`).then((()=>{t(g(e)),t(_(e))})).catch((s=>{s&&404===s.statusCode&&(t(g(e)),t(_(e))),t({type:a.Xr6,error:{...s,label:e.label}}),t((0,n.tF)((0,i.Iu)("The %(service)s account was unable to be disconnected.",{args:{service:s.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"}))}))}function h(e){return{type:a.lZP,error:e}}function g(e){return{type:a.VM$,connection:e}}function _(e){return(0,n.RT)((0,i.Iu)("The %(service)s account was successfully disconnected.",{args:{service:e.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})}},"./state/sharing/publicize/selectors.js":(e,t,s)=>{s.d(t,{cl:()=>l,S4:()=>d,C_:()=>u,IP:()=>p,Kg:()=>m,ut:()=>h,Pg:()=>g,sI:()=>_,a7:()=>y});var i=s("../packages/state-utils/src/index.ts"),o=s("../node_modules/lodash-es/filter.js"),a=s("../node_modules/lodash-es/get.js"),n=s("./state/current-user/selectors.js"),r=s("./state/selectors/can-current-user.js"),c=s("./state/ui/selectors/get-selected-site-id.js");s("./state/sharing/init.js");const l=(0,i.P1)(((e,t,s)=>(0,o.Z)(e.sharing.publicize.connections,(e=>e.site_ID===t&&(e.shared||e.keyring_connection_user_ID===s)))),(e=>[e.sharing.publicize.connections]));function d(e,t,s,i){return(0,o.Z)(l(e,t,s),{service:i})}function u(e,t,s,i){return(0,o.Z)(d(e,t,s,i),{status:"broken"})}function p(e,t){const s=(0,c.Z)(e),i=(0,n.rc)(e),a=d(e,s,i,t);return(0,r.i)(e,s,"edit_others_posts")?a:(0,o.Z)(a,{user_ID:i})}function m(e,t){return(0,a.Z)(e.sharing.publicize.fetchedConnections,[t],!1)}function h(e,t){return(0,a.Z)(e.sharing.publicize.fetchingConnections,[t],!1)}function g(e,t,s){return(0,a.Z)(e.sharing.publicize.sharePostStatus,[t,s,"requesting"],!1)}function _(e,t,s){return(0,a.Z)(e.sharing.publicize.sharePostStatus,[t,s,"success"],!1)}function y(e,t,s){return!0===(0,a.Z)(e.sharing.publicize.sharePostStatus,[t,s,"error"],!1)}},"./state/site-settings/actions.js":(e,t,s)=>{s.d(t,{xY:()=>r,$5:()=>c,PI:()=>l});var i=s("./lib/wp/browser.js"),o=s("./state/action-types.ts"),a=s("./state/sites/actions.js"),n=s("./state/site-settings/utils.js");s("./state/site-settings/init.js"),s("./state/ui/init.js");function r(e,t){return{type:o.rZJ,siteId:e,settings:t}}function c(e){return t=>(t({type:o.qjt,siteId:e}),i.Z.req.get(`/sites/${e}/settings`,{apiVersion:"1.4"}).then((({name:s,description:i,settings:a})=>{const r={...(0,n.v)(a),blogname:s,blogdescription:i};t(function(e,t){return{type:o.KBY,siteId:e,settings:t}}(e,r)),t({type:o.zVc,siteId:e})})).catch((s=>{t({type:o.cv,siteId:e,error:s})})))}function l(e,t={}){return s=>(s({type:o.Y8Y,siteId:e}),i.Z.req.post("/sites/"+e+"/settings",{apiVersion:"1.4"},t).then((t=>(s(r(e,(0,n.v)(t.updated))),s({type:o.suc,siteId:e}),s((0,a.LV)(e)),t))).catch((t=>(s({type:o.paJ,siteId:e,error:t}),t))))}},"./state/site-settings/utils.js":(e,t,s)=>{function i(e){return Object.keys(e).reduce(((t,s)=>{switch(s){case"default_category":t[s]=parseInt(e[s]);break;case"sharing_show":"object"==typeof e[s]&&null!==e[s]?t[s]=Object.values(e[s]):t[s]=e[s];break;default:t[s]=e[s]}return t}),{})}s.d(t,{v:()=>i})},"./state/sites/launch/actions.js":(e,t,s)=>{s.d(t,{J:()=>f,R:()=>v});var i=s("./lib/url/add-query-args.ts"),o=s("./state/action-types.ts"),a=s("../packages/i18n-calypso/src/index.js"),n=s("./state/automated-transfer/actions.js"),r=s("./state/checklist/actions.js"),c=s("./state/data-layer/handler-registry.js"),l=s("./state/data-layer/wpcom-http/actions.js"),d=s("./state/data-layer/wpcom-http/utils.js"),u=s("./state/notices/actions.ts"),p=s("./state/site-settings/actions.js"),m=s("./state/sites/actions.js");const h=(0,d.BN)({fetch:e=>[(0,u.hS)((0,a.Iu)("Launching your site…"),{duration:1e3}),(0,l.d)({method:"POST",path:`/sites/${e.siteId}/launch`},e)],onSuccess:(e,t)=>[(0,m.wm)(t),(0,p.xY)(t.ID,t.options),(0,r.Ec)(t.ID),(0,n.If)(t.ID),(0,u.RT)((0,a.Iu)("Your site has been launched; now you can share it with the world!"),{duration:5e3})],onError:(e,t)=>(0,u.tF)(t.message,{duration:5e3})});(0,c.Z9)("state/data-layer/wpcom/sites/launch/index.js",{[o.PQk]:[h]});var g=s("./state/selectors/is-unlaunched-site.js"),_=s("./state/sites/domains/selectors.js"),y=s("./state/sites/selectors/get-site-option.ts"),k=s("./state/sites/selectors/is-current-plan-paid.js"),b=s("./state/sites/selectors/get-site-slug.js");const f=e=>({type:o.PQk,siteId:e,meta:{dataLayer:{trackRequest:!0,requestKey:`${o.PQk}-${e}`}}}),v=(e,t=null)=>(s,o)=>{if(!(0,g.Z)(o(),e))return;const a=(0,y.Z)(o(),e,"anchor_podcast");if((0,k.Z)(o(),e)&&(0,_.eT)(o(),e).length>1||a)return void s(f(e));const n=(0,b.Z)(o(),e);window.location.href=(0,i.Z)({siteSlug:n,source:t,hide_initial_query:"yes"},"/start/launch-site")}},"./state/sites/selectors/get-site-front-page.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./state/sites/selectors/get-site-option.ts");function o(e,t){return(0,i.Z)(e,t,"page_on_front")}},"./state/sites/selectors/get-site-url.js":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("./state/selectors/get-raw-site.ts"),o=s("./state/sites/selectors/get-site-option.ts"),a=s("./state/sites/selectors/get-site-slug.js"),n=s("./state/sites/selectors/is-site-conflicting.js");function r(e,t){if((0,o.Z)(e,t,"is_redirect")||(0,n.Z)(e,t))return(0,a.Z)(e,t);const s=(0,i.Z)(e,t);return s?s.URL:null}},"./state/sites/selectors/is-current-plan-paid.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./state/sites/selectors/get-site-plan.ts");function o(e,t){const s=(0,i.Z)(e,t);return s?1!==s.product_id&&2002!==s.product_id:null}},"./state/stats/chart-tabs/actions.js":(e,t,s)=>{s.d(t,{N:()=>p,G:()=>u});var i=s("./state/action-types.ts"),o=s("../node_modules/lodash-es/difference.js"),a=s("./state/data-layer/handler-registry.js"),n=s("./state/data-layer/wpcom-http/actions.js"),r=s("./state/data-layer/wpcom-http/utils.js"),c=s("./lib/make-json-schema-parser/index.js"),l=s("./state/stats/lists/utils.js");const d=(0,c.ZP)({id:"sites-stats-visits-response",title:"Stats Visits Response",type:"object",$schema:"http://json-schema.org/draft-04/schema#",properties:{data:{type:"array",items:{type:"array",items:{type:["integer","string","array"]}}},fields:{type:"array"},unit:{type:"string"}}},l.Dy);(0,a.Z9)("state/data-layer/wpcom/sites/stats/visits/index.js",{[i.cly]:[(0,r.BN)({fetch:e=>{const{chartTab:t,date:s,period:i,quantity:a,siteId:r,statFields:c}=e,l="views"===t?["views","visitors"]:[t],d=(0,o.Z)(c,l);return[(0,n.d)({method:"GET",path:`/sites/${r}/stats/visits`,apiVersion:"1.1",query:{unit:i,date:s,quantity:a,stat_fields:l.join(",")}},e),(0,n.d)({method:"GET",path:`/sites/${r}/stats/visits`,apiVersion:"1.1",query:{unit:i,date:s,quantity:a,stat_fields:d.join(",")}},e)]},onSuccess:({siteId:e,period:t},s)=>p(e,t,s),onError:()=>{},fromApi:d})]});s("./state/stats/init.js");function u({chartTab:e,date:t,period:s,quantity:o,siteId:a,statFields:n}){return{type:i.cly,chartTab:e,date:t,period:s,quantity:o,siteId:a,statFields:n}}function p(e,t,s){return{type:i.iv7,siteId:e,period:t,data:s}}},"./state/stats/chart-tabs/selectors.js":(e,t,s)=>{s.d(t,{O:()=>n,p:()=>r});var i=s("../node_modules/lodash-es/get.js"),o=s("./state/stats/chart-tabs/constants.js");s("./state/stats/init.js");const a=[];function n(e,t,s){return(0,i.Z)(e,["stats","chartTabs","counts",t,s],a)}function r(e,t,s){return o.B.filter((o=>(0,i.Z)(e,["stats","chartTabs","isLoading",t,s,o])))}},"../packages/calypso-products/src/camel-or-snake-slug.ts":(e,t,s)=>{function i(e){return"product_slug"in e?e.product_slug:e.productSlug}s.d(t,{e:()=>i})},"../packages/calypso-products/src/constants/domain.ts":(e,t,s)=>{s.d(t,{c:()=>i});const i={TRANSFER_IN:"domain_transfer"}},"../packages/calypso-products/src/is-custom-design.ts":(e,t,s)=>{s.d(t,{n:()=>o});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts");function o(e){return"custom-design"===(0,i.e)(e)}},"../packages/calypso-products/src/is-difm-product.ts":(e,t,s)=>{s.d(t,{F:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/wpcom.ts");function a(e){return(0,i.e)(e)===o.m6}},"../packages/calypso-products/src/is-domain-mapping.ts":(e,t,s)=>{s.d(t,{I:()=>o});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts");function o(e){return"domain_map"===(0,i.e)(e)}},"../packages/calypso-products/src/is-domain-product.ts":(e,t,s)=>{s.d(t,{p:()=>a});var i=s("../packages/calypso-products/src/is-domain-mapping.ts"),o=s("../packages/calypso-products/src/is-domain-registration.ts");function a(e){return(0,i.I)(e)||(0,o.p)(e)}},"../packages/calypso-products/src/is-domain-registration.ts":(e,t,s)=>{function i(e){return!(!e.is_domain_registration&&!e.isDomainRegistration)}s.d(t,{p:()=>i})},"../packages/calypso-products/src/is-domain-transfer.ts":(e,t,s)=>{s.d(t,{m:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/domain.ts");function a(e){return(0,i.e)(e)===o.c.TRANSFER_IN}},"../packages/calypso-products/src/is-free-plan.ts":(e,t,s)=>{s.d(t,{V:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/wpcom.ts");function a(e){return e&&(0,i.e)(e)===o._d}},"../packages/calypso-products/src/is-google-workspace-product-slug.ts":(e,t,s)=>{s.d(t,{U:()=>o});var i=s("../packages/calypso-products/src/constants/google.ts");function o(e){return[i.wK,i.QP].includes(e)}},"../packages/calypso-products/src/is-gsuite-extra-license-product-slug.ts":(e,t,s)=>{s.d(t,{a:()=>o});var i=s("../packages/calypso-products/src/constants/google.ts");function o(e){return e===i.WN}},"../packages/calypso-products/src/is-gsuite-or-extra-license-product-slug.ts":(e,t,s)=>{s.d(t,{B:()=>a});var i=s("../packages/calypso-products/src/is-gsuite-extra-license-product-slug.ts"),o=s("../packages/calypso-products/src/is-gsuite-product-slug.ts");function a(e){return(0,o.M)(e)||(0,i.a)(e)}},"../packages/calypso-products/src/is-gsuite-or-google-workspace-product-slug.ts":(e,t,s)=>{s.d(t,{n:()=>a});var i=s("../packages/calypso-products/src/is-google-workspace-product-slug.ts"),o=s("../packages/calypso-products/src/is-gsuite-product-slug.ts");function a(e){return(0,o.M)(e)||(0,i.U)(e)}},"../packages/calypso-products/src/is-jetpack-plan-slug.ts":(e,t,s)=>{s.d(t,{g:()=>a});var i=s("../packages/calypso-products/src/constants/jetpack.ts"),o=s("../packages/calypso-products/src/main.ts");function a(e){return(0,o.zV)(e,{group:i.mk})}},"../packages/calypso-products/src/is-jetpack-plan.ts":(e,t,s)=>{s.d(t,{n:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/is-jetpack-plan-slug.ts");function a(e){return(0,o.g)((0,i.e)(e))}},"../packages/calypso-products/src/is-jetpack-product-slug.ts":(e,t,s)=>{s.d(t,{X:()=>o});var i=s("../packages/calypso-products/src/constants/jetpack.ts");function o(e){return i.g1.includes(e)}},"../packages/calypso-products/src/is-no-ads.ts":(e,t,s)=>{s.d(t,{Q:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/wpcom.ts");function a(e){return o.Sz===(0,i.e)(e)}},"../packages/calypso-products/src/is-p2-plus.ts":(e,t,s)=>{s.d(t,{F:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/main.ts");function a(e){return(0,o.xA)((0,i.e)(e))}},"../packages/calypso-products/src/is-plan.ts":(e,t,s)=>{s.d(t,{_:()=>n});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/wpcom.ts"),a=s("../packages/calypso-products/src/main.ts");function n(e){const t=(0,i.e)(e);if((0,a.Vz)(t))return!1;switch(t){case o.HR:case o.f0:return!0;default:return(0,a.zl)().includes(t)}}},"../packages/calypso-products/src/is-pro.ts":(e,t,s)=>{s.d(t,{_:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/main.ts");function a(e){return(0,o.B9)((0,i.e)(e))}},"../packages/calypso-products/src/is-titan-mail.ts":(e,t,s)=>{s.d(t,{$:()=>a});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts"),o=s("../packages/calypso-products/src/constants/titan.ts");function a(e){return o.xB.includes((0,i.e)(e))}},"../packages/calypso-products/src/is-unlimited-themes.ts":(e,t,s)=>{s.d(t,{F:()=>o});var i=s("../packages/calypso-products/src/camel-or-snake-slug.ts");function o(e){return"unlimited_themes"===(0,i.e)(e)}},"../packages/components/src/happiness-engineers-tray/index.tsx":(e,t,s)=>{s.d(t,{O:()=>r});var i=s("../packages/data-stores/src/queries/use-happiness-engineers-query.ts"),o=s("../node_modules/lodash-es/shuffle.js"),a=s("../packages/components/src/gravatar/index.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=({count:e=5,shuffled:t=!0})=>{const{data:s}=(0,i.e)();return(0,n.tZ)("div",{className:"happiness-engineers-tray",children:s&&(t?(0,o.Z)(s):s).slice(0,e).map((e=>(0,n.tZ)(a.K,{user:e,size:42,className:"happiness-engineers-tray__gravatar"},e.avatar_URL)))})}},"../packages/components/src/icons/eye.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var i=s("../node_modules/@wordpress/primitives/build-module/svg/index.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,o.tZ)(i.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.tZ)(i.y$,{d:"m4 13 .67.336.003-.005a2.42 2.42 0 0 1 .094-.17c.071-.122.18-.302.329-.52.298-.435.749-1.017 1.359-1.598C7.673 9.883 9.498 8.75 12 8.75s4.326 1.132 5.545 2.293c.61.581 1.061 1.163 1.36 1.599a8.29 8.29 0 0 1 .422.689l.002.005L20 13l.67-.336v-.003l-.003-.005-.008-.015-.028-.052a9.752 9.752 0 0 0-.489-.794 11.6 11.6 0 0 0-1.562-1.838C17.174 8.617 14.998 7.25 12 7.25S6.827 8.618 5.42 9.957c-.702.669-1.22 1.337-1.563 1.839a9.77 9.77 0 0 0-.516.845l-.008.015-.002.005-.001.002v.001L4 13Zm8 3a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"})})},"../packages/data-stores/src/queries/use-happiness-engineers-query.ts":(e,t,s)=>{s.d(t,{e:()=>a});var i=s("../node_modules/react-query/es/index.js"),o=s("../packages/wpcom-proxy-request/src/index.js");const a=()=>(0,i.useQuery)("happinessEngineers",(async()=>await(0,o.ZP)({path:"/meta/happiness-engineers/",apiVersion:"1.1"})),{refetchOnWindowFocus:!1,staleTime:1/0})},"../packages/onboarding/src/cart/index.tsx":(e,t,s)=>{s.d(t,{sx:()=>b,G0:()=>v,jL:()=>y});var i=s("../packages/calypso-config/src/index.ts"),o=s("../packages/calypso-url/src/url-parts.ts"),a=s("../packages/i18n-utils/src/guess-timezone.ts"),n=s("../packages/i18n-utils/src/utils.ts"),r=s("../node_modules/debug/src/browser.js"),c=s.n(r),l=s("../packages/i18n-calypso/src/index.js"),d=s("../node_modules/lodash-es/startsWith.js"),u=s("../node_modules/lodash-es/isEmpty.js"),p=s("../packages/wpcom-proxy-request/src/index.js"),m=s("../packages/onboarding/src/utils/flows.ts"),h=s("../packages/onboarding/src/setup-tailored-site-after-creation.ts");const g=(0,s("../packages/shopping-cart/src/shopping-cart-manager.ts").k)({getCart:e=>{let t;try{t=window?.location?.pathname}catch{}return(0,p.ZP)({path:`/me/shopping-cart/${e}?source=${t??"unknown"}`,method:"GET",apiVersion:"1.1"})},setCart:(e,t)=>(0,p.ZP)({path:`/me/shopping-cart/${e}`,apiVersion:"1.1",method:"POST",body:t})}),_=c()("calypso:signup:step-actions"),y=async(e,t,s,r,c,u,g,_,y,k,b)=>{const f=k?.meta,v=(0,d.Z)(r,"pub"),w=(({flowToCheck:e,isPurchasingDomainItem:t,themeSlugWithRepo:s,siteUrl:i,siteTitle:o,siteAccentColor:n,useThemeHeadstart:r=!1,siteVisibility:c,username:l,sourceSlug:d})=>{const u=!i;return{blog_name:u?o||l:i.replace(".wordpress.com",""),find_available_url:!!u||!!t,blog_title:o,public:c,options:{designType:"",theme:s,use_theme_annotation:r,default_annotation_as_primary_fallback:!0,site_segment:void 0,site_information:{title:o},site_creation_flow:e,timezone_string:(0,a.Z)(),wpcom_public_coming_soon:0===c?1:0,...d&&{site_source_slug:d},...n&&{site_accent_color:n}},validate:!1}})({flowToCheck:e,isPurchasingDomainItem:s,themeSlugWithRepo:r,siteUrl:f,siteTitle:u,siteAccentColor:g,useThemeHeadstart:_,siteVisibility:c,username:y,sourceSlug:b}),x=(0,l.Yj)(),j=await(0,p.ZP)({path:"/sites/new",apiVersion:"1.1",method:"POST",body:{...w,locale:x,lang_id:(0,n.G3)(x)?.value,client_id:(0,i.ZP)("wpcom_signup_id"),client_secret:(0,i.ZP)("wpcom_signup_key")}});if(!j.success)return;const I=(0,o.A)(j?.blog_details.url).hostname,N=j?.blog_details.blogid,S={siteId:N,siteSlug:I,domainItem:k};return(0,m.ES)(e)&&await(0,h.Y)({siteId:N,flowName:e}),await Z(I,v,r,e,t,k),S};function k(e,t){return{...e,extra:{...e.extra,context:"signup",...t&&{signup_flow:t}}}}async function b(e,t,s,i,o){if((0,u.Z)(o))return;const a=(0,d.Z)(i,"pub");await Z(e,a,i,t,s,o)}const f=async(e,t,s)=>{const i=k(e,s);if(i){_("adding products to cart",i);const e=await g.getCartKeyForSiteSlug(t);try{const t=await g.forCartKey(e).actions.addProductsToCart([i]);_("product add request complete",t)}catch(e){_("product add request had an error",e)}}else _("no cart items to add")};async function v(e,t,s){if(Array.isArray(s)){const i=s.map((e=>k(e,t)));_("adding products to cart",s);const o=await g.getCartKeyForSiteSlug(e);try{const e=await g.forCartKey(o).actions.addProductsToCart(i);_("product add request complete",e)}catch(e){_("product add request had an error",e)}}}async function w(e,t){if((0,u.Z)(t))return;const s=t.split("/")[1];try{await(0,p.ZP)({path:`/sites/${e}/themes/mine`,method:"POST",apiVersion:"1.1",body:{theme:s}})}catch(e){}}async function Z(e,t,s,i,o,a){!o&&t||o&&t?(await w(e,s),a&&await f(a,e,i)):a&&await f(a,e,i)}},"../packages/onboarding/src/setup-tailored-site-after-creation.ts":(e,t,s)=>{s.d(t,{J:()=>l,Y:()=>d});var i=s("../packages/calypso-analytics/src/index.ts"),o=s("../packages/data-stores/src/onboard/index.ts"),a=s("../node_modules/@wordpress/data/build-module/index.js"),n=s("../packages/wpcom-proxy-request/src/index.js"),r=s("../packages/onboarding/src/utils/flows.ts");const c=o.z2(),l=e=>{const t=e.indexOf(";base64,"),s=e.substring(5,t),i=e.substr(t+8),o=atob(i),a=new ArrayBuffer(o.length),n=new Uint8Array(a);for(let e=0;e<o.length;e++)n[e]=o.charCodeAt(e);return new Blob([a],{type:s})};function d({siteId:e,flowName:t}){const s=(0,a.Ys)(c).getPatternContent(),o=(0,a.Ys)(c).getSelectedSiteTitle(),d=(0,a.Ys)(c).getSelectedSiteDescription(),u=(0,a.Ys)(c).getSelectedSiteLogo();if(e&&t){const a=[],c={blogname:o,blogdescription:d};if((0,r.Qw)(t)||(0,r.e6)(t)){if((0,r.I)(t)||(0,r.e6)(t)){if(c.site_intent=(0,r.I)(t)?r.JS:r.hW,s){const e={content:s,template:"blank"};a.push(["pattern",JSON.stringify(e)])}}else c.site_intent=t;c.launchpad_screen="full"}return a.push(["settings",JSON.stringify(c)]),u&&a.push(["site_icon",new File([l(u)],"site-logo.png")]),(0,n.ZP)({path:`/sites/${e}/onboarding-customization`,method:"POST",apiNamespace:"wpcom/v2",apiVersion:"2",formData:a}).then((()=>{(0,i.jN)("calypso_signup_site_options_submit",{has_site_title:!!o,has_tagline:!!d})}))}}},"../packages/wpcom-checkout/src/is-wpcom-product-renewal.ts":(e,t,s)=>{function i(e){return"renewal"===e.extra?.purchaseType}s.d(t,{n:()=>i})},"./assets/images/customer-home/anchor-logo-grey.svg":e=>{e.exports="/calypso/images/../images/anchor-logo-grey-d4c976ee782a4094b694.svg"},"./assets/images/customer-home/disconnected-dark.svg":e=>{e.exports="/calypso/images/../images/disconnected-dark-1243eed337160fd13516.svg"},"./assets/images/customer-home/disconnected.svg":e=>{e.exports="/calypso/images/../images/disconnected-a4b1e73342c1259f35fe.svg"},"./assets/images/customer-home/fiverr-logo-grey.svg":e=>{e.exports="/calypso/images/../images/fiverr-logo-grey-d4016e306dfffdd1a262.svg"},"./assets/images/customer-home/home-education-store.svg":e=>{e.exports="/calypso/images/../images/home-education-store-8747bb4983715d46b900.svg"},"./assets/images/customer-home/illustration--blaze.svg":e=>{e.exports="/calypso/images/../images/illustration--blaze-ff6cf83b4d50076dea2e.svg"},"./assets/images/customer-home/illustration--checklist-complete.svg":e=>{e.exports="/calypso/images/../images/illustration--checklist-complete-34d47a1b9eec4fb057d1.svg"},"./assets/images/customer-home/illustration--fireworks-v2.svg":e=>{e.exports="/calypso/images/../images/illustration--fireworks-v2-d06fc155964cc89c1a5d.svg"},"./assets/images/customer-home/illustration--import-complete.svg":e=>{e.exports="/calypso/images/../images/illustration--import-complete-03328081f25c2b7840e6.svg"},"./assets/images/customer-home/illustration--megaphone.svg":e=>{e.exports="/calypso/images/../images/illustration--megaphone-42bb758fed62ed48b85f.svg"},"./assets/images/customer-home/illustration--rocket.svg":e=>{e.exports="/calypso/images/../images/illustration--rocket-80c6a8302b8da86353b2.svg"},"./assets/images/customer-home/illustration--secondary-earn.svg":e=>{e.exports="/calypso/images/../images/illustration--secondary-earn-7c6c4c88debd0278eb49.svg"},"./assets/images/customer-home/illustration--secondary-find-success.svg":e=>{e.exports="/calypso/images/../images/illustration--secondary-find-success-877769d240a5050cd496.svg"},"./assets/images/customer-home/illustration--secondary-free-photo-library.svg":e=>{e.exports="/calypso/images/../images/illustration--secondary-free-photo-library-00e2b71646ff6c82b890.svg"},"./assets/images/customer-home/illustration--secondary-respond-to-customer-feedback.svg":e=>{e.exports="/calypso/images/../images/illustration--secondary-respond-to-customer-feedback-aab506b320ccf40288a4.svg"},"./assets/images/customer-home/illustration--secondary-start-learning.svg":e=>{e.exports="/calypso/images/../images/illustration--secondary-start-learning-2d681f6fdde62dc13bd6.svg"},"./assets/images/customer-home/illustration--secondary-wp-learn.png":e=>{e.exports="/calypso/images/../images/illustration--secondary-wp-learn-834f71ef243b1c3b6725.png"},"./assets/images/customer-home/illustration--seller.svg":e=>{e.exports="/calypso/images/../images/illustration--seller-0025e3427f73ab36f672.svg"},"./assets/images/customer-home/illustration--task-connect-social-accounts.svg":e=>{e.exports="/calypso/images/../images/illustration--task-connect-social-accounts-af96d7740d6198fbc8c5.svg"},"./assets/images/customer-home/illustration--task-earn.svg":e=>{e.exports="/calypso/images/../images/illustration--task-earn-1e600520a52bdd50669f.svg"},"./assets/images/customer-home/illustration--task-find-domain.svg":e=>{e.exports="/calypso/images/../images/illustration--task-find-domain-5170ae7aa1b7133d11e8.svg"},"./assets/images/customer-home/illustration--task-fiverr.svg":e=>{e.exports="/calypso/images/../images/illustration--task-fiverr-bde418b3c276c685b334.svg"},"./assets/images/customer-home/illustration-webinars.svg":e=>{e.exports="/calypso/images/../images/illustration-webinars-fb25e2126a5199be7727.svg"},"./assets/images/customer-home/learn-logo.png":e=>{e.exports="/calypso/images/../images/learn-logo-2542b7a0d791a86dfb48.png"},"./assets/images/email-providers/email-illustration.svg":e=>{e.exports="/calypso/images/../images/email-illustration-c29c8ae20ff6cab03998.svg"},"./assets/images/icons/blaze-icon.svg":e=>{e.exports="/calypso/images/../images/blaze-icon-9246a2e57ff2c02ac373.svg"},"./assets/images/jetpack/wp-to-jp-rtl.svg":e=>{e.exports="/calypso/images/../images/wp-to-jp-rtl-340d5e15f902e9f58bd2.svg"},"./assets/images/jetpack/wp-to-jp.svg":e=>{e.exports="/calypso/images/../images/wp-to-jp-25f031bc44b95dbc6729.svg"},"./assets/images/marketplace/built-by-wp-hori-blue.svg":e=>{e.exports="/calypso/images/../images/built-by-wp-hori-blue-1423a5f07b9280c385ed.svg"},"./assets/images/marketplace/diamond.svg":e=>{e.exports="/calypso/images/../images/diamond-bdd5016cdb9ee4410793.svg"},"./assets/images/marketplace/plugins-browser.svg":e=>{e.exports="/calypso/images/../images/plugins-browser-61cbe653d8c644d348ec.svg"},"./assets/images/stats/illustration-stats-intro.svg":e=>{e.exports="/calypso/images/../images/illustration-stats-intro-1bfe1a8a57c97af90509.svg"},"../packages/material-design-icons/svg-sprite/material-icons.svg":e=>{e.exports="/calypso/images/../images/material-icons-72c6081841be88b0af54.svg"}}]);