"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[80930],{"./signup/config/steps-pure.js":(e,t,s)=>{s.d(t,{s:()=>r,Z:()=>d});var i=s("../packages/calypso-config/src/index.ts"),n=s("../packages/calypso-products/src/constants/types.ts"),a=s("../packages/calypso-products/src/constants/wpcom.ts"),p=s("../packages/i18n-calypso/src/index.js");const o=()=>{};function r({addPlanToCart:e=o,addAddOnsToCart:t=o,createAccount:s=o,createSite:r=o,createWpForTeamsSite:d=o,createSiteOrDomain:l=o,createSiteWithCart:c=o,setDesignOnSite:u=o,setThemeOnSite:m=o,setOptionsOnSite:g=o,setStoreFeatures:S=o,setIntentOnSite:h=o,addDomainToCart:f=o,launchSiteApi:D=o,isPlanFulfilled:y=o,isAddOnsFulfilled:b=o,isDomainFulfilled:C=o,isSiteTypeFulfilled:I=o,maybeRemoveStepForUserlessCheckout:v=o,isNewOrExistingSiteFulfilled:N=o,createSiteAndAddDIFMToCart:w=o,excludeStepIfEmailVerified:k=o,excludeStepIfProfileComplete:_=o,submitWebsiteContent:U=o}={}){return{themes:{stepName:"themes",dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],optionalDependencies:["useThemeHeadstart"]},"portfolio-themes":{stepName:"portfolio-themes",props:{designType:"grid"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"template-first-themes":{stepName:"template-first-themes",props:{designType:"template-first",quantity:18},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"]},"themes-site-selected":{stepName:"themes-site-selected",dependencies:["siteSlug","themeSlugWithRepo"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],apiRequestFunction:m,props:{get headerText(){return p.ZP.translate("Choose a theme for your new site.")}}},"domains-launch":{stepName:"domains-launch",apiRequestFunction:f,fulfilledStepCallback:C,providesDependencies:["domainItem","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan"],props:{isDomainOnly:!1,showExampleSuggestions:!1,includeWordPressDotCom:!1,showSkipButton:!0},dependencies:["siteSlug"]},"plans-site-selected":{stepName:"plans-site-selected",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem"]},site:{stepName:"site",apiRequestFunction:r,providesDependencies:["siteSlug"]},user:{stepName:"user",apiRequestFunction:s,providesToken:!0,providesDependencies:["bearer_token","username","marketing_price_group","plans_reorder_abtest_variation","redirect"],optionalDependencies:["plans_reorder_abtest_variation","redirect"],props:{isSocialSignupEnabled:i.ZP.isEnabled("signup/social")}},"user-new":{stepName:"user-new",apiRequestFunction:s,fulfilledStepCallback:v,providesToken:!0,dependencies:["cartItem","domainItem"],providesDependencies:["bearer_token","username","marketing_price_group","plans_reorder_abtest_variation","allowUnauthenticated"],optionalDependencies:["bearer_token","username","marketing_price_group","plans_reorder_abtest_variation","allowUnauthenticated"],props:{isSocialSignupEnabled:i.ZP.isEnabled("signup/social")}},"site-title":{stepName:"site-title",providesDependencies:["siteTitle"]},"site-options":{stepName:"site-options",dependencies:["siteSlug","siteTitle","tagline"],providesDependencies:["siteTitle","tagline"],apiRequestFunction:g,delayApiRequestUntilComplete:!0},"store-options":{stepName:"store-options",dependencies:["siteSlug","siteTitle","tagline"],providesDependencies:["siteTitle","tagline"],apiRequestFunction:g},"store-features":{stepName:"store-features",dependencies:["siteSlug"],apiRequestFunction:S,providesDependencies:["storeType"],optionalDependencies:["storeType"]},"starting-point":{stepName:"starting-point",providesDependencies:["startingPoint"],optionalDependencies:["startingPoint"]},test:{stepName:"test"},plans:{stepName:"plans",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:y},"plans-pm":{stepName:"plans-pm",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:y},"plans-newsletter":{stepName:"plans",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem"],providesDependencies:["cartItem","themeSlugWithRepo","comingSoon"],fulfilledStepCallback:y,props:{themeSlugWithRepo:"pub/lettre",launchSite:!0}},"plans-new":{stepName:"plans",providesDependencies:["cartItem"],fulfilledStepCallback:y},"plans-ecommerce":{stepName:"plans-ecommerce",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:y,props:{hideFreePlan:!0,planTypes:[n.Qj,n.h7]}},"plans-import":{stepName:"plans-import",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:y,props:{planTypes:[n.UH,n.mV,n.Kb,n.Qj]}},"plans-personal":{stepName:"plans-personal",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.sy}},"plans-premium":{stepName:"plans-premium",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.xf}},"plans-business":{stepName:"plans-business",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.p7}},"plans-pro":{stepName:"plans-pro",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a._s}},"plans-starter":{stepName:"plans-starter",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.Id}},"plans-ecommerce-fulfilled":{stepName:"plans-ecommerce-fulfilled",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],defaultDependencies:{cartItem:a.JA,themeSlugWithRepo:"pub/twentytwentytwo"}},"plans-launch":{stepName:"plans-launch",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],props:{isLaunchPage:!0}},"plans-store-nux":{stepName:"plans-store-nux",apiRequestFunction:e,dependencies:["siteSlug","domainItem"],providesDependencies:["cartItem"]},"mailbox-plan":{stepName:"mailbox-plan",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug","emailItem"],providesDependencies:["cartItem"],props:{useEmailOnboardingSubheader:!0}},domains:{stepName:"domains",apiRequestFunction:c,providesDependencies:["siteId","siteSlug","domainItem","themeItem","shouldHideFreePlan","isManageSiteFlow"],optionalDependencies:["shouldHideFreePlan","isManageSiteFlow"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},emails:{stepName:"emails",dependencies:["domainItem","siteSlug"],providesDependencies:["domainItem","emailItem"],props:{isDomainOnly:!1}},mailbox:{stepName:"mailbox",dependencies:["domainItem","siteSlug"],providesDependencies:["domainItem","emailItem"],props:{backUrl:"mailbox-domain/",hideSkip:!0,isDomainOnly:!1}},"domain-only":{stepName:"domain-only",providesDependencies:["siteId","siteSlug","siteUrl","domainItem"],props:{isDomainOnly:!0,forceHideFreeDomainExplainerAndStrikeoutUi:!0}},"select-domain":{stepName:"select-domain",providesDependencies:["siteId","siteSlug","domainItem"],props:{isAllDomains:!0,isDomainOnly:!0,forceHideFreeDomainExplainerAndStrikeoutUi:!0}},"domains-store":{stepName:"domains",apiRequestFunction:c,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1,forceDesignType:"store"},delayApiRequestUntilComplete:!0},"domains-theme-preselected":{stepName:"domains-theme-preselected",apiRequestFunction:c,providesDependencies:["siteId","siteSlug","domainItem","themeItem","useThemeHeadstart","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan","useThemeHeadstart"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"mailbox-domain":{stepName:"mailbox-domain",apiRequestFunction:c,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{forceHideFreeDomainExplainerAndStrikeoutUi:!0,get headerText(){return p.ZP.translate("Choose a domain for your Professional Email")},includeWordPressDotCom:!1,isDomainOnly:!1},delayApiRequestUntilComplete:!0},"oauth2-user":{stepName:"oauth2-user",apiRequestFunction:s,props:{oauth2Signup:!0},providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group","plans_reorder_abtest_variation"],optionalDependencies:["plans_reorder_abtest_variation"]},"oauth2-name":{stepName:"oauth2-name",apiRequestFunction:s,providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group","plans_reorder_abtest_variation"],optionalDependencies:["plans_reorder_abtest_variation"],props:{isSocialSignupEnabled:i.ZP.isEnabled("signup/social"),oauth2Signup:!0,displayNameInput:!0,displayUsernameInput:!1}},"site-or-domain":{stepName:"site-or-domain",props:{get headerText(){return p.ZP.translate("Choose how to use your domain")},get subHeaderText(){return p.ZP.translate("Donâ€™t worry, you can easily add a site later")}},providesDependencies:["designType","siteId","siteSlug","siteUrl","domainItem","themeSlugWithRepo"]},"site-picker":{stepName:"site-picker",apiRequestFunction:l,props:{get headerText(){return p.ZP.translate("Choose your site")}},providesDependencies:["siteId","siteSlug","domainItem","themeSlugWithRepo"],dependencies:["cartItem","designType","domainItem","siteUrl","themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"creds-complete":{stepName:"creds-complete",providesDependencies:[]},"creds-confirm":{stepName:"creds-confirm",providesDependencies:["rewindconfig"]},"creds-permission":{stepName:"creds-permission",providesDependencies:["rewindconfig"]},"rewind-migrate":{stepName:"rewind-migrate",providesDependencies:["rewindconfig"]},"rewind-were-backing":{stepName:"rewind-were-backing",providesDependencies:[]},"rewind-form-creds":{stepName:"rewind-form-creds",providesDependencies:["rewindconfig"]},"clone-start":{stepName:"clone-start",providesDependencies:["originSiteSlug","originSiteName","originBlogId"]},"clone-destination":{stepName:"clone-destination",providesDependencies:["destinationSiteName","destinationSiteUrl"]},"clone-credentials":{stepName:"clone-credentials",providesDependencies:["roleName"]},"clone-point":{stepName:"clone-point",providesDependencies:["clonePoint"]},"clone-jetpack":{stepName:"clone-jetpack",providesDependencies:["cloneJetpack"]},"clone-ready":{stepName:"clone-ready",providesDependencies:[]},"clone-cloning":{stepName:"clone-cloning",providesDependencies:[]},"from-url":{stepName:"from-url",providesDependencies:["importSiteEngine","importSiteFavicon","importSiteUrl","siteTitle","suggestedDomain","themeSlugWithRepo"]},"reader-landing":{stepName:"reader-landing",providesDependencies:[]},"site-type-with-theme":{stepName:"site-type",providesDependencies:["siteType"],fulfilledStepCallback:I},launch:{stepName:"launch",apiRequestFunction:D,dependencies:["siteSlug"],props:{nonInteractive:!0}},"p2-details":{stepName:"p2-details"},"p2-site":{stepName:"p2-site",apiRequestFunction:d,providesDependencies:["siteSlug"]},"p2-get-started":{stepName:"p2-get-started"},"p2-confirm-email":{stepName:"p2-confirm-email",fulfilledStepCallback:k},"p2-complete-profile":{stepName:"p2-complete-profile",fulfilledStepCallback:_},"p2-join-workspace":{stepName:"p2-join-workspace"},"plans-personal-monthly":{stepName:"plans-personal-monthly",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.wm}},"plans-premium-monthly":{stepName:"plans-premium-monthly",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.OE}},"plans-business-monthly":{stepName:"plans-business-monthly",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.Wg}},"plans-ecommerce-monthly":{stepName:"plans-ecommerce-monthly",apiRequestFunction:e,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],defaultDependencies:{cartItem:a.lv,themeSlugWithRepo:"pub/twentytwentytwo"}},intent:{stepName:"intent",dependencies:["siteSlug"],providesDependencies:["intent"],optionalDependencies:["intent"],apiRequestFunction:h,delayApiRequestUntilComplete:!0},"design-setup-site":{stepName:"design-setup-site",apiRequestFunction:u,delayApiRequestUntilComplete:!0,dependencies:["siteSlug"],providesDependencies:["selectedDesign","selectedSiteCategory"],optionalDependencies:["selectedDesign","selectedSiteCategory"],props:{showDesignPickerCategories:!0,showDesignPickerCategoriesAllFilter:!0}},"new-or-existing-site":{stepName:"new-or-existing-site",fulfilledStepCallback:N,providesDependencies:["newOrExistingSiteChoice","forceAutoGeneratedBlogName"]},"add-ons":{stepName:"add-ons",props:{headerText:p.ZP.translate("Add-ons")},apiRequestFunction:t,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"]},"difm-site-picker":{stepName:"difm-site-picker",props:{headerText:p.ZP.translate("Choose your site?")},providesDependencies:["siteId","siteSlug","newOrExistingSiteChoice","forceAutoGeneratedBlogName"],optionalDependencies:["siteId","siteSlug","newOrExistingSiteChoice","forceAutoGeneratedBlogName"],fulfilledStepCallback:N},"difm-design-setup-site":{stepName:"difm-design-setup-site",apiRequestFunction:w,delayApiRequestUntilComplete:!0,providesDependencies:["selectedDesign","selectedSiteCategory","isLetUsChooseSelected","cartItem","siteSlug"],optionalDependencies:["selectedDesign","isLetUsChooseSelected","cartItem","siteSlug"],props:{hideSkip:!0,hideExternalPreview:!0,useDIFMThemes:!0,showDesignPickerCategories:!0,showDesignPickerCategoriesAllFilter:!0,showLetUsChoose:!0,hideFullScreenPreview:!0,hideDesignTitle:!0,hideDescription:!0,hideBadge:!0}},"difm-options":{stepName:"site-options",providesDependencies:["siteTitle","tagline","searchTerms","newOrExistingSiteChoice"],optionalDependencies:["newOrExistingSiteChoice"],defaultDependencies:{newOrExistingSiteChoice:"existing-site"},props:{hideSkip:!0}},"difm-store-options":{stepName:"site-options",providesDependencies:["siteTitle","tagline","searchTerms","newOrExistingSiteChoice"],optionalDependencies:["newOrExistingSiteChoice"],defaultDependencies:{newOrExistingSiteChoice:"existing-site"},props:{hideSkip:!0}},"difm-page-picker":{stepName:"difm-page-picker",providesDependencies:["selectedPageTitles"],props:{hideSkip:!0}},"social-profiles":{stepName:"social-profiles",providesDependencies:["twitterUrl","facebookUrl","linkedinUrl","instagramUrl"]},"website-content":{stepName:"website-content",dependencies:["siteSlug"],apiRequestFunction:U},courses:{stepName:"courses"},"store-address":{stepName:"store-address",dependencies:["siteSlug","back_to"],optionalDependencies:["back_to"]},"business-info":{stepName:"business-info",dependencies:["siteSlug"]},confirm:{stepName:"confirm",dependencies:["siteSlug"],providesDependencies:["siteConfirmed"]},transfer:{stepName:"transfer",dependencies:["siteSlug","siteConfirmed"]}}}const d=r()},"./signup/difm/constants.tsx":(e,t,s)=>{s.d(t,{s6:()=>i,_:()=>n,rU:()=>a,Xd:()=>p,x0:()=>o,m3:()=>r,Vy:()=>d,XH:()=>l,_r:()=>c,AN:()=>u,FO:()=>m,a:()=>g,hD:()=>S,zQ:()=>h,Q8:()=>f});const i="HOME_PAGE",n="BLOG_PAGE",a="CONTACT_PAGE",p="ABOUT_PAGE",o="PHOTO_GALLERY_PAGE",r="SERVICE_SHOWCASE_PAGE",d="VIDEO_GALLERY_PAGE",l="PORTFOLIO_PAGE",c="FAQ_PAGE",u="SITEMAP_PAGE",m="SERVICES_PAGE",g="TESTIMONIALS_PAGE",S="PRICING_PAGE",h="TEAM_PAGE",f="SHOP_PAGE"},"./state/signup/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),a=s("./state/utils/reducer-utils.ts"),p=s("./state/action-types.ts"),o=s("./state/utils/schema-utils.js");const r={};const d=(0,o.G)({type:"object",properties:{cartItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{product_slug:{type:"string"},free_trial:{type:"boolean"}}}]},designType:{type:"string"},domainItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{is_domain_registration:{type:"boolean"},product_slug:{type:"string"},meta:{type:"string"}}}]},selectedDesign:{fonts:{headings:{type:"string"},base:{type:"string"}},slug:{type:"string"},template:{type:"string"},theme:{type:"string"}},theme:{type:"string"}}},(function(e=r,t){switch(t.type){case p.XXO:return{...e,...t.dependencies};case p.aR7:{const{siteId:t,siteSlug:s,...i}=e;return i}case p._E3:case p.cSD:{const{providedDependencies:s}=t.step;return s?{...e,...s}:e}case p.CHW:return r;default:return e}})),l=[],c=(0,o.G)({type:"string"},((e="",{flowName:t,type:s})=>s===p.m5B?t:e)),u=(0,o.G)({type:"string"},((e="",{flowName:t,type:s})=>s===p.sbx?t:e)),m=(0,o.G)({type:"array",items:{type:"string"}},((e=l,{type:t,steps:s})=>{switch(t){case p.cxI:return Array.from(new Set([...e,...s]));case p.dPJ:{const t=new Set(s);return e.filter((e=>!t.has(e)))}case p.h$p:return l;default:return e}})),g=(0,a.U)({currentFlowName:c,previousFlowName:u,excludedSteps:m}),S=(0,o.G)({type:["string","null"]},((e="",t)=>t.type===p.$Bw?t.data:e)),h=(0,a.U)({suggestedUsername:S});var f=s("../node_modules/debug/src/browser.js"),D=s.n(f),y=s("../node_modules/lodash-es/get.js"),b=s("../node_modules/lodash-es/keyBy.js"),C=s("../node_modules/lodash-es/omit.js"),I=s("./signup/config/steps-pure.js");const v=D()("calypso:state:signup:progress:reducer"),N=(e,t)=>(v(`Adding step ${t.stepName}`),{...e,[t.stepName]:t}),w=(e,t)=>{const{stepName:s,status:i}=t,n=(0,y.Z)(e,s);if(!n)return e;if(v(`Updating step ${s}`),"pending"===i||"completed"===i){const{wasSkipped:i,...a}=n;return{...e,[s]:{...a,...t}}}return{...e,[s]:{...n,...t}}},k=(0,o.G)({type:"object",patternProperties:{"^[w-]+$":{type:"object",properties:{formData:{type:"object",properties:{url:{type:"string"}}},lastUpdated:{type:"number"},status:{type:"string",enum:["completed","processing","pending","in-progress","invalid"]},stepName:{type:"string"}}}}},((e={},t)=>{switch(t.type){case p.$yY:return N(e,t.step);case p.CHW:return((e,{steps:t={}})=>(0,b.Z)(t,"stepName"))(0,t);case p.cSD:return((e,{step:t})=>w(e,{...t,status:"completed"}))(e,t);case p.dOO:return((e,{step:t,errors:s})=>{const i={...t,errors:s,status:"invalid"};return e.hasOwnProperty(t.stepName)?w(e,i):N(e,i)})(e,t);case p.JsI:return((e,{step:t})=>w(e,{...t,status:"processing"}))(e,t);case p.kzi:return((e,{step:t})=>{const s=(0,y.Z)(e,[t.stepName,"status"]);return e.hasOwnProperty(t.stepName)?w(e,{...t,status:"pending"===s&&"setup-site"===t.lastKnownFlow?"in-progress":s}):N(e,{...t,status:"in-progress"})})(e,t);case p._E3:return((e,{step:t})=>{const s=(0,y.Z)(I.Z,[t.stepName,"apiRequestFunction"])?"pending":"completed";return e.hasOwnProperty(t.stepName)?w(e,{...t,status:s}):N(e,{...t,status:s})})(e,t);case p.eUo:return((e,{step:t})=>(0,C.Z)(e,t.stepName))(e,t)}return e})),_=(0,o.G)({type:["string","null"]},((e="",t)=>{switch(t.type){case p.EYW:return t.designType;case p.CHW:return""}return e})),U=(0,o.G)({type:["string","null"]},((e="",t)=>{switch(t.type){case p.gNB:return t.siteTitle;case p.CHW:return""}return e})),E=(0,o.G)({type:["string","null"]},((e="",t)=>{switch(t.type){case p.ik4:return t.siteType;case p.CHW:return""}return e}));var R=s("./state/signup/steps/website-content/actions.ts"),A=s("./state/signup/steps/website-content/constants.tsx");const F=(0,a.U)({designType:_,siteTitle:U,siteType:E,websiteContentCollection:(e=A.E3,t)=>{switch(t.type){case p.fXg:{const{pages:e,siteLogoSection:s,feedbackSection:i}=t.payload;return{...A.E3,websiteContent:{...A.E3.websiteContent,pages:e,siteLogoSection:s,feedbackSection:i}}}case p.srB:return{...e,currentIndex:t.payload};case p.uSW:case p.tqc:return{...e,mediaUploadStates:{...e.mediaUploadStates,[A.pt]:{...e.mediaUploadStates[A.pt],0:t.type===p.tqc?A.vk.UPLOAD_STARTED:A.vk.UPLOAD_FAILED}}};case p.cOk:{const{payload:s}=t,{url:i}=s;return{...e,websiteContent:{...e.websiteContent,siteLogoSection:{siteLogoUrl:i}},mediaUploadStates:{...e.mediaUploadStates,[A.pt]:{...e.mediaUploadStates[A.pt],0:A.vk.UPLOAD_COMPLETED}},hasUnsavedChanges:!0}}case p.uXr:{const{payload:{feedback:s}}=t;return{...e,websiteContent:{...e.websiteContent,feedbackSection:{genericFeedback:s}},hasUnsavedChanges:!0}}case p.X9:return{...e,websiteContent:{...e.websiteContent,siteLogoSection:{siteLogoUrl:""}},mediaUploadStates:{...e.mediaUploadStates,[A.pt]:{...e.mediaUploadStates[A.pt],0:A.vk.UPLOAD_REMOVED}},hasUnsavedChanges:!0};case p.L79:{const{payload:s}=t;return{...e,mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:A.vk.UPLOAD_STARTED}}}}case p.x0C:{const s=t.payload,{pageId:i}=s,n={...e.mediaUploadStates,[i]:{...e.mediaUploadStates[i],[s.mediaIndex]:A.vk.UPLOAD_COMPLETED}},a=e.websiteContent.pages.findIndex((e=>e.id===i)),p=e.websiteContent.pages[a],o=[...p.media],r=p.media[s.mediaIndex];return o.splice(s.mediaIndex,1,{...r,...s.media}),{...e,websiteContent:{...e.websiteContent,pages:[...e.websiteContent.pages.slice(0,a),{...p,media:o},...e.websiteContent.pages.slice(a+1)]},mediaUploadStates:n,hasUnsavedChanges:!0}}case p.HJ4:{const{payload:s}=t;return{...e,mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:A.vk.UPLOAD_FAILED}}}}case p.ume:{const{payload:s}=t,{pageId:i}=s,n=e.websiteContent.pages.findIndex((e=>e.id===i)),a=e.websiteContent.pages[n],p=[...a.media],o=p[s.mediaIndex];return p.splice(s.mediaIndex,1,(0,R.R0)(o.mediaType)),{...e,websiteContent:{...e.websiteContent,pages:[...e.websiteContent.pages.slice(0,n),{...a,media:p},...e.websiteContent.pages.slice(n+1)]},mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:A.vk.UPLOAD_REMOVED}},hasUnsavedChanges:!0}}case p.ge6:{const{payload:s}=t;return{...e,websiteContent:{...e.websiteContent,pages:e.websiteContent.pages.map((e=>s.pageId===e.id?{...e,[s.fieldName]:s.fieldValue}:e))},hasUnsavedChanges:!0}}case p.dkZ:return{...e,hasUnsavedChanges:!1};case p.CHW:return A.E3}return e}}),P=(0,n.xi)("signup",(0,a.U)({dependencyStore:d,optionalDependencies:h,progress:k,steps:F,flow:g}));(0,i.x)(["signup"],P)},"./state/signup/steps/website-content/actions.ts":(e,t,s)=>{s.d(t,{QP:()=>a,pv:()=>p,Kr:()=>o,TN:()=>r,Bu:()=>d,NB:()=>l,rP:()=>c,BD:()=>u,GM:()=>m,uB:()=>g,Fs:()=>S,R0:()=>h,ZU:()=>D,Gj:()=>y});var i=s("./signup/difm/constants.tsx"),n=s("./state/action-types.ts");s("./state/signup/init.js");function a(e){return{type:n.x0C,payload:e}}function p(e){return{type:n.ume,payload:e}}function o(e){return{type:n.L79,payload:e}}function r(e){return{type:n.HJ4,payload:e}}function d(){return{type:n.tqc}}function l(e){return{type:n.cOk,payload:{url:e}}}function c(){return{type:n.uSW}}function u(){return{type:n.X9}}function m(e){return{type:n.uXr,payload:{feedback:e}}}function g(e){return{type:n.ge6,payload:e}}function S(e){return{type:n.srB,payload:e}}function h(e){return{caption:"",url:"",mediaType:e,thumbnailUrl:""}}function f(e,t){const s=function(e){switch(e){case i.Vy:return Array(4).fill(h("VIDEO"));case i.XH:case i.x0:return Array(8).fill(h("IMAGE"));case i.s6:case i._:case i.rU:case i.Xd:case i._r:case i.FO:case i.a:case i.hD:case i.zQ:default:return Array(4).fill(h("IMAGE"))}}(e);return t?.length?t.length>=s.length?t:[...t,...s.slice(0,s.length-t.length)]:s}function D(e,t){const{selectedPageTitles:s,pages:i,siteLogoUrl:a,genericFeedback:p}=e,o=s.map((e=>{const s=i.find((t=>t.id===e));return{id:e,title:t[e],content:s?.content??"",displayEmail:s?.displayEmail||void 0,displayPhone:s?.displayPhone||void 0,displayAddress:s?.displayAddress||void 0,media:f(e,s?.media)}}));return{type:n.fXg,payload:{pages:o,siteLogoSection:{siteLogoUrl:a},feedbackSection:{genericFeedback:p}}}}function y(){return{type:n.dkZ}}},"./state/signup/steps/website-content/constants.tsx":(e,t,s)=>{s.d(t,{pt:()=>i,vk:()=>n,E3:()=>a});const i="logo_section",n={UPLOAD_STARTED:"UPLOAD_STARTED",UPLOAD_COMPLETED:"UPLOAD_COMPLETED",UPLOAD_FAILED:"UPLOAD_FAILED",UPLOAD_REMOVED:"UPLOAD_REMOVED"},a={currentIndex:0,websiteContent:{pages:[],siteLogoSection:{siteLogoUrl:""},feedbackSection:{genericFeedback:""}},mediaUploadStates:{},hasUnsavedChanges:!1}}}]);